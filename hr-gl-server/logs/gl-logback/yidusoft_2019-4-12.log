2019-4-12 10:54:00 http-nio-8081-exec-8 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.* FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 10:54:00 http-nio-8081-exec-8 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 10:54:00 http-nio-8081-exec-8 ERROR 接口 [/cust/sfjl/findCustSfjl] 出现异常，方法：com.yidusoft.project.system.controller.CustSfjlController.findCustSfjl，异常摘要：
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown error 1054
### The error may exist in file [C:\Users\linkb\Desktop\华仁牙科\05.开发\hr-gl-server\target\classes\mapper\CustSfjlMapper.xml]
### The error may involve com.yidusoft.project.system.dao.CustSfjlMapper.findCustSfjl-Inline
### The error occurred while setting parameters
### SQL: SELECT count(0) FROM (SELECT s.* FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown error 1054
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown error 1054
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown error 1054
### The error may exist in file [C:\Users\linkb\Desktop\华仁牙科\05.开发\hr-gl-server\target\classes\mapper\CustSfjlMapper.xml]
### The error may involve com.yidusoft.project.system.dao.CustSfjlMapper.findCustSfjl-Inline
### The error occurred while setting parameters
### SQL: SELECT count(0) FROM (SELECT s.* FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown error 1054
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown error 1054
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:235)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:446)
	at com.sun.proxy.$Proxy97.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:230)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:137)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:75)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:59)
	at com.sun.proxy.$Proxy127.findCustSfjl(Unknown Source)
	at com.yidusoft.project.system.service.impl.CustSfjlServiceImpl.findCustSfjl(CustSfjlServiceImpl.java:26)
	at com.yidusoft.project.system.service.impl.CustSfjlServiceImpl$$FastClassBySpringCGLIB$$7e97c6ec.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:747)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.yidusoft.project.system.service.impl.CustSfjlServiceImpl$$EnhancerBySpringCGLIB$$5b86b3ac.findCustSfjl(<generated>)
	at com.yidusoft.project.system.controller.CustSfjlController.findCustSfjl(CustSfjlController.java:108)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:870)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:776)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:881)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:855)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61)
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108)
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137)
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449)
	at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365)
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362)
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.yidusoft.configurer.CorsFilter.doFilter(CorsFilter.java:41)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:158)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:126)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:111)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:123)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:84)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown error 1054
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:944)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2484)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:493)
	at sun.reflect.GeneratedMethodAccessor164.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy110.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:63)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at sun.reflect.GeneratedMethodAccessor163.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy108.query(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.util.SqlUtil.doIntercept(SqlUtil.java:146)
	at com.github.pagehelper.util.SqlUtil.intercept(SqlUtil.java:84)
	at com.github.pagehelper.PageHelper.intercept(PageHelper.java:50)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at com.sun.proxy.$Proxy107.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)
	at sun.reflect.GeneratedMethodAccessor178.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:433)
	... 89 common frames omitted
2019-4-12 10:54:00 http-nio-8081-exec-3 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 10:54:00 http-nio-8081-exec-3 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 10:54:00 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 10:54:00 http-nio-8081-exec-3 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 10:54:00 http-nio-8081-exec-3 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 10:54:00 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 10:54:30 http-nio-8081-exec-4 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 10:54:30 http-nio-8081-exec-4 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 10:54:30 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 10:54:30 http-nio-8081-exec-4 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 10:54:30 http-nio-8081-exec-4 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 10:54:30 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 10:54:40 http-nio-8081-exec-6 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.* FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 10:54:40 http-nio-8081-exec-6 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 10:54:40 http-nio-8081-exec-6 ERROR 接口 [/cust/sfjl/findCustSfjl] 出现异常，方法：com.yidusoft.project.system.controller.CustSfjlController.findCustSfjl，异常摘要：
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown error 1054
### The error may exist in file [C:\Users\linkb\Desktop\华仁牙科\05.开发\hr-gl-server\target\classes\mapper\CustSfjlMapper.xml]
### The error may involve com.yidusoft.project.system.dao.CustSfjlMapper.findCustSfjl-Inline
### The error occurred while setting parameters
### SQL: SELECT count(0) FROM (SELECT s.* FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown error 1054
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown error 1054
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown error 1054
### The error may exist in file [C:\Users\linkb\Desktop\华仁牙科\05.开发\hr-gl-server\target\classes\mapper\CustSfjlMapper.xml]
### The error may involve com.yidusoft.project.system.dao.CustSfjlMapper.findCustSfjl-Inline
### The error occurred while setting parameters
### SQL: SELECT count(0) FROM (SELECT s.* FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown error 1054
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown error 1054
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:235)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:446)
	at com.sun.proxy.$Proxy97.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:230)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:137)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:75)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:59)
	at com.sun.proxy.$Proxy127.findCustSfjl(Unknown Source)
	at com.yidusoft.project.system.service.impl.CustSfjlServiceImpl.findCustSfjl(CustSfjlServiceImpl.java:26)
	at com.yidusoft.project.system.service.impl.CustSfjlServiceImpl$$FastClassBySpringCGLIB$$7e97c6ec.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:747)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.yidusoft.project.system.service.impl.CustSfjlServiceImpl$$EnhancerBySpringCGLIB$$5b86b3ac.findCustSfjl(<generated>)
	at com.yidusoft.project.system.controller.CustSfjlController.findCustSfjl(CustSfjlController.java:108)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:870)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:776)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:881)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:855)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61)
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108)
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137)
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449)
	at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365)
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362)
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.yidusoft.configurer.CorsFilter.doFilter(CorsFilter.java:41)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:158)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:126)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:111)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:123)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:84)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown error 1054
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:944)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2484)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:493)
	at sun.reflect.GeneratedMethodAccessor164.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy110.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:63)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at sun.reflect.GeneratedMethodAccessor163.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy108.query(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.util.SqlUtil.doIntercept(SqlUtil.java:146)
	at com.github.pagehelper.util.SqlUtil.intercept(SqlUtil.java:84)
	at com.github.pagehelper.PageHelper.intercept(PageHelper.java:50)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at com.sun.proxy.$Proxy107.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)
	at sun.reflect.GeneratedMethodAccessor178.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:433)
	... 89 common frames omitted
2019-4-12 11:01:51 main INFO The following profiles are active: dev
2019-4-12 11:02:00 main DEBUG ==>  Preparing: SELECT * FROM sec_menu sm where deleted=0 AND sm.STANBY_ID1 = '2' ORDER BY SORT 
2019-4-12 11:02:00 main DEBUG ==> Parameters: 
2019-4-12 11:02:00 main DEBUG <==      Total: 48
2019-4-12 11:02:06 localhost-startStop-1 INFO JedisPool注入成功！！
2019-4-12 11:02:06 localhost-startStop-1 INFO redis地址：localhost:6379
2019-4-12 11:02:16 main INFO Started BaseFrameApplication in 30.189 seconds (JVM running for 32.548)
2019-4-12 11:02:20 http-nio-8081-exec-1 DEBUG ==>  Preparing: SELECT * FROM sec_menu WHERE DELETED = 0 AND ENABLED=1 AND STANBY_ID1='2' AND ID_ IN ( SELECT MENU_ID from sec_menu_member WHERE USER_ID =? UNION SELECT MENU_ID FROM sec_menu_role WHERE ROLE_ID IN ( SELECT ROLE_ID FROM sec_role_member m LEFT JOIN sec_role r ON m.ROLE_ID = r.ID_ WHERE m.USER_ID =? AND r.STATE=1 ) UNION SELECT o.MENU_ID FROM sec_menu_org o LEFT JOIN sec_user u ON o.ORG_ID = u.ORG_ID LEFT JOIN sec_org so ON so.ID_ = u.ORG_ID WHERE u.ID_ = ? AND so.STATE=1 ) ORDER BY sort 
2019-4-12 11:02:20 http-nio-8081-exec-1 DEBUG ==> Parameters: 1(String), 1(String), 1(String)
2019-4-12 11:02:20 http-nio-8081-exec-1 DEBUG <==      Total: 26
2019-4-12 11:02:21 http-nio-8081-exec-2 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:02:21 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:02:21 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:02:21 http-nio-8081-exec-5 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:02:21 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:02:21 http-nio-8081-exec-5 DEBUG <==      Total: 6
2019-4-12 11:02:21 http-nio-8081-exec-4 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:02:21 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:02:21 http-nio-8081-exec-4 DEBUG <==      Total: 2
2019-4-12 11:02:21 http-nio-8081-exec-3 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:02:21 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:02:21 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:02:21 http-nio-8081-exec-4 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:02:21 http-nio-8081-exec-4 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:02:21 http-nio-8081-exec-4 DEBUG <==      Total: 2
2019-4-12 11:02:21 http-nio-8081-exec-3 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:02:21 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:02:21 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:02:22 http-nio-8081-exec-7 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:02:22 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:02:22 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:02:22 http-nio-8081-exec-6 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:02:22 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:02:22 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:02:23 http-nio-8081-exec-8 DEBUG ==>  Preparing: select * from sec_menu where ID_='chai-wu-guan-li' limit 1 
2019-4-12 11:02:23 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:02:23 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:02:24 http-nio-8081-exec-10 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name from sec_org where DELETED = 0 and state = 1 and type='门诊' 
2019-4-12 11:02:24 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:02:24 http-nio-8081-exec-10 DEBUG <==      Total: 2
2019-4-12 11:02:24 http-nio-8081-exec-10 DEBUG ==>  Preparing: select ID_ id, USER_NAME name,ORG_ID orgId from sec_user where DELETED = 0 and STANDBY1 = '医生' 
2019-4-12 11:02:24 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:02:24 http-nio-8081-exec-10 DEBUG <==      Total: 10
2019-4-12 11:02:24 http-nio-8081-exec-9 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:02:24 http-nio-8081-exec-9 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:02:24 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:02:24 http-nio-8081-exec-9 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:02:24 http-nio-8081-exec-9 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:02:24 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:02:26 http-nio-8081-exec-1 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:02:26 http-nio-8081-exec-1 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:02:26 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:02:26 http-nio-8081-exec-1 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:02:26 http-nio-8081-exec-1 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String), 0(Integer), 10(Integer)
2019-4-12 11:02:26 http-nio-8081-exec-1 DEBUG <==      Total: 10
2019-4-12 11:02:29 http-nio-8081-exec-4 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:02:29 http-nio-8081-exec-4 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:02:29 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:02:29 http-nio-8081-exec-2 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:02:29 http-nio-8081-exec-2 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:02:29 http-nio-8081-exec-4 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:02:29 http-nio-8081-exec-4 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:02:29 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:02:29 http-nio-8081-exec-2 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:02:29 http-nio-8081-exec-2 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String), 0(Integer), 10(Integer)
2019-4-12 11:02:29 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:02:29 http-nio-8081-exec-2 DEBUG <==      Total: 8
2019-4-12 11:02:31 http-nio-8081-exec-3 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:02:31 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:02:31 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:02:31 http-nio-8081-exec-3 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:02:31 http-nio-8081-exec-3 DEBUG ==> Parameters: 0(Integer), 10(Integer)
2019-4-12 11:02:31 http-nio-8081-exec-3 DEBUG <==      Total: 10
2019-4-12 11:02:31 http-nio-8081-exec-5 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 
2019-4-12 11:02:31 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:02:31 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:02:31 http-nio-8081-exec-5 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 
2019-4-12 11:02:31 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:02:31 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:02:34 http-nio-8081-exec-7 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:02:34 http-nio-8081-exec-7 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:02:34 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:02:34 http-nio-8081-exec-7 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:02:34 http-nio-8081-exec-7 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:02:34 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:02:34 http-nio-8081-exec-6 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:02:34 http-nio-8081-exec-6 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:02:34 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:02:34 http-nio-8081-exec-6 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:02:34 http-nio-8081-exec-6 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String), 0(Integer), 10(Integer)
2019-4-12 11:02:34 http-nio-8081-exec-6 DEBUG <==      Total: 8
2019-4-12 11:02:35 http-nio-8081-exec-10 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:02:35 http-nio-8081-exec-10 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:02:35 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:02:35 http-nio-8081-exec-10 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:02:35 http-nio-8081-exec-10 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:02:35 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:02:35 http-nio-8081-exec-8 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:02:35 http-nio-8081-exec-8 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:02:35 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:02:35 http-nio-8081-exec-8 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:02:35 http-nio-8081-exec-8 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String), 0(Integer), 10(Integer)
2019-4-12 11:02:36 http-nio-8081-exec-8 DEBUG <==      Total: 10
2019-4-12 11:02:38 http-nio-8081-exec-1 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 
2019-4-12 11:02:38 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:02:38 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:02:38 http-nio-8081-exec-1 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 
2019-4-12 11:02:38 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:02:38 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:02:38 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:02:38 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:02:38 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:02:38 http-nio-8081-exec-9 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:02:38 http-nio-8081-exec-9 DEBUG ==> Parameters: 0(Integer), 10(Integer)
2019-4-12 11:02:38 http-nio-8081-exec-9 DEBUG <==      Total: 10
2019-4-12 11:02:40 http-nio-8081-exec-4 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:02:40 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:02:40 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:02:40 http-nio-8081-exec-4 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:02:40 http-nio-8081-exec-4 DEBUG ==> Parameters: 70(Integer), 10(Integer)
2019-4-12 11:02:40 http-nio-8081-exec-4 DEBUG <==      Total: 10
2019-4-12 11:02:43 http-nio-8081-exec-2 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:02:43 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:02:43 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:02:43 http-nio-8081-exec-2 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:02:43 http-nio-8081-exec-2 DEBUG ==> Parameters: 60(Integer), 10(Integer)
2019-4-12 11:02:43 http-nio-8081-exec-2 DEBUG <==      Total: 10
2019-4-12 11:02:45 http-nio-8081-exec-3 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:02:45 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:02:45 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:02:45 http-nio-8081-exec-3 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:02:45 http-nio-8081-exec-3 DEBUG ==> Parameters: 50(Integer), 10(Integer)
2019-4-12 11:02:45 http-nio-8081-exec-3 DEBUG <==      Total: 10
2019-4-12 11:02:47 http-nio-8081-exec-5 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:02:47 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:02:47 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:02:47 http-nio-8081-exec-5 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:02:47 http-nio-8081-exec-5 DEBUG ==> Parameters: 40(Integer), 10(Integer)
2019-4-12 11:02:47 http-nio-8081-exec-5 DEBUG <==      Total: 10
2019-4-12 11:02:49 http-nio-8081-exec-7 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:02:49 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:02:49 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:02:49 http-nio-8081-exec-7 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:02:49 http-nio-8081-exec-7 DEBUG ==> Parameters: 30(Integer), 10(Integer)
2019-4-12 11:02:49 http-nio-8081-exec-7 DEBUG <==      Total: 10
2019-4-12 11:02:51 http-nio-8081-exec-6 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:02:51 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:02:51 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:02:51 http-nio-8081-exec-6 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:02:51 http-nio-8081-exec-6 DEBUG ==> Parameters: 20(Integer), 10(Integer)
2019-4-12 11:02:51 http-nio-8081-exec-6 DEBUG <==      Total: 10
2019-4-12 11:02:53 http-nio-8081-exec-10 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:02:53 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:02:53 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:02:53 http-nio-8081-exec-10 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:02:53 http-nio-8081-exec-10 DEBUG ==> Parameters: 10(Integer), 10(Integer)
2019-4-12 11:02:53 http-nio-8081-exec-10 DEBUG <==      Total: 10
2019-4-12 11:02:54 http-nio-8081-exec-8 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:02:54 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:02:54 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:02:54 http-nio-8081-exec-8 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:02:54 http-nio-8081-exec-8 DEBUG ==> Parameters: 0(Integer), 10(Integer)
2019-4-12 11:02:54 http-nio-8081-exec-8 DEBUG <==      Total: 10
2019-4-12 11:02:56 http-nio-8081-exec-1 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:02:56 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:02:56 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:02:56 http-nio-8081-exec-1 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:02:56 http-nio-8081-exec-1 DEBUG ==> Parameters: 70(Integer), 10(Integer)
2019-4-12 11:02:56 http-nio-8081-exec-1 DEBUG <==      Total: 10
2019-4-12 11:03:11 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:03:11 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:03:11 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:03:11 http-nio-8081-exec-9 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:03:11 http-nio-8081-exec-9 DEBUG ==> Parameters: 60(Integer), 10(Integer)
2019-4-12 11:03:11 http-nio-8081-exec-9 DEBUG <==      Total: 10
2019-4-12 11:06:48 http-nio-8081-exec-5 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:06:48 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:06:48 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:06:48 http-nio-8081-exec-5 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:06:48 http-nio-8081-exec-5 DEBUG ==> Parameters: 0(Integer), 10(Integer)
2019-4-12 11:06:48 http-nio-8081-exec-5 DEBUG <==      Total: 10
2019-4-12 11:06:52 http-nio-8081-exec-7 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:06:52 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:06:52 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:06:52 http-nio-8081-exec-7 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:06:52 http-nio-8081-exec-7 DEBUG ==> Parameters: 0(Integer), 10(Integer)
2019-4-12 11:06:52 http-nio-8081-exec-6 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 
2019-4-12 11:06:52 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:06:52 http-nio-8081-exec-7 DEBUG <==      Total: 10
2019-4-12 11:06:52 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:06:52 http-nio-8081-exec-6 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 
2019-4-12 11:06:52 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:06:52 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:06:55 http-nio-8081-exec-10 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:06:55 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:06:55 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:06:55 http-nio-8081-exec-10 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:06:55 http-nio-8081-exec-10 DEBUG ==> Parameters: 70(Integer), 10(Integer)
2019-4-12 11:06:55 http-nio-8081-exec-10 DEBUG <==      Total: 10
2019-4-12 11:06:59 http-nio-8081-exec-8 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:06:59 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:06:59 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:06:59 http-nio-8081-exec-8 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:06:59 http-nio-8081-exec-8 DEBUG ==> Parameters: 60(Integer), 10(Integer)
2019-4-12 11:06:59 http-nio-8081-exec-8 DEBUG <==      Total: 10
2019-4-12 11:07:05 http-nio-8081-exec-9 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:07:05 http-nio-8081-exec-9 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:07:05 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:07:05 http-nio-8081-exec-1 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:07:05 http-nio-8081-exec-9 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:07:05 http-nio-8081-exec-1 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:07:05 http-nio-8081-exec-9 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:07:05 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:07:05 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:07:05 http-nio-8081-exec-1 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:07:05 http-nio-8081-exec-1 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String), 0(Integer), 10(Integer)
2019-4-12 11:07:05 http-nio-8081-exec-1 DEBUG <==      Total: 10
2019-4-12 11:07:08 http-nio-8081-exec-4 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:07:08 http-nio-8081-exec-4 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:07:08 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:07:08 http-nio-8081-exec-4 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:07:08 http-nio-8081-exec-4 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String), 0(Integer), 10(Integer)
2019-4-12 11:07:08 http-nio-8081-exec-2 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:07:08 http-nio-8081-exec-2 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:07:08 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:07:08 http-nio-8081-exec-4 DEBUG <==      Total: 10
2019-4-12 11:07:08 http-nio-8081-exec-2 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:07:08 http-nio-8081-exec-2 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:07:08 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:07:08 http-nio-8081-exec-5 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:07:08 http-nio-8081-exec-5 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:07:08 http-nio-8081-exec-3 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:07:08 http-nio-8081-exec-3 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:07:08 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:07:08 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:07:08 http-nio-8081-exec-3 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:07:08 http-nio-8081-exec-3 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String), 0(Integer), 10(Integer)
2019-4-12 11:07:08 http-nio-8081-exec-5 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:07:08 http-nio-8081-exec-3 DEBUG <==      Total: 10
2019-4-12 11:07:08 http-nio-8081-exec-5 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:07:08 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:07:10 http-nio-8081-exec-7 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:07:10 http-nio-8081-exec-7 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:07:10 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:07:10 http-nio-8081-exec-7 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:07:10 http-nio-8081-exec-7 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String), 10(Integer), 10(Integer)
2019-4-12 11:07:10 http-nio-8081-exec-7 DEBUG <==      Total: 10
2019-4-12 11:07:11 http-nio-8081-exec-6 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:07:11 http-nio-8081-exec-6 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:07:11 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:07:11 http-nio-8081-exec-6 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:07:11 http-nio-8081-exec-6 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String), 50(Integer), 10(Integer)
2019-4-12 11:07:11 http-nio-8081-exec-6 DEBUG <==      Total: 5
2019-4-12 11:07:16 http-nio-8081-exec-10 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:07:16 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:07:16 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:07:16 http-nio-8081-exec-10 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:07:16 http-nio-8081-exec-10 DEBUG ==> Parameters: 0(Integer), 10(Integer)
2019-4-12 11:07:16 http-nio-8081-exec-10 DEBUG <==      Total: 10
2019-4-12 11:07:16 http-nio-8081-exec-8 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 
2019-4-12 11:07:16 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:07:16 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:07:16 http-nio-8081-exec-8 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 
2019-4-12 11:07:16 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:07:16 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:07:17 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:07:17 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:07:17 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:07:17 http-nio-8081-exec-9 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:07:17 http-nio-8081-exec-9 DEBUG ==> Parameters: 70(Integer), 10(Integer)
2019-4-12 11:07:17 http-nio-8081-exec-9 DEBUG <==      Total: 10
2019-4-12 11:07:23 http-nio-8081-exec-1 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:07:23 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:07:23 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:07:23 http-nio-8081-exec-1 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:07:23 http-nio-8081-exec-1 DEBUG ==> Parameters: 60(Integer), 10(Integer)
2019-4-12 11:07:23 http-nio-8081-exec-1 DEBUG <==      Total: 10
2019-4-12 11:07:25 http-nio-8081-exec-4 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:07:25 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:07:25 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:07:25 http-nio-8081-exec-4 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:07:25 http-nio-8081-exec-4 DEBUG ==> Parameters: 50(Integer), 10(Integer)
2019-4-12 11:07:25 http-nio-8081-exec-4 DEBUG <==      Total: 10
2019-4-12 11:07:32 http-nio-8081-exec-2 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:07:32 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:07:32 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:07:32 http-nio-8081-exec-2 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:07:32 http-nio-8081-exec-2 DEBUG ==> Parameters: 0(Integer), 10(Integer)
2019-4-12 11:07:32 http-nio-8081-exec-2 DEBUG <==      Total: 10
2019-4-12 11:07:32 http-nio-8081-exec-3 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 
2019-4-12 11:07:32 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:07:32 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:07:32 http-nio-8081-exec-3 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 
2019-4-12 11:07:32 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:07:32 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:07:54 http-nio-8081-exec-5 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:07:54 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:07:54 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:07:55 http-nio-8081-exec-7 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:07:55 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:07:55 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:07:55 http-nio-8081-exec-6 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:07:55 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:07:55 http-nio-8081-exec-7 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:07:55 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:07:55 http-nio-8081-exec-6 DEBUG <==      Total: 2
2019-4-12 11:07:55 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:07:55 http-nio-8081-exec-6 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:07:55 http-nio-8081-exec-6 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:07:55 http-nio-8081-exec-6 DEBUG <==      Total: 2
2019-4-12 11:07:55 http-nio-8081-exec-10 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:07:55 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:07:55 http-nio-8081-exec-10 DEBUG <==      Total: 6
2019-4-12 11:07:55 http-nio-8081-exec-8 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:07:55 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:07:55 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:07:55 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:07:55 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:07:55 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:10:21 http-nio-8081-exec-3 DEBUG ==>  Preparing: select * from sec_menu where ID_='chai-wu-guan-li' limit 1 
2019-4-12 11:10:21 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:10:21 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:10:21 http-nio-8081-exec-5 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:10:21 http-nio-8081-exec-5 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:10:21 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:10:21 http-nio-8081-exec-7 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name from sec_org where DELETED = 0 and state = 1 and type='门诊' 
2019-4-12 11:10:21 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:10:21 http-nio-8081-exec-7 DEBUG <==      Total: 2
2019-4-12 11:10:21 http-nio-8081-exec-5 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:10:21 http-nio-8081-exec-5 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:10:21 http-nio-8081-exec-7 DEBUG ==>  Preparing: select ID_ id, USER_NAME name,ORG_ID orgId from sec_user where DELETED = 0 and STANDBY1 = '医生' 
2019-4-12 11:10:21 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:10:21 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:10:21 http-nio-8081-exec-7 DEBUG <==      Total: 10
2019-4-12 11:10:21 http-nio-8081-exec-6 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:10:21 http-nio-8081-exec-6 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:10:21 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:10:21 http-nio-8081-exec-6 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:10:21 http-nio-8081-exec-6 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String), 0(Integer), 10(Integer)
2019-4-12 11:10:21 http-nio-8081-exec-6 DEBUG <==      Total: 10
2019-4-12 11:10:23 http-nio-8081-exec-10 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:10:23 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:10:23 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:10:23 http-nio-8081-exec-8 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:10:23 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:10:23 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:10:23 http-nio-8081-exec-9 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:10:23 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:10:23 http-nio-8081-exec-9 DEBUG <==      Total: 2
2019-4-12 11:10:23 http-nio-8081-exec-8 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:10:23 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:10:23 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:10:23 http-nio-8081-exec-9 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:10:23 http-nio-8081-exec-9 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:10:23 http-nio-8081-exec-9 DEBUG <==      Total: 2
2019-4-12 11:10:23 http-nio-8081-exec-1 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:10:23 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:10:23 http-nio-8081-exec-1 DEBUG <==      Total: 6
2019-4-12 11:10:23 http-nio-8081-exec-4 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:10:23 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:10:23 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:10:23 http-nio-8081-exec-2 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:10:23 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:10:23 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:11:36 http-nio-8081-exec-6 DEBUG ==>  Preparing: select * from sec_menu where ID_='chai-wu-guan-li' limit 1 
2019-4-12 11:11:36 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:11:36 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:11:36 http-nio-8081-exec-10 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:11:36 http-nio-8081-exec-10 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:11:36 http-nio-8081-exec-8 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name from sec_org where DELETED = 0 and state = 1 and type='门诊' 
2019-4-12 11:11:36 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:11:36 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:11:36 http-nio-8081-exec-8 DEBUG <==      Total: 2
2019-4-12 11:11:36 http-nio-8081-exec-10 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:11:36 http-nio-8081-exec-8 DEBUG ==>  Preparing: select ID_ id, USER_NAME name,ORG_ID orgId from sec_user where DELETED = 0 and STANDBY1 = '医生' 
2019-4-12 11:11:36 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:11:36 http-nio-8081-exec-10 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:11:36 http-nio-8081-exec-8 DEBUG <==      Total: 10
2019-4-12 11:11:36 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:11:36 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:11:36 http-nio-8081-exec-9 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:11:36 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:11:36 http-nio-8081-exec-9 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:11:36 http-nio-8081-exec-9 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String), 0(Integer), 10(Integer)
2019-4-12 11:11:36 http-nio-8081-exec-9 DEBUG <==      Total: 10
2019-4-12 11:11:52 http-nio-8081-exec-1 DEBUG ==>  Preparing: select * from sec_menu where ID_='5eaa4b9d-3bf6-43c2-aac6-f4c9cb034167' limit 1 
2019-4-12 11:11:52 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:11:52 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:11:53 http-nio-8081-exec-4 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name from sec_org where DELETED = 0 and state = 1 and type='门诊' 
2019-4-12 11:11:53 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:11:53 http-nio-8081-exec-4 DEBUG <==      Total: 2
2019-4-12 11:11:53 http-nio-8081-exec-2 DEBUG ==>  Preparing: select id_ id,user_name name,org_id clinic from sec_user where standby1='医生' and status = '启用' and deleted = 0 
2019-4-12 11:11:53 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:11:53 http-nio-8081-exec-2 DEBUG <==      Total: 9
2019-4-12 11:11:53 http-nio-8081-exec-4 DEBUG ==>  Preparing: select ID_ id, USER_NAME name,ORG_ID orgId from sec_user where DELETED = 0 and STANDBY1 = '医生' 
2019-4-12 11:11:53 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:11:53 http-nio-8081-exec-4 DEBUG <==      Total: 10
2019-4-12 11:11:53 http-nio-8081-exec-3 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name,PARENT_ID pId,case when id_='122' then 1 else 0 end open from sec_org where DELETED = 0 and state = 1 
2019-4-12 11:11:53 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:11:53 http-nio-8081-exec-3 DEBUG <==      Total: 3
2019-4-12 11:11:53 http-nio-8081-exec-7 DEBUG ==>  Preparing: select c.*,o.ORG_NAME,(select u.USER_NAME from sec_user u where u.ID_=c.doctor) as USER_NAME,(select b.bl_time from cust_bl b where b.cust_id=c.cust_id ORDER BY b.bl_time LIMIT 1) as bl_time ,(select u.USER_NAME from sec_user u where u.ID_=c.early_doctor) as early_doctor_name,(select a.org_name from sec_org a where a.ID_ = c.early_clinic) as early_clinic_name from customer c,sec_org o where c.cust_clinic=o.ID_ 
2019-4-12 11:11:53 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:11:53 http-nio-8081-exec-7 DEBUG <==      Total: 102
2019-4-12 11:12:30 http-nio-8081-exec-5 DEBUG ==>  Preparing: select * from sec_menu where ID_='chai-wu-guan-li' limit 1 
2019-4-12 11:12:30 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:12:30 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:12:30 http-nio-8081-exec-6 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:12:30 http-nio-8081-exec-6 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:12:30 http-nio-8081-exec-10 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name from sec_org where DELETED = 0 and state = 1 and type='门诊' 
2019-4-12 11:12:30 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:12:30 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:12:30 http-nio-8081-exec-10 DEBUG <==      Total: 2
2019-4-12 11:12:30 http-nio-8081-exec-6 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:12:30 http-nio-8081-exec-6 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:12:30 http-nio-8081-exec-10 DEBUG ==>  Preparing: select ID_ id, USER_NAME name,ORG_ID orgId from sec_user where DELETED = 0 and STANDBY1 = '医生' 
2019-4-12 11:12:30 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:12:30 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:12:30 http-nio-8081-exec-10 DEBUG <==      Total: 10
2019-4-12 11:12:30 http-nio-8081-exec-8 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:12:30 http-nio-8081-exec-8 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:12:30 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:12:30 http-nio-8081-exec-8 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:12:30 http-nio-8081-exec-8 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String), 0(Integer), 10(Integer)
2019-4-12 11:12:30 http-nio-8081-exec-8 DEBUG <==      Total: 10
2019-4-12 11:13:12 http-nio-8081-exec-9 DEBUG ==>  Preparing: select * from sec_menu where ID_='5eaa4b9d-3bf6-43c2-aac6-f4c9cb034167' limit 1 
2019-4-12 11:13:12 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:13:12 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:13:12 http-nio-8081-exec-1 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name from sec_org where DELETED = 0 and state = 1 and type='门诊' 
2019-4-12 11:13:12 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:13:12 http-nio-8081-exec-1 DEBUG <==      Total: 2
2019-4-12 11:13:12 http-nio-8081-exec-2 DEBUG ==>  Preparing: select id_ id,user_name name,org_id clinic from sec_user where standby1='医生' and status = '启用' and deleted = 0 
2019-4-12 11:13:12 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:13:12 http-nio-8081-exec-2 DEBUG <==      Total: 9
2019-4-12 11:13:12 http-nio-8081-exec-1 DEBUG ==>  Preparing: select ID_ id, USER_NAME name,ORG_ID orgId from sec_user where DELETED = 0 and STANDBY1 = '医生' 
2019-4-12 11:13:12 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:13:12 http-nio-8081-exec-1 DEBUG <==      Total: 10
2019-4-12 11:13:12 http-nio-8081-exec-1 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name,PARENT_ID pId,case when id_='122' then 1 else 0 end open from sec_org where DELETED = 0 and state = 1 
2019-4-12 11:13:12 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:13:12 http-nio-8081-exec-1 DEBUG <==      Total: 3
2019-4-12 11:13:12 http-nio-8081-exec-4 DEBUG ==>  Preparing: select c.*,o.ORG_NAME,(select u.USER_NAME from sec_user u where u.ID_=c.doctor) as USER_NAME,(select b.bl_time from cust_bl b where b.cust_id=c.cust_id ORDER BY b.bl_time LIMIT 1) as bl_time ,(select u.USER_NAME from sec_user u where u.ID_=c.early_doctor) as early_doctor_name,(select a.org_name from sec_org a where a.ID_ = c.early_clinic) as early_clinic_name from customer c,sec_org o where c.cust_clinic=o.ID_ 
2019-4-12 11:13:12 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:13:12 http-nio-8081-exec-4 DEBUG <==      Total: 102
2019-4-12 11:13:13 http-nio-8081-exec-3 DEBUG ==>  Preparing: select * from sec_menu where ID_='chai-wu-guan-li' limit 1 
2019-4-12 11:13:13 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:13:13 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:13:13 http-nio-8081-exec-7 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:13:13 http-nio-8081-exec-7 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:13:13 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:13:13 http-nio-8081-exec-7 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:13:13 http-nio-8081-exec-7 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:13:13 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:13:13 http-nio-8081-exec-5 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name from sec_org where DELETED = 0 and state = 1 and type='门诊' 
2019-4-12 11:13:13 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:13:13 http-nio-8081-exec-5 DEBUG <==      Total: 2
2019-4-12 11:13:13 http-nio-8081-exec-5 DEBUG ==>  Preparing: select ID_ id, USER_NAME name,ORG_ID orgId from sec_user where DELETED = 0 and STANDBY1 = '医生' 
2019-4-12 11:13:13 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:13:13 http-nio-8081-exec-5 DEBUG <==      Total: 10
2019-4-12 11:13:14 http-nio-8081-exec-6 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:13:14 http-nio-8081-exec-6 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:13:14 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:13:14 http-nio-8081-exec-6 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:13:14 http-nio-8081-exec-6 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String), 0(Integer), 10(Integer)
2019-4-12 11:13:14 http-nio-8081-exec-6 DEBUG <==      Total: 10
2019-4-12 11:13:36 http-nio-8081-exec-10 DEBUG ==>  Preparing: SELECT * FROM sec_menu WHERE DELETED = 0 AND ENABLED=1 AND STANBY_ID1='2' AND ID_ IN ( SELECT MENU_ID from sec_menu_member WHERE USER_ID =? UNION SELECT MENU_ID FROM sec_menu_role WHERE ROLE_ID IN ( SELECT ROLE_ID FROM sec_role_member m LEFT JOIN sec_role r ON m.ROLE_ID = r.ID_ WHERE m.USER_ID =? AND r.STATE=1 ) UNION SELECT o.MENU_ID FROM sec_menu_org o LEFT JOIN sec_user u ON o.ORG_ID = u.ORG_ID LEFT JOIN sec_org so ON so.ID_ = u.ORG_ID WHERE u.ID_ = ? AND so.STATE=1 ) ORDER BY sort 
2019-4-12 11:13:36 http-nio-8081-exec-10 DEBUG ==> Parameters: 1(String), 1(String), 1(String)
2019-4-12 11:13:36 http-nio-8081-exec-10 DEBUG <==      Total: 26
2019-4-12 11:13:36 http-nio-8081-exec-8 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:13:36 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:13:36 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:13:36 http-nio-8081-exec-1 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:13:36 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:13:36 http-nio-8081-exec-9 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:13:36 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:13:36 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:13:36 http-nio-8081-exec-9 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:13:36 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:13:36 http-nio-8081-exec-1 DEBUG <==      Total: 6
2019-4-12 11:13:36 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:13:36 http-nio-8081-exec-2 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:13:36 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:13:36 http-nio-8081-exec-2 DEBUG <==      Total: 2
2019-4-12 11:13:36 http-nio-8081-exec-2 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:13:36 http-nio-8081-exec-2 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:13:36 http-nio-8081-exec-2 DEBUG <==      Total: 2
2019-4-12 11:13:36 http-nio-8081-exec-4 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:13:36 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:13:36 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:13:36 http-nio-8081-exec-3 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:13:36 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:13:36 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:14:02 http-nio-8081-exec-7 DEBUG ==>  Preparing: SELECT * FROM sec_menu WHERE DELETED = 0 AND ENABLED=1 AND STANBY_ID1='2' AND ID_ IN ( SELECT MENU_ID from sec_menu_member WHERE USER_ID =? UNION SELECT MENU_ID FROM sec_menu_role WHERE ROLE_ID IN ( SELECT ROLE_ID FROM sec_role_member m LEFT JOIN sec_role r ON m.ROLE_ID = r.ID_ WHERE m.USER_ID =? AND r.STATE=1 ) UNION SELECT o.MENU_ID FROM sec_menu_org o LEFT JOIN sec_user u ON o.ORG_ID = u.ORG_ID LEFT JOIN sec_org so ON so.ID_ = u.ORG_ID WHERE u.ID_ = ? AND so.STATE=1 ) ORDER BY sort 
2019-4-12 11:14:02 http-nio-8081-exec-7 DEBUG ==> Parameters: 1(String), 1(String), 1(String)
2019-4-12 11:14:02 http-nio-8081-exec-7 DEBUG <==      Total: 26
2019-4-12 11:14:02 http-nio-8081-exec-5 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:14:02 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:14:02 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:14:02 http-nio-8081-exec-6 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:14:02 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:14:02 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:14:02 http-nio-8081-exec-10 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:14:02 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:14:02 http-nio-8081-exec-10 DEBUG <==      Total: 2
2019-4-12 11:14:02 http-nio-8081-exec-6 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:14:02 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:14:02 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:14:02 http-nio-8081-exec-10 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:14:02 http-nio-8081-exec-10 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:14:02 http-nio-8081-exec-10 DEBUG <==      Total: 2
2019-4-12 11:14:02 http-nio-8081-exec-8 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:14:02 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:14:02 http-nio-8081-exec-8 DEBUG <==      Total: 6
2019-4-12 11:14:03 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:14:03 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:14:03 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:14:03 http-nio-8081-exec-1 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:14:03 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:14:03 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:14:05 http-nio-8081-exec-2 DEBUG ==>  Preparing: select * from sec_menu where ID_='chai-wu-guan-li' limit 1 
2019-4-12 11:14:05 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:14:05 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:14:05 http-nio-8081-exec-4 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:14:05 http-nio-8081-exec-4 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:14:05 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:14:05 http-nio-8081-exec-3 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name from sec_org where DELETED = 0 and state = 1 and type='门诊' 
2019-4-12 11:14:05 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:14:05 http-nio-8081-exec-3 DEBUG <==      Total: 2
2019-4-12 11:14:05 http-nio-8081-exec-4 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:14:05 http-nio-8081-exec-4 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:14:05 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:14:05 http-nio-8081-exec-3 DEBUG ==>  Preparing: select ID_ id, USER_NAME name,ORG_ID orgId from sec_user where DELETED = 0 and STANDBY1 = '医生' 
2019-4-12 11:14:05 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:14:05 http-nio-8081-exec-3 DEBUG <==      Total: 10
2019-4-12 11:14:05 http-nio-8081-exec-7 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:14:05 http-nio-8081-exec-7 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:14:05 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:14:05 http-nio-8081-exec-7 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:14:05 http-nio-8081-exec-7 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String), 0(Integer), 10(Integer)
2019-4-12 11:14:05 http-nio-8081-exec-7 DEBUG <==      Total: 10
2019-4-12 11:14:11 http-nio-8081-exec-5 DEBUG ==>  Preparing: select * from sec_menu where ID_='5eaa4b9d-3bf6-43c2-aac6-f4c9cb034167' limit 1 
2019-4-12 11:14:11 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:14:11 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:14:12 http-nio-8081-exec-6 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name from sec_org where DELETED = 0 and state = 1 and type='门诊' 
2019-4-12 11:14:12 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:14:12 http-nio-8081-exec-6 DEBUG <==      Total: 2
2019-4-12 11:14:12 http-nio-8081-exec-10 DEBUG ==>  Preparing: select id_ id,user_name name,org_id clinic from sec_user where standby1='医生' and status = '启用' and deleted = 0 
2019-4-12 11:14:12 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:14:12 http-nio-8081-exec-6 DEBUG ==>  Preparing: select ID_ id, USER_NAME name,ORG_ID orgId from sec_user where DELETED = 0 and STANDBY1 = '医生' 
2019-4-12 11:14:12 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:14:12 http-nio-8081-exec-10 DEBUG <==      Total: 9
2019-4-12 11:14:12 http-nio-8081-exec-6 DEBUG <==      Total: 10
2019-4-12 11:14:12 http-nio-8081-exec-8 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name,PARENT_ID pId,case when id_='122' then 1 else 0 end open from sec_org where DELETED = 0 and state = 1 
2019-4-12 11:14:12 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:14:12 http-nio-8081-exec-8 DEBUG <==      Total: 3
2019-4-12 11:14:12 http-nio-8081-exec-9 DEBUG ==>  Preparing: select c.*,o.ORG_NAME,(select u.USER_NAME from sec_user u where u.ID_=c.doctor) as USER_NAME,(select b.bl_time from cust_bl b where b.cust_id=c.cust_id ORDER BY b.bl_time LIMIT 1) as bl_time ,(select u.USER_NAME from sec_user u where u.ID_=c.early_doctor) as early_doctor_name,(select a.org_name from sec_org a where a.ID_ = c.early_clinic) as early_clinic_name from customer c,sec_org o where c.cust_clinic=o.ID_ 
2019-4-12 11:14:12 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:14:12 http-nio-8081-exec-9 DEBUG <==      Total: 102
2019-4-12 11:15:25 http-nio-8081-exec-3 DEBUG ==>  Preparing: select * from sec_menu where ID_='chai-wu-guan-li' limit 1 
2019-4-12 11:15:25 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:15:25 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:15:25 http-nio-8081-exec-7 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:15:25 http-nio-8081-exec-7 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:15:25 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:15:25 http-nio-8081-exec-5 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name from sec_org where DELETED = 0 and state = 1 and type='门诊' 
2019-4-12 11:15:25 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:15:25 http-nio-8081-exec-5 DEBUG <==      Total: 2
2019-4-12 11:15:25 http-nio-8081-exec-7 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:15:25 http-nio-8081-exec-7 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:15:25 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:15:25 http-nio-8081-exec-5 DEBUG ==>  Preparing: select ID_ id, USER_NAME name,ORG_ID orgId from sec_user where DELETED = 0 and STANDBY1 = '医生' 
2019-4-12 11:15:25 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:15:25 http-nio-8081-exec-5 DEBUG <==      Total: 10
2019-4-12 11:15:25 http-nio-8081-exec-10 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:15:25 http-nio-8081-exec-10 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:15:25 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:15:25 http-nio-8081-exec-10 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:15:25 http-nio-8081-exec-10 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String), 0(Integer), 10(Integer)
2019-4-12 11:15:25 http-nio-8081-exec-10 DEBUG <==      Total: 10
2019-4-12 11:15:30 http-nio-8081-exec-6 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:15:30 http-nio-8081-exec-6 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:15:30 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:15:30 http-nio-8081-exec-6 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:15:30 http-nio-8081-exec-6 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String), 0(Integer), 10(Integer)
2019-4-12 11:15:30 http-nio-8081-exec-6 DEBUG <==      Total: 8
2019-4-12 11:15:30 http-nio-8081-exec-8 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:15:30 http-nio-8081-exec-8 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:15:30 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:15:30 http-nio-8081-exec-8 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:15:30 http-nio-8081-exec-8 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:15:30 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:15:33 http-nio-8081-exec-1 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:15:33 http-nio-8081-exec-1 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:15:33 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:15:33 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:15:33 http-nio-8081-exec-9 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:15:33 http-nio-8081-exec-1 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:15:33 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:15:33 http-nio-8081-exec-1 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:15:33 http-nio-8081-exec-9 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:15:33 http-nio-8081-exec-9 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String), 0(Integer), 10(Integer)
2019-4-12 11:15:33 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:15:33 http-nio-8081-exec-9 DEBUG <==      Total: 8
2019-4-12 11:15:35 http-nio-8081-exec-2 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:15:35 http-nio-8081-exec-2 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:15:35 http-nio-8081-exec-4 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:15:35 http-nio-8081-exec-4 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:15:35 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:15:35 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:15:35 http-nio-8081-exec-2 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:15:35 http-nio-8081-exec-2 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String), 0(Integer), 10(Integer)
2019-4-12 11:15:35 http-nio-8081-exec-4 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:15:35 http-nio-8081-exec-4 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:15:35 http-nio-8081-exec-2 DEBUG <==      Total: 10
2019-4-12 11:15:35 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:15:44 http-nio-8081-exec-3 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:15:44 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:15:44 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:15:44 http-nio-8081-exec-7 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:15:44 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:15:44 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:15:44 http-nio-8081-exec-7 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:15:44 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:15:44 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:15:44 http-nio-8081-exec-5 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:15:44 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:15:44 http-nio-8081-exec-5 DEBUG <==      Total: 2
2019-4-12 11:15:44 http-nio-8081-exec-5 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:15:44 http-nio-8081-exec-5 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:15:44 http-nio-8081-exec-5 DEBUG <==      Total: 2
2019-4-12 11:15:44 http-nio-8081-exec-10 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:15:44 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:15:44 http-nio-8081-exec-10 DEBUG <==      Total: 6
2019-4-12 11:15:44 http-nio-8081-exec-6 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:15:44 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:15:44 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:15:44 http-nio-8081-exec-8 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:15:44 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:15:44 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:15:59 http-nio-8081-exec-1 DEBUG ==>  Preparing: select * from sec_menu where ID_='chai-wu-guan-li' limit 1 
2019-4-12 11:15:59 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:15:59 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:15:59 http-nio-8081-exec-9 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:15:59 http-nio-8081-exec-9 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:15:59 http-nio-8081-exec-4 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name from sec_org where DELETED = 0 and state = 1 and type='门诊' 
2019-4-12 11:15:59 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:15:59 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:15:59 http-nio-8081-exec-4 DEBUG <==      Total: 2
2019-4-12 11:15:59 http-nio-8081-exec-9 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:15:59 http-nio-8081-exec-9 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:15:59 http-nio-8081-exec-4 DEBUG ==>  Preparing: select ID_ id, USER_NAME name,ORG_ID orgId from sec_user where DELETED = 0 and STANDBY1 = '医生' 
2019-4-12 11:15:59 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:15:59 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:15:59 http-nio-8081-exec-4 DEBUG <==      Total: 10
2019-4-12 11:15:59 http-nio-8081-exec-2 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:15:59 http-nio-8081-exec-2 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:15:59 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:15:59 http-nio-8081-exec-2 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:15:59 http-nio-8081-exec-2 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String), 0(Integer), 10(Integer)
2019-4-12 11:15:59 http-nio-8081-exec-2 DEBUG <==      Total: 10
2019-4-12 11:16:20 http-nio-8081-exec-3 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:16:20 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:16:20 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:16:20 http-nio-8081-exec-7 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:16:20 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:16:20 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:16:20 http-nio-8081-exec-5 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:16:20 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:16:20 http-nio-8081-exec-5 DEBUG <==      Total: 2
2019-4-12 11:16:20 http-nio-8081-exec-7 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:16:20 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:16:20 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:16:20 http-nio-8081-exec-5 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:16:20 http-nio-8081-exec-5 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:16:20 http-nio-8081-exec-10 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:16:20 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:16:20 http-nio-8081-exec-5 DEBUG <==      Total: 2
2019-4-12 11:16:20 http-nio-8081-exec-10 DEBUG <==      Total: 6
2019-4-12 11:16:20 http-nio-8081-exec-6 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:16:20 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:16:20 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:16:20 http-nio-8081-exec-8 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:16:20 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:16:20 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:18:02 http-nio-8081-exec-2 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-08' limit 1 
2019-4-12 11:18:02 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:18:02 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:18:03 http-nio-8081-exec-3 DEBUG ==>  Preparing: SELECT ID_ as id,ORG_NAME as name,PARENT_ID as parentId ,1 AS TYPES,'true' open FROM sec_org WHERE DELETED=0 
2019-4-12 11:18:03 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:18:03 http-nio-8081-exec-3 DEBUG <==      Total: 3
2019-4-12 11:18:03 http-nio-8081-exec-7 DEBUG ==>  Preparing: SELECT count(0) FROM sec_user u LEFT JOIN sec_org so ON u.ORG_id = so.ID_ WHERE u.DELETED = 0 
2019-4-12 11:18:03 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:18:03 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:18:03 http-nio-8081-exec-7 DEBUG ==>  Preparing: SELECT u.*,so.TYPE FROM sec_user u LEFT JOIN sec_org so on u.ORG_id = so.ID_ WHERE u.DELETED=0 ORDER BY u.CREATE_TIME DESC limit ?,? 
2019-4-12 11:18:03 http-nio-8081-exec-7 DEBUG ==> Parameters: 0(Integer), 10(Integer)
2019-4-12 11:18:03 http-nio-8081-exec-7 DEBUG <==      Total: 10
2019-4-12 11:18:26 http-nio-8081-exec-5 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:18:26 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:18:26 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:18:26 http-nio-8081-exec-10 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:18:26 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:18:26 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:18:26 http-nio-8081-exec-6 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:18:26 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:18:26 http-nio-8081-exec-6 DEBUG <==      Total: 2
2019-4-12 11:18:26 http-nio-8081-exec-10 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:18:26 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:18:26 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:18:26 http-nio-8081-exec-6 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:18:26 http-nio-8081-exec-8 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:18:26 http-nio-8081-exec-6 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:18:26 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:18:26 http-nio-8081-exec-6 DEBUG <==      Total: 2
2019-4-12 11:18:26 http-nio-8081-exec-8 DEBUG <==      Total: 6
2019-4-12 11:18:26 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:18:26 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:18:26 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:18:26 http-nio-8081-exec-1 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:18:26 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:18:26 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:24:22 http-nio-8081-exec-7 DEBUG ==>  Preparing: SELECT * FROM sec_menu WHERE DELETED = 0 AND ENABLED=1 AND STANBY_ID1='2' AND ID_ IN ( SELECT MENU_ID from sec_menu_member WHERE USER_ID =? UNION SELECT MENU_ID FROM sec_menu_role WHERE ROLE_ID IN ( SELECT ROLE_ID FROM sec_role_member m LEFT JOIN sec_role r ON m.ROLE_ID = r.ID_ WHERE m.USER_ID =? AND r.STATE=1 ) UNION SELECT o.MENU_ID FROM sec_menu_org o LEFT JOIN sec_user u ON o.ORG_ID = u.ORG_ID LEFT JOIN sec_org so ON so.ID_ = u.ORG_ID WHERE u.ID_ = ? AND so.STATE=1 ) ORDER BY sort 
2019-4-12 11:24:22 http-nio-8081-exec-7 DEBUG ==> Parameters: 1(String), 1(String), 1(String)
2019-4-12 11:24:22 http-nio-8081-exec-7 DEBUG <==      Total: 26
2019-4-12 11:24:22 http-nio-8081-exec-5 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:24:22 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:24:22 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:24:23 http-nio-8081-exec-10 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:24:23 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:24:23 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:24:23 http-nio-8081-exec-10 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:24:23 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:24:23 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:24:23 http-nio-8081-exec-6 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:24:23 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:24:23 http-nio-8081-exec-6 DEBUG <==      Total: 2
2019-4-12 11:24:23 http-nio-8081-exec-6 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:24:23 http-nio-8081-exec-6 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:24:23 http-nio-8081-exec-6 DEBUG <==      Total: 2
2019-4-12 11:24:23 http-nio-8081-exec-8 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:24:23 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:24:23 http-nio-8081-exec-8 DEBUG <==      Total: 6
2019-4-12 11:24:23 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:24:23 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:24:23 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:24:23 http-nio-8081-exec-1 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:24:23 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:24:23 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:24:34 http-nio-8081-exec-2 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:24:34 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:24:34 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:24:34 http-nio-8081-exec-4 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:24:34 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:24:34 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:24:34 http-nio-8081-exec-3 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:24:34 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:24:34 http-nio-8081-exec-4 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:24:34 http-nio-8081-exec-3 DEBUG <==      Total: 2
2019-4-12 11:24:34 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:24:34 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:24:34 http-nio-8081-exec-3 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:24:34 http-nio-8081-exec-3 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:24:34 http-nio-8081-exec-3 DEBUG <==      Total: 2
2019-4-12 11:24:34 http-nio-8081-exec-7 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:24:34 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:24:34 http-nio-8081-exec-7 DEBUG <==      Total: 6
2019-4-12 11:24:34 http-nio-8081-exec-5 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:24:34 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:24:34 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:24:34 http-nio-8081-exec-10 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:24:34 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:24:34 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:24:46 http-nio-8081-exec-6 DEBUG ==>  Preparing: select * from sec_menu where ID_='5eaa4b9d-3bf6-43c2-aac6-f4c9cb034167' limit 1 
2019-4-12 11:24:46 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:24:46 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:24:46 http-nio-8081-exec-8 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name from sec_org where DELETED = 0 and state = 1 and type='门诊' 
2019-4-12 11:24:46 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:24:46 http-nio-8081-exec-8 DEBUG <==      Total: 2
2019-4-12 11:24:46 http-nio-8081-exec-9 DEBUG ==>  Preparing: select id_ id,user_name name,org_id clinic from sec_user where standby1='医生' and status = '启用' and deleted = 0 
2019-4-12 11:24:46 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:24:46 http-nio-8081-exec-9 DEBUG <==      Total: 9
2019-4-12 11:24:46 http-nio-8081-exec-8 DEBUG ==>  Preparing: select ID_ id, USER_NAME name,ORG_ID orgId from sec_user where DELETED = 0 and STANDBY1 = '医生' 
2019-4-12 11:24:46 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:24:46 http-nio-8081-exec-8 DEBUG <==      Total: 10
2019-4-12 11:24:46 http-nio-8081-exec-1 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name,PARENT_ID pId,case when id_='122' then 1 else 0 end open from sec_org where DELETED = 0 and state = 1 
2019-4-12 11:24:46 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:24:46 http-nio-8081-exec-1 DEBUG <==      Total: 3
2019-4-12 11:24:46 http-nio-8081-exec-2 DEBUG ==>  Preparing: select c.*,o.ORG_NAME,(select u.USER_NAME from sec_user u where u.ID_=c.doctor) as USER_NAME,(select b.bl_time from cust_bl b where b.cust_id=c.cust_id ORDER BY b.bl_time LIMIT 1) as bl_time ,(select u.USER_NAME from sec_user u where u.ID_=c.early_doctor) as early_doctor_name,(select a.org_name from sec_org a where a.ID_ = c.early_clinic) as early_clinic_name from customer c,sec_org o where c.cust_clinic=o.ID_ 
2019-4-12 11:24:46 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:24:46 http-nio-8081-exec-2 DEBUG <==      Total: 102
2019-4-12 11:24:47 http-nio-8081-exec-4 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:24:47 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:24:47 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:24:47 http-nio-8081-exec-3 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:24:47 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:24:47 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:24:47 http-nio-8081-exec-7 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:24:47 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:24:47 http-nio-8081-exec-7 DEBUG <==      Total: 2
2019-4-12 11:24:47 http-nio-8081-exec-3 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:24:47 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:24:47 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:24:47 http-nio-8081-exec-7 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:24:47 http-nio-8081-exec-7 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:24:47 http-nio-8081-exec-7 DEBUG <==      Total: 2
2019-4-12 11:24:47 http-nio-8081-exec-5 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:24:47 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:24:47 http-nio-8081-exec-5 DEBUG <==      Total: 6
2019-4-12 11:24:47 http-nio-8081-exec-10 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:24:47 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:24:47 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:24:47 http-nio-8081-exec-6 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:24:47 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:24:47 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:24:48 http-nio-8081-exec-9 DEBUG ==>  Preparing: select * from sec_menu where ID_='5eaa4b9d-3bf6-43c2-aac6-f4c9cb034167' limit 1 
2019-4-12 11:24:48 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:24:48 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:24:48 http-nio-8081-exec-8 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name from sec_org where DELETED = 0 and state = 1 and type='门诊' 
2019-4-12 11:24:48 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:24:48 http-nio-8081-exec-8 DEBUG <==      Total: 2
2019-4-12 11:24:48 http-nio-8081-exec-1 DEBUG ==>  Preparing: select id_ id,user_name name,org_id clinic from sec_user where standby1='医生' and status = '启用' and deleted = 0 
2019-4-12 11:24:48 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:24:48 http-nio-8081-exec-1 DEBUG <==      Total: 9
2019-4-12 11:24:48 http-nio-8081-exec-8 DEBUG ==>  Preparing: select ID_ id, USER_NAME name,ORG_ID orgId from sec_user where DELETED = 0 and STANDBY1 = '医生' 
2019-4-12 11:24:48 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:24:48 http-nio-8081-exec-8 DEBUG <==      Total: 10
2019-4-12 11:24:48 http-nio-8081-exec-2 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name,PARENT_ID pId,case when id_='122' then 1 else 0 end open from sec_org where DELETED = 0 and state = 1 
2019-4-12 11:24:48 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:24:48 http-nio-8081-exec-2 DEBUG <==      Total: 3
2019-4-12 11:24:48 http-nio-8081-exec-4 DEBUG ==>  Preparing: select c.*,o.ORG_NAME,(select u.USER_NAME from sec_user u where u.ID_=c.doctor) as USER_NAME,(select b.bl_time from cust_bl b where b.cust_id=c.cust_id ORDER BY b.bl_time LIMIT 1) as bl_time ,(select u.USER_NAME from sec_user u where u.ID_=c.early_doctor) as early_doctor_name,(select a.org_name from sec_org a where a.ID_ = c.early_clinic) as early_clinic_name from customer c,sec_org o where c.cust_clinic=o.ID_ 
2019-4-12 11:24:48 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:24:48 http-nio-8081-exec-4 DEBUG <==      Total: 102
2019-4-12 11:24:48 http-nio-8081-exec-3 DEBUG ==>  Preparing: select * from sec_menu where ID_='chai-wu-guan-li' limit 1 
2019-4-12 11:24:48 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:24:48 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:24:48 http-nio-8081-exec-5 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name from sec_org where DELETED = 0 and state = 1 and type='门诊' 
2019-4-12 11:24:48 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:24:48 http-nio-8081-exec-7 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:24:48 http-nio-8081-exec-7 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:24:48 http-nio-8081-exec-5 DEBUG <==      Total: 2
2019-4-12 11:24:48 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:24:48 http-nio-8081-exec-5 DEBUG ==>  Preparing: select ID_ id, USER_NAME name,ORG_ID orgId from sec_user where DELETED = 0 and STANDBY1 = '医生' 
2019-4-12 11:24:48 http-nio-8081-exec-7 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:24:48 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:24:48 http-nio-8081-exec-7 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:24:48 http-nio-8081-exec-5 DEBUG <==      Total: 10
2019-4-12 11:24:48 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:24:48 http-nio-8081-exec-10 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:24:48 http-nio-8081-exec-10 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:24:48 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:24:48 http-nio-8081-exec-10 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:24:48 http-nio-8081-exec-10 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String), 0(Integer), 10(Integer)
2019-4-12 11:24:48 http-nio-8081-exec-10 DEBUG <==      Total: 10
2019-4-12 11:24:48 http-nio-8081-exec-6 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-50' limit 1 
2019-4-12 11:24:48 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:24:48 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:24:48 http-nio-8081-exec-9 DEBUG ==>  Preparing: select type_id typeId, code, name, parent_id parentId,case when parent_id = '0' or parent_id = 'CD0001' then true else false end open from stock_product_type order by create_time 
2019-4-12 11:24:48 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:24:48 http-nio-8081-exec-9 DEBUG <==      Total: 8
2019-4-12 11:24:49 http-nio-8081-exec-1 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.stock_id, t.clinic_id, t.type_id, t.product_type, t.product_code, t.product_unit, t.product_name, t.product_model, t.product_spec, t.product_brand, t.stock_num, t.stock_num * t.sprice combined, t.end_time, t.sprice, t.money, t.remark, CASE WHEN t.allowance IS NOT NULL THEN t.allowance ELSE 0 END allowance FROM (SELECT stock_id, clinic_id, type_id, product_type, product_code, product_unit, product_name, product_model, product_spec, product_brand, stock_num, end_time, sprice, money, remark, (SELECT sum(allowance) FROM stock_in_out_de WHERE clinic_id = stock.clinic_id AND in_out_code = stock.product_code AND now() > end_time) allowance FROM stock WHERE clinic_id = ? AND stock_num > 0) t) t LEFT JOIN stock_warn b ON b.clinic_id = t.clinic_id AND t.product_code = b.warn_pro_id 
2019-4-12 11:24:49 http-nio-8081-exec-1 DEBUG ==> Parameters: 122(String)
2019-4-12 11:24:49 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:24:49 http-nio-8081-exec-1 DEBUG ==>  Preparing: select t.*,b.warn_num from ( select t.stock_id,t.clinic_id,t.type_id,t.product_type,t.product_code,t.product_unit, t.product_name,t.product_model,t.product_spec,t.product_brand,t.stock_num,t.stock_num*t.sprice combined, t.end_time,t.sprice,t.money,t.remark,case when t.allowance is not null then t.allowance else 0 end allowance from ( select stock_id,clinic_id,type_id,product_type,product_code,product_unit, product_name,product_model,product_spec,product_brand,stock_num, end_time,sprice,money,remark, (select sum(allowance) from stock_in_out_de where clinic_id = stock.clinic_id and in_out_code = stock.product_code and now()>end_time) allowance from stock where clinic_id = ? and stock_num > 0 ) t order by t.product_code ) t left join stock_warn b on b.clinic_id = t.clinic_id and t.product_code = b.warn_pro_id order by product_code limit ?,? 
2019-4-12 11:24:49 http-nio-8081-exec-1 DEBUG ==> Parameters: 122(String), 0(Integer), 10(Integer)
2019-4-12 11:24:49 http-nio-8081-exec-1 DEBUG <==      Total: 10
2019-4-12 11:24:49 http-nio-8081-exec-8 DEBUG ==>  Preparing: select * from sec_menu where ID_='chai-wu-guan-li' limit 1 
2019-4-12 11:24:49 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:24:49 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:24:49 http-nio-8081-exec-4 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name from sec_org where DELETED = 0 and state = 1 and type='门诊' 
2019-4-12 11:24:49 http-nio-8081-exec-2 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:24:49 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:24:49 http-nio-8081-exec-2 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:24:49 http-nio-8081-exec-4 DEBUG <==      Total: 2
2019-4-12 11:24:49 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:24:49 http-nio-8081-exec-4 DEBUG ==>  Preparing: select ID_ id, USER_NAME name,ORG_ID orgId from sec_user where DELETED = 0 and STANDBY1 = '医生' 
2019-4-12 11:24:49 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:24:49 http-nio-8081-exec-2 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:24:49 http-nio-8081-exec-2 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:24:49 http-nio-8081-exec-4 DEBUG <==      Total: 10
2019-4-12 11:24:49 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:24:49 http-nio-8081-exec-3 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:24:49 http-nio-8081-exec-3 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:24:49 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:24:49 http-nio-8081-exec-3 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:24:49 http-nio-8081-exec-3 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String), 0(Integer), 10(Integer)
2019-4-12 11:24:49 http-nio-8081-exec-3 DEBUG <==      Total: 10
2019-4-12 11:24:50 http-nio-8081-exec-5 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-50' limit 1 
2019-4-12 11:24:50 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:24:50 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:24:51 http-nio-8081-exec-7 DEBUG ==>  Preparing: select type_id typeId, code, name, parent_id parentId,case when parent_id = '0' or parent_id = 'CD0001' then true else false end open from stock_product_type order by create_time 
2019-4-12 11:24:51 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:24:51 http-nio-8081-exec-7 DEBUG <==      Total: 8
2019-4-12 11:24:51 http-nio-8081-exec-10 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.stock_id, t.clinic_id, t.type_id, t.product_type, t.product_code, t.product_unit, t.product_name, t.product_model, t.product_spec, t.product_brand, t.stock_num, t.stock_num * t.sprice combined, t.end_time, t.sprice, t.money, t.remark, CASE WHEN t.allowance IS NOT NULL THEN t.allowance ELSE 0 END allowance FROM (SELECT stock_id, clinic_id, type_id, product_type, product_code, product_unit, product_name, product_model, product_spec, product_brand, stock_num, end_time, sprice, money, remark, (SELECT sum(allowance) FROM stock_in_out_de WHERE clinic_id = stock.clinic_id AND in_out_code = stock.product_code AND now() > end_time) allowance FROM stock WHERE clinic_id = ? AND stock_num > 0) t) t LEFT JOIN stock_warn b ON b.clinic_id = t.clinic_id AND t.product_code = b.warn_pro_id 
2019-4-12 11:24:51 http-nio-8081-exec-10 DEBUG ==> Parameters: 122(String)
2019-4-12 11:24:51 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:24:51 http-nio-8081-exec-10 DEBUG ==>  Preparing: select t.*,b.warn_num from ( select t.stock_id,t.clinic_id,t.type_id,t.product_type,t.product_code,t.product_unit, t.product_name,t.product_model,t.product_spec,t.product_brand,t.stock_num,t.stock_num*t.sprice combined, t.end_time,t.sprice,t.money,t.remark,case when t.allowance is not null then t.allowance else 0 end allowance from ( select stock_id,clinic_id,type_id,product_type,product_code,product_unit, product_name,product_model,product_spec,product_brand,stock_num, end_time,sprice,money,remark, (select sum(allowance) from stock_in_out_de where clinic_id = stock.clinic_id and in_out_code = stock.product_code and now()>end_time) allowance from stock where clinic_id = ? and stock_num > 0 ) t order by t.product_code ) t left join stock_warn b on b.clinic_id = t.clinic_id and t.product_code = b.warn_pro_id order by product_code limit ?,? 
2019-4-12 11:24:51 http-nio-8081-exec-10 DEBUG ==> Parameters: 122(String), 0(Integer), 10(Integer)
2019-4-12 11:24:51 http-nio-8081-exec-10 DEBUG <==      Total: 10
2019-4-12 11:24:51 http-nio-8081-exec-6 DEBUG ==>  Preparing: select * from sec_menu where ID_='chai-wu-guan-li' limit 1 
2019-4-12 11:24:51 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:24:51 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:24:51 http-nio-8081-exec-9 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:24:51 http-nio-8081-exec-9 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:24:51 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:24:51 http-nio-8081-exec-1 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name from sec_org where DELETED = 0 and state = 1 and type='门诊' 
2019-4-12 11:24:51 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:24:51 http-nio-8081-exec-1 DEBUG <==      Total: 2
2019-4-12 11:24:51 http-nio-8081-exec-9 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:24:51 http-nio-8081-exec-9 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:24:51 http-nio-8081-exec-1 DEBUG ==>  Preparing: select ID_ id, USER_NAME name,ORG_ID orgId from sec_user where DELETED = 0 and STANDBY1 = '医生' 
2019-4-12 11:24:51 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:24:51 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:24:51 http-nio-8081-exec-1 DEBUG <==      Total: 10
2019-4-12 11:24:51 http-nio-8081-exec-8 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:24:51 http-nio-8081-exec-8 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:24:51 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:24:51 http-nio-8081-exec-8 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:24:51 http-nio-8081-exec-8 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String), 0(Integer), 10(Integer)
2019-4-12 11:24:51 http-nio-8081-exec-8 DEBUG <==      Total: 10
2019-4-12 11:26:04 http-nio-8081-exec-5 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:26:04 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:26:04 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:26:05 http-nio-8081-exec-10 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:26:05 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:26:05 http-nio-8081-exec-10 DEBUG <==      Total: 2
2019-4-12 11:26:05 http-nio-8081-exec-10 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:26:05 http-nio-8081-exec-10 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:26:05 http-nio-8081-exec-10 DEBUG <==      Total: 2
2019-4-12 11:26:05 http-nio-8081-exec-7 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:26:05 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:26:05 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:26:05 http-nio-8081-exec-7 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:26:05 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:26:05 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:26:05 http-nio-8081-exec-6 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:26:05 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:26:05 http-nio-8081-exec-6 DEBUG <==      Total: 6
2019-4-12 11:26:05 http-nio-8081-exec-1 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:26:05 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:26:05 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:26:05 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:26:05 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:26:05 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:27:14 http-nio-8081-exec-2 DEBUG ==>  Preparing: select * from sec_menu where ID_='chai-wu-guan-li' limit 1 
2019-4-12 11:27:14 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:27:14 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:27:14 http-nio-8081-exec-5 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:27:14 http-nio-8081-exec-5 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:27:14 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:27:14 http-nio-8081-exec-5 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:27:14 http-nio-8081-exec-5 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:27:14 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:27:14 http-nio-8081-exec-10 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name from sec_org where DELETED = 0 and state = 1 and type='门诊' 
2019-4-12 11:27:14 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:27:14 http-nio-8081-exec-10 DEBUG <==      Total: 2
2019-4-12 11:27:14 http-nio-8081-exec-10 DEBUG ==>  Preparing: select ID_ id, USER_NAME name,ORG_ID orgId from sec_user where DELETED = 0 and STANDBY1 = '医生' 
2019-4-12 11:27:14 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:27:14 http-nio-8081-exec-10 DEBUG <==      Total: 10
2019-4-12 11:27:14 http-nio-8081-exec-7 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:27:14 http-nio-8081-exec-7 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:27:14 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:27:14 http-nio-8081-exec-7 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:27:14 http-nio-8081-exec-7 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String), 0(Integer), 10(Integer)
2019-4-12 11:27:14 http-nio-8081-exec-7 DEBUG <==      Total: 10
2019-4-12 11:27:25 http-nio-8081-exec-6 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:27:25 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:27:25 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:27:25 http-nio-8081-exec-1 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:27:25 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:27:25 http-nio-8081-exec-9 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:27:25 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:27:25 http-nio-8081-exec-9 DEBUG <==      Total: 2
2019-4-12 11:27:25 http-nio-8081-exec-9 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:27:25 http-nio-8081-exec-9 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:27:25 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:27:25 http-nio-8081-exec-9 DEBUG <==      Total: 2
2019-4-12 11:27:25 http-nio-8081-exec-1 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:27:25 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:27:25 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:27:25 http-nio-8081-exec-8 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:27:25 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:27:25 http-nio-8081-exec-8 DEBUG <==      Total: 6
2019-4-12 11:27:26 http-nio-8081-exec-4 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:27:26 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:27:26 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:27:26 http-nio-8081-exec-3 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:27:26 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:27:26 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:32:44 http-nio-8081-exec-7 DEBUG ==>  Preparing: SELECT * FROM sec_menu WHERE DELETED = 0 AND ENABLED=1 AND STANBY_ID1='2' AND ID_ IN ( SELECT MENU_ID from sec_menu_member WHERE USER_ID =? UNION SELECT MENU_ID FROM sec_menu_role WHERE ROLE_ID IN ( SELECT ROLE_ID FROM sec_role_member m LEFT JOIN sec_role r ON m.ROLE_ID = r.ID_ WHERE m.USER_ID =? AND r.STATE=1 ) UNION SELECT o.MENU_ID FROM sec_menu_org o LEFT JOIN sec_user u ON o.ORG_ID = u.ORG_ID LEFT JOIN sec_org so ON so.ID_ = u.ORG_ID WHERE u.ID_ = ? AND so.STATE=1 ) ORDER BY sort 
2019-4-12 11:32:44 http-nio-8081-exec-7 DEBUG ==> Parameters: 1(String), 1(String), 1(String)
2019-4-12 11:32:44 http-nio-8081-exec-7 DEBUG <==      Total: 26
2019-4-12 11:32:44 http-nio-8081-exec-6 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:32:44 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:32:44 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:32:44 http-nio-8081-exec-1 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:32:44 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:32:44 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:32:44 http-nio-8081-exec-1 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:32:44 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:32:44 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:32:44 http-nio-8081-exec-9 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:32:44 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:32:44 http-nio-8081-exec-8 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:32:44 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:32:44 http-nio-8081-exec-9 DEBUG <==      Total: 2
2019-4-12 11:32:44 http-nio-8081-exec-9 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:32:44 http-nio-8081-exec-9 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:32:44 http-nio-8081-exec-9 DEBUG <==      Total: 2
2019-4-12 11:32:44 http-nio-8081-exec-8 DEBUG <==      Total: 6
2019-4-12 11:32:45 http-nio-8081-exec-4 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:32:45 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:32:45 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:32:45 http-nio-8081-exec-3 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:32:45 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:32:45 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:32:47 http-nio-8081-exec-2 DEBUG ==>  Preparing: select * from sec_menu where ID_='5eaa4b9d-3bf6-43c2-aac6-f4c9cb034167' limit 1 
2019-4-12 11:32:47 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:32:47 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:32:47 http-nio-8081-exec-10 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name from sec_org where DELETED = 0 and state = 1 and type='门诊' 
2019-4-12 11:32:47 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:32:47 http-nio-8081-exec-10 DEBUG <==      Total: 2
2019-4-12 11:32:47 http-nio-8081-exec-5 DEBUG ==>  Preparing: select id_ id,user_name name,org_id clinic from sec_user where standby1='医生' and status = '启用' and deleted = 0 
2019-4-12 11:32:47 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:32:47 http-nio-8081-exec-10 DEBUG ==>  Preparing: select ID_ id, USER_NAME name,ORG_ID orgId from sec_user where DELETED = 0 and STANDBY1 = '医生' 
2019-4-12 11:32:47 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:32:47 http-nio-8081-exec-5 DEBUG <==      Total: 9
2019-4-12 11:32:47 http-nio-8081-exec-10 DEBUG <==      Total: 10
2019-4-12 11:32:47 http-nio-8081-exec-7 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name,PARENT_ID pId,case when id_='122' then 1 else 0 end open from sec_org where DELETED = 0 and state = 1 
2019-4-12 11:32:47 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:32:47 http-nio-8081-exec-7 DEBUG <==      Total: 3
2019-4-12 11:32:47 http-nio-8081-exec-6 DEBUG ==>  Preparing: select c.*,o.ORG_NAME,(select u.USER_NAME from sec_user u where u.ID_=c.doctor) as USER_NAME,(select b.bl_time from cust_bl b where b.cust_id=c.cust_id ORDER BY b.bl_time LIMIT 1) as bl_time ,(select u.USER_NAME from sec_user u where u.ID_=c.early_doctor) as early_doctor_name,(select a.org_name from sec_org a where a.ID_ = c.early_clinic) as early_clinic_name from customer c,sec_org o where c.cust_clinic=o.ID_ 
2019-4-12 11:32:47 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:32:47 http-nio-8081-exec-6 DEBUG <==      Total: 102
2019-4-12 11:32:52 http-nio-8081-exec-1 DEBUG ==>  Preparing: select * from sec_menu where ID_='chai-wu-guan-li' limit 1 
2019-4-12 11:32:52 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:32:52 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:32:53 http-nio-8081-exec-8 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:32:53 http-nio-8081-exec-8 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:32:53 http-nio-8081-exec-9 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name from sec_org where DELETED = 0 and state = 1 and type='门诊' 
2019-4-12 11:32:53 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:32:53 http-nio-8081-exec-9 DEBUG <==      Total: 2
2019-4-12 11:32:53 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:32:53 http-nio-8081-exec-9 DEBUG ==>  Preparing: select ID_ id, USER_NAME name,ORG_ID orgId from sec_user where DELETED = 0 and STANDBY1 = '医生' 
2019-4-12 11:32:53 http-nio-8081-exec-8 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:32:53 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:32:53 http-nio-8081-exec-8 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:32:53 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:32:53 http-nio-8081-exec-9 DEBUG <==      Total: 10
2019-4-12 11:32:53 http-nio-8081-exec-4 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:32:53 http-nio-8081-exec-4 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:32:53 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:32:53 http-nio-8081-exec-4 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:32:53 http-nio-8081-exec-4 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String), 0(Integer), 10(Integer)
2019-4-12 11:32:53 http-nio-8081-exec-4 DEBUG <==      Total: 10
2019-4-12 11:32:55 http-nio-8081-exec-3 DEBUG ==>  Preparing: select * from sec_menu where ID_='chai-wu-guan-li' limit 1 
2019-4-12 11:32:55 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:32:55 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:32:55 http-nio-8081-exec-2 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:32:55 http-nio-8081-exec-2 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:32:55 http-nio-8081-exec-5 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name from sec_org where DELETED = 0 and state = 1 and type='门诊' 
2019-4-12 11:32:55 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:32:55 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:32:55 http-nio-8081-exec-5 DEBUG <==      Total: 2
2019-4-12 11:32:55 http-nio-8081-exec-2 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 11:32:55 http-nio-8081-exec-5 DEBUG ==>  Preparing: select ID_ id, USER_NAME name,ORG_ID orgId from sec_user where DELETED = 0 and STANDBY1 = '医生' 
2019-4-12 11:32:55 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:32:55 http-nio-8081-exec-2 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:32:55 http-nio-8081-exec-5 DEBUG <==      Total: 10
2019-4-12 11:32:55 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:32:56 http-nio-8081-exec-10 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 11:32:56 http-nio-8081-exec-10 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 11:32:56 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:32:56 http-nio-8081-exec-10 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 11:32:56 http-nio-8081-exec-10 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String), 0(Integer), 10(Integer)
2019-4-12 11:32:56 http-nio-8081-exec-10 DEBUG <==      Total: 10
2019-4-12 11:33:13 main INFO The following profiles are active: dev
2019-4-12 11:33:26 main DEBUG ==>  Preparing: SELECT * FROM sec_menu sm where deleted=0 AND sm.STANBY_ID1 = '2' ORDER BY SORT 
2019-4-12 11:33:26 main DEBUG ==> Parameters: 
2019-4-12 11:33:26 main DEBUG <==      Total: 48
2019-4-12 11:33:36 localhost-startStop-1 INFO JedisPool注入成功！！
2019-4-12 11:33:36 localhost-startStop-1 INFO redis地址：localhost:6379
2019-4-12 11:33:56 main INFO Started BaseFrameApplication in 49.936 seconds (JVM running for 52.566)
2019-4-12 11:33:57 http-nio-8081-exec-7 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name from sec_org where DELETED = 0 and state = 1 and type='门诊' 
2019-4-12 11:33:57 http-nio-8081-exec-4 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name,PARENT_ID pId,case when id_='122' then 1 else 0 end open from sec_org where DELETED = 0 and state = 1 
2019-4-12 11:33:57 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:33:57 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:33:57 http-nio-8081-exec-3 DEBUG ==>  Preparing: select id_ id,user_name name,org_id clinic from sec_user where standby1='医生' and status = '启用' and deleted = 0 
2019-4-12 11:33:57 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:33:57 http-nio-8081-exec-7 DEBUG <==      Total: 2
2019-4-12 11:33:57 http-nio-8081-exec-4 DEBUG <==      Total: 3
2019-4-12 11:33:57 http-nio-8081-exec-3 DEBUG <==      Total: 9
2019-4-12 11:33:57 http-nio-8081-exec-7 DEBUG ==>  Preparing: select ID_ id, USER_NAME name,ORG_ID orgId from sec_user where DELETED = 0 and STANDBY1 = '医生' 
2019-4-12 11:33:57 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:33:57 http-nio-8081-exec-7 DEBUG <==      Total: 10
2019-4-12 11:33:57 http-nio-8081-exec-10 DEBUG ==>  Preparing: select c.*,o.ORG_NAME,(select u.USER_NAME from sec_user u where u.ID_=c.doctor) as USER_NAME,(select b.bl_time from cust_bl b where b.cust_id=c.cust_id ORDER BY b.bl_time LIMIT 1) as bl_time ,(select u.USER_NAME from sec_user u where u.ID_=c.early_doctor) as early_doctor_name,(select a.org_name from sec_org a where a.ID_ = c.early_clinic) as early_clinic_name from customer c,sec_org o where c.cust_clinic=o.ID_ 
2019-4-12 11:33:57 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:33:57 http-nio-8081-exec-10 DEBUG <==      Total: 102
2019-4-12 11:34:51 http-nio-8081-exec-6 DEBUG ==>  Preparing: SELECT * FROM sec_menu WHERE DELETED = 0 AND ENABLED=1 AND STANBY_ID1='2' AND ID_ IN ( SELECT MENU_ID from sec_menu_member WHERE USER_ID =? UNION SELECT MENU_ID FROM sec_menu_role WHERE ROLE_ID IN ( SELECT ROLE_ID FROM sec_role_member m LEFT JOIN sec_role r ON m.ROLE_ID = r.ID_ WHERE m.USER_ID =? AND r.STATE=1 ) UNION SELECT o.MENU_ID FROM sec_menu_org o LEFT JOIN sec_user u ON o.ORG_ID = u.ORG_ID LEFT JOIN sec_org so ON so.ID_ = u.ORG_ID WHERE u.ID_ = ? AND so.STATE=1 ) ORDER BY sort 
2019-4-12 11:34:51 http-nio-8081-exec-6 DEBUG ==> Parameters: 1(String), 1(String), 1(String)
2019-4-12 11:34:51 http-nio-8081-exec-6 DEBUG <==      Total: 26
2019-4-12 11:34:51 http-nio-8081-exec-5 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:34:51 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:34:51 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:34:52 http-nio-8081-exec-2 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:34:52 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:34:52 http-nio-8081-exec-1 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:34:52 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:34:52 http-nio-8081-exec-8 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:34:52 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:34:52 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:34:52 http-nio-8081-exec-1 DEBUG <==      Total: 2
2019-4-12 11:34:52 http-nio-8081-exec-1 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:34:52 http-nio-8081-exec-1 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:34:52 http-nio-8081-exec-1 DEBUG <==      Total: 2
2019-4-12 11:34:52 http-nio-8081-exec-8 DEBUG <==      Total: 6
2019-4-12 11:34:52 http-nio-8081-exec-2 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:34:52 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:34:52 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:34:52 http-nio-8081-exec-4 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:34:52 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:34:52 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:34:52 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:34:52 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:34:52 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:34:55 http-nio-8081-exec-7 DEBUG ==>  Preparing: SELECT * FROM sec_menu WHERE DELETED = 0 AND ENABLED=1 AND STANBY_ID1='2' AND ID_ IN ( SELECT MENU_ID from sec_menu_member WHERE USER_ID =? UNION SELECT MENU_ID FROM sec_menu_role WHERE ROLE_ID IN ( SELECT ROLE_ID FROM sec_role_member m LEFT JOIN sec_role r ON m.ROLE_ID = r.ID_ WHERE m.USER_ID =? AND r.STATE=1 ) UNION SELECT o.MENU_ID FROM sec_menu_org o LEFT JOIN sec_user u ON o.ORG_ID = u.ORG_ID LEFT JOIN sec_org so ON so.ID_ = u.ORG_ID WHERE u.ID_ = ? AND so.STATE=1 ) ORDER BY sort 
2019-4-12 11:34:55 http-nio-8081-exec-7 DEBUG ==> Parameters: 1(String), 1(String), 1(String)
2019-4-12 11:34:55 http-nio-8081-exec-7 DEBUG <==      Total: 26
2019-4-12 11:34:55 http-nio-8081-exec-3 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:34:55 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:34:55 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:34:55 http-nio-8081-exec-10 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:34:55 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:34:55 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:34:55 http-nio-8081-exec-10 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:34:55 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:34:55 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:34:55 http-nio-8081-exec-6 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:34:55 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:34:55 http-nio-8081-exec-6 DEBUG <==      Total: 2
2019-4-12 11:34:55 http-nio-8081-exec-6 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:34:55 http-nio-8081-exec-6 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:34:55 http-nio-8081-exec-6 DEBUG <==      Total: 2
2019-4-12 11:34:55 http-nio-8081-exec-5 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:34:55 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:34:55 http-nio-8081-exec-5 DEBUG <==      Total: 6
2019-4-12 11:34:56 http-nio-8081-exec-1 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:34:56 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:34:56 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:34:56 http-nio-8081-exec-8 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:34:56 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:34:56 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:39:20 http-nio-8081-exec-3 DEBUG ==>  Preparing: SELECT * FROM sec_menu WHERE DELETED = 0 AND ENABLED=1 AND STANBY_ID1='2' AND ID_ IN ( SELECT MENU_ID from sec_menu_member WHERE USER_ID =? UNION SELECT MENU_ID FROM sec_menu_role WHERE ROLE_ID IN ( SELECT ROLE_ID FROM sec_role_member m LEFT JOIN sec_role r ON m.ROLE_ID = r.ID_ WHERE m.USER_ID =? AND r.STATE=1 ) UNION SELECT o.MENU_ID FROM sec_menu_org o LEFT JOIN sec_user u ON o.ORG_ID = u.ORG_ID LEFT JOIN sec_org so ON so.ID_ = u.ORG_ID WHERE u.ID_ = ? AND so.STATE=1 ) ORDER BY sort 
2019-4-12 11:39:20 http-nio-8081-exec-3 DEBUG ==> Parameters: 1(String), 1(String), 1(String)
2019-4-12 11:39:20 http-nio-8081-exec-3 DEBUG <==      Total: 26
2019-4-12 11:39:20 http-nio-8081-exec-10 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:39:20 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:39:20 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:39:21 http-nio-8081-exec-6 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:39:21 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:39:21 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:39:21 http-nio-8081-exec-6 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:39:21 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:39:21 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:39:21 http-nio-8081-exec-1 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:39:21 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:39:21 http-nio-8081-exec-1 DEBUG <==      Total: 6
2019-4-12 11:39:21 http-nio-8081-exec-5 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:39:21 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:39:21 http-nio-8081-exec-5 DEBUG <==      Total: 2
2019-4-12 11:39:21 http-nio-8081-exec-5 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:39:21 http-nio-8081-exec-5 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:39:21 http-nio-8081-exec-5 DEBUG <==      Total: 2
2019-4-12 11:39:21 http-nio-8081-exec-8 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:39:21 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:39:21 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:39:21 http-nio-8081-exec-2 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:39:21 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:39:21 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:40:03 http-nio-8081-exec-4 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:40:03 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:40:03 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:40:03 http-nio-8081-exec-7 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:40:03 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:40:03 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:40:03 http-nio-8081-exec-7 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:40:03 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:40:03 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:40:03 http-nio-8081-exec-9 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:40:03 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:40:03 http-nio-8081-exec-9 DEBUG <==      Total: 2
2019-4-12 11:40:03 http-nio-8081-exec-9 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:40:03 http-nio-8081-exec-9 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:40:03 http-nio-8081-exec-9 DEBUG <==      Total: 2
2019-4-12 11:40:03 http-nio-8081-exec-3 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:40:03 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:40:03 http-nio-8081-exec-3 DEBUG <==      Total: 6
2019-4-12 11:40:04 http-nio-8081-exec-10 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:40:04 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:40:04 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:40:04 http-nio-8081-exec-6 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:40:04 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:40:04 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:40:18 http-nio-8081-exec-1 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:40:18 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:40:18 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:40:19 http-nio-8081-exec-8 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:40:19 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:40:19 http-nio-8081-exec-2 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:40:19 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:40:19 http-nio-8081-exec-5 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:40:19 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:40:19 http-nio-8081-exec-8 DEBUG <==      Total: 2
2019-4-12 11:40:19 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:40:19 http-nio-8081-exec-8 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:40:19 http-nio-8081-exec-2 DEBUG <==      Total: 6
2019-4-12 11:40:19 http-nio-8081-exec-8 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:40:19 http-nio-8081-exec-5 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:40:19 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:40:19 http-nio-8081-exec-8 DEBUG <==      Total: 2
2019-4-12 11:40:19 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:40:19 http-nio-8081-exec-4 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:40:19 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:40:19 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:40:19 http-nio-8081-exec-7 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:40:19 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:40:19 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:40:19 http-nio-8081-exec-9 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:40:19 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:40:19 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:40:20 http-nio-8081-exec-3 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:40:20 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:40:20 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:40:20 http-nio-8081-exec-10 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:40:20 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:40:20 http-nio-8081-exec-10 DEBUG <==      Total: 2
2019-4-12 11:40:20 http-nio-8081-exec-3 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:40:20 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:40:20 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:40:20 http-nio-8081-exec-10 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:40:20 http-nio-8081-exec-10 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:40:20 http-nio-8081-exec-10 DEBUG <==      Total: 2
2019-4-12 11:40:20 http-nio-8081-exec-6 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:40:20 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:40:20 http-nio-8081-exec-6 DEBUG <==      Total: 6
2019-4-12 11:40:20 http-nio-8081-exec-1 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:40:20 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:40:20 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:40:20 http-nio-8081-exec-2 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:40:20 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:40:20 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:40:51 http-nio-8081-exec-8 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:40:51 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:40:51 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:40:51 http-nio-8081-exec-5 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:40:51 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:40:51 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:40:51 http-nio-8081-exec-4 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:40:51 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:40:51 http-nio-8081-exec-4 DEBUG <==      Total: 2
2019-4-12 11:40:51 http-nio-8081-exec-5 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:40:51 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:40:51 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:40:51 http-nio-8081-exec-4 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:40:51 http-nio-8081-exec-4 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:40:51 http-nio-8081-exec-4 DEBUG <==      Total: 2
2019-4-12 11:40:51 http-nio-8081-exec-7 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:40:51 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:40:51 http-nio-8081-exec-7 DEBUG <==      Total: 6
2019-4-12 11:40:51 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:40:51 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:40:51 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:40:51 http-nio-8081-exec-3 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:40:51 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:40:51 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:41:19 http-nio-8081-exec-10 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:41:19 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:41:19 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:41:19 http-nio-8081-exec-6 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:41:19 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:41:19 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:41:19 http-nio-8081-exec-6 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:41:19 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:41:19 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:41:19 http-nio-8081-exec-1 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:41:19 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:41:19 http-nio-8081-exec-1 DEBUG <==      Total: 2
2019-4-12 11:41:19 http-nio-8081-exec-2 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:41:19 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:41:19 http-nio-8081-exec-1 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:41:19 http-nio-8081-exec-1 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:41:19 http-nio-8081-exec-1 DEBUG <==      Total: 2
2019-4-12 11:41:19 http-nio-8081-exec-2 DEBUG <==      Total: 6
2019-4-12 11:41:19 http-nio-8081-exec-8 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:41:19 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:41:19 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:41:19 http-nio-8081-exec-5 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:41:19 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:41:19 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:41:34 http-nio-8081-exec-4 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:41:34 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:41:34 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:41:34 http-nio-8081-exec-7 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:41:34 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:41:34 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:41:34 http-nio-8081-exec-7 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:41:34 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:41:34 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:41:34 http-nio-8081-exec-9 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:41:34 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:41:34 http-nio-8081-exec-9 DEBUG <==      Total: 2
2019-4-12 11:41:34 http-nio-8081-exec-9 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:41:34 http-nio-8081-exec-9 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:41:34 http-nio-8081-exec-9 DEBUG <==      Total: 2
2019-4-12 11:41:34 http-nio-8081-exec-3 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:41:34 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:41:34 http-nio-8081-exec-3 DEBUG <==      Total: 6
2019-4-12 11:41:35 http-nio-8081-exec-10 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:41:35 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:41:35 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:41:35 http-nio-8081-exec-6 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:41:35 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:41:35 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:42:53 http-nio-8081-exec-5 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:42:53 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:42:53 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:42:53 http-nio-8081-exec-7 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:42:53 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:42:53 http-nio-8081-exec-7 DEBUG <==      Total: 2
2019-4-12 11:42:53 http-nio-8081-exec-7 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:42:53 http-nio-8081-exec-7 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:42:53 http-nio-8081-exec-7 DEBUG <==      Total: 2
2019-4-12 11:42:53 http-nio-8081-exec-4 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:42:53 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:42:53 http-nio-8081-exec-9 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:42:53 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:42:53 http-nio-8081-exec-9 DEBUG <==      Total: 6
2019-4-12 11:42:53 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:42:53 http-nio-8081-exec-4 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:42:53 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:42:54 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:42:54 http-nio-8081-exec-3 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:42:54 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:42:54 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:42:54 http-nio-8081-exec-10 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:42:54 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:42:54 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:42:55 http-nio-8081-exec-6 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:42:55 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:42:55 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:42:55 http-nio-8081-exec-1 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:42:55 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:42:55 http-nio-8081-exec-2 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:42:55 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:42:55 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:42:55 http-nio-8081-exec-2 DEBUG <==      Total: 2
2019-4-12 11:42:55 http-nio-8081-exec-1 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:42:55 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:42:55 http-nio-8081-exec-2 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:42:55 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:42:55 http-nio-8081-exec-2 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:42:55 http-nio-8081-exec-2 DEBUG <==      Total: 2
2019-4-12 11:42:55 http-nio-8081-exec-8 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:42:55 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:42:55 http-nio-8081-exec-8 DEBUG <==      Total: 6
2019-4-12 11:42:55 http-nio-8081-exec-5 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:42:55 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:42:55 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:42:55 http-nio-8081-exec-7 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:42:55 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:42:55 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:42:59 http-nio-8081-exec-9 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:42:59 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:42:59 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:42:59 http-nio-8081-exec-4 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:42:59 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:42:59 http-nio-8081-exec-3 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:42:59 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:42:59 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:42:59 http-nio-8081-exec-3 DEBUG <==      Total: 2
2019-4-12 11:42:59 http-nio-8081-exec-4 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:42:59 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:42:59 http-nio-8081-exec-3 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:42:59 http-nio-8081-exec-3 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:42:59 http-nio-8081-exec-3 DEBUG <==      Total: 2
2019-4-12 11:42:59 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:42:59 http-nio-8081-exec-10 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:42:59 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:42:59 http-nio-8081-exec-10 DEBUG <==      Total: 6
2019-4-12 11:42:59 http-nio-8081-exec-6 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:42:59 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:42:59 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:42:59 http-nio-8081-exec-1 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:42:59 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:42:59 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:43:00 http-nio-8081-exec-2 DEBUG ==>  Preparing: SELECT * FROM sec_menu WHERE DELETED = 0 AND ENABLED=1 AND STANBY_ID1='2' AND ID_ IN ( SELECT MENU_ID from sec_menu_member WHERE USER_ID =? UNION SELECT MENU_ID FROM sec_menu_role WHERE ROLE_ID IN ( SELECT ROLE_ID FROM sec_role_member m LEFT JOIN sec_role r ON m.ROLE_ID = r.ID_ WHERE m.USER_ID =? AND r.STATE=1 ) UNION SELECT o.MENU_ID FROM sec_menu_org o LEFT JOIN sec_user u ON o.ORG_ID = u.ORG_ID LEFT JOIN sec_org so ON so.ID_ = u.ORG_ID WHERE u.ID_ = ? AND so.STATE=1 ) ORDER BY sort 
2019-4-12 11:43:00 http-nio-8081-exec-2 DEBUG ==> Parameters: 1(String), 1(String), 1(String)
2019-4-12 11:43:00 http-nio-8081-exec-2 DEBUG <==      Total: 26
2019-4-12 11:43:00 http-nio-8081-exec-8 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:43:00 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:43:00 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:43:00 http-nio-8081-exec-7 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:43:00 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:43:00 http-nio-8081-exec-9 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:43:00 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:43:00 http-nio-8081-exec-5 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:43:00 http-nio-8081-exec-7 DEBUG <==      Total: 2
2019-4-12 11:43:00 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:43:00 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:43:00 http-nio-8081-exec-7 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:43:00 http-nio-8081-exec-9 DEBUG <==      Total: 6
2019-4-12 11:43:00 http-nio-8081-exec-7 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:43:00 http-nio-8081-exec-7 DEBUG <==      Total: 2
2019-4-12 11:43:00 http-nio-8081-exec-5 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:43:00 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:43:00 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:43:01 http-nio-8081-exec-4 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:43:01 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:43:01 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:43:01 http-nio-8081-exec-3 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:43:01 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:43:01 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:46:19 http-nio-8081-exec-2 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:46:19 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:46:19 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:46:20 http-nio-8081-exec-8 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:46:20 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:46:20 http-nio-8081-exec-9 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:46:20 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:46:20 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:46:20 http-nio-8081-exec-9 DEBUG <==      Total: 2
2019-4-12 11:46:20 http-nio-8081-exec-8 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:46:20 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:46:20 http-nio-8081-exec-9 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:46:20 http-nio-8081-exec-9 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:46:20 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:46:20 http-nio-8081-exec-9 DEBUG <==      Total: 2
2019-4-12 11:46:20 http-nio-8081-exec-5 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:46:20 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:46:20 http-nio-8081-exec-5 DEBUG <==      Total: 6
2019-4-12 11:46:20 http-nio-8081-exec-7 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:46:20 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:46:20 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:46:20 http-nio-8081-exec-4 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:46:20 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:46:20 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:46:34 http-nio-8081-exec-3 DEBUG ==>  Preparing: SELECT * FROM sec_menu WHERE DELETED = 0 AND ENABLED=1 AND STANBY_ID1='2' AND ID_ IN ( SELECT MENU_ID from sec_menu_member WHERE USER_ID =? UNION SELECT MENU_ID FROM sec_menu_role WHERE ROLE_ID IN ( SELECT ROLE_ID FROM sec_role_member m LEFT JOIN sec_role r ON m.ROLE_ID = r.ID_ WHERE m.USER_ID =? AND r.STATE=1 ) UNION SELECT o.MENU_ID FROM sec_menu_org o LEFT JOIN sec_user u ON o.ORG_ID = u.ORG_ID LEFT JOIN sec_org so ON so.ID_ = u.ORG_ID WHERE u.ID_ = ? AND so.STATE=1 ) ORDER BY sort 
2019-4-12 11:46:34 http-nio-8081-exec-3 DEBUG ==> Parameters: 1(String), 1(String), 1(String)
2019-4-12 11:46:34 http-nio-8081-exec-3 DEBUG <==      Total: 26
2019-4-12 11:46:34 http-nio-8081-exec-10 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:46:34 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:46:34 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:46:35 http-nio-8081-exec-1 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:46:35 http-nio-8081-exec-6 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:46:35 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:46:35 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:46:35 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:46:35 http-nio-8081-exec-6 DEBUG <==      Total: 2
2019-4-12 11:46:35 http-nio-8081-exec-6 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:46:35 http-nio-8081-exec-6 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:46:35 http-nio-8081-exec-1 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:46:35 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:46:35 http-nio-8081-exec-2 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:46:35 http-nio-8081-exec-6 DEBUG <==      Total: 2
2019-4-12 11:46:35 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:46:35 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:46:35 http-nio-8081-exec-2 DEBUG <==      Total: 6
2019-4-12 11:46:35 http-nio-8081-exec-8 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:46:35 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:46:35 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:46:35 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:46:35 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:46:35 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:48:57 http-nio-8081-exec-3 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:48:57 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:48:57 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:48:57 http-nio-8081-exec-10 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:48:57 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:48:57 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:48:57 http-nio-8081-exec-10 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:48:57 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:48:57 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:48:57 http-nio-8081-exec-1 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:48:57 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:48:57 http-nio-8081-exec-1 DEBUG <==      Total: 2
2019-4-12 11:48:57 http-nio-8081-exec-1 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:48:57 http-nio-8081-exec-1 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:48:57 http-nio-8081-exec-1 DEBUG <==      Total: 2
2019-4-12 11:48:57 http-nio-8081-exec-2 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:48:57 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:48:57 http-nio-8081-exec-2 DEBUG <==      Total: 6
2019-4-12 11:48:57 http-nio-8081-exec-6 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:48:57 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:48:57 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:48:57 http-nio-8081-exec-8 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:48:57 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:48:57 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:49:09 http-nio-8081-exec-9 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:49:09 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:49:09 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:49:09 http-nio-8081-exec-7 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:49:09 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:49:09 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:49:09 http-nio-8081-exec-7 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:49:09 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:49:09 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:49:09 http-nio-8081-exec-5 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:49:09 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:49:09 http-nio-8081-exec-5 DEBUG <==      Total: 2
2019-4-12 11:49:09 http-nio-8081-exec-5 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:49:09 http-nio-8081-exec-4 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:49:09 http-nio-8081-exec-5 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:49:09 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:49:09 http-nio-8081-exec-5 DEBUG <==      Total: 2
2019-4-12 11:49:09 http-nio-8081-exec-4 DEBUG <==      Total: 6
2019-4-12 11:49:10 http-nio-8081-exec-3 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:49:10 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:49:10 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:49:10 http-nio-8081-exec-10 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:49:10 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:49:10 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:49:18 http-nio-8081-exec-1 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:49:18 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:49:18 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:49:18 http-nio-8081-exec-2 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:49:18 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:49:18 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:49:18 http-nio-8081-exec-6 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:49:18 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:49:18 http-nio-8081-exec-2 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:49:18 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:49:18 http-nio-8081-exec-6 DEBUG <==      Total: 2
2019-4-12 11:49:18 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:49:18 http-nio-8081-exec-6 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:49:18 http-nio-8081-exec-6 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:49:18 http-nio-8081-exec-6 DEBUG <==      Total: 2
2019-4-12 11:49:18 http-nio-8081-exec-8 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:49:18 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:49:18 http-nio-8081-exec-8 DEBUG <==      Total: 6
2019-4-12 11:49:18 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:49:18 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:49:18 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:49:18 http-nio-8081-exec-7 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:49:18 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:49:18 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:49:23 http-nio-8081-exec-5 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:49:23 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:49:23 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:49:23 http-nio-8081-exec-4 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:49:23 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:49:23 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:49:23 http-nio-8081-exec-3 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:49:23 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:49:23 http-nio-8081-exec-3 DEBUG <==      Total: 2
2019-4-12 11:49:23 http-nio-8081-exec-4 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:49:23 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:49:23 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:49:23 http-nio-8081-exec-3 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:49:23 http-nio-8081-exec-3 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:49:23 http-nio-8081-exec-3 DEBUG <==      Total: 2
2019-4-12 11:49:23 http-nio-8081-exec-10 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:49:23 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:49:23 http-nio-8081-exec-10 DEBUG <==      Total: 6
2019-4-12 11:49:23 http-nio-8081-exec-1 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:49:23 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:49:23 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:49:23 http-nio-8081-exec-1 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:49:23 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:49:23 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:49:32 http-nio-8081-exec-2 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:49:32 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:49:32 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:49:32 http-nio-8081-exec-8 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:49:32 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:49:32 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:49:32 http-nio-8081-exec-9 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:49:32 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:49:32 http-nio-8081-exec-8 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:49:32 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:49:32 http-nio-8081-exec-9 DEBUG <==      Total: 2
2019-4-12 11:49:32 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:49:32 http-nio-8081-exec-9 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:49:32 http-nio-8081-exec-9 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:49:32 http-nio-8081-exec-9 DEBUG <==      Total: 2
2019-4-12 11:49:32 http-nio-8081-exec-7 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:49:32 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:49:32 http-nio-8081-exec-7 DEBUG <==      Total: 6
2019-4-12 11:49:32 http-nio-8081-exec-5 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:49:32 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:49:32 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:49:32 http-nio-8081-exec-4 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:49:32 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:49:32 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:49:33 http-nio-8081-exec-3 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:49:33 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:49:33 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:49:33 http-nio-8081-exec-6 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:49:33 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:49:33 http-nio-8081-exec-10 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:49:33 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:49:33 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:49:33 http-nio-8081-exec-6 DEBUG <==      Total: 2
2019-4-12 11:49:33 http-nio-8081-exec-10 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:49:33 http-nio-8081-exec-6 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:49:33 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:49:33 http-nio-8081-exec-6 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:49:33 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:49:33 http-nio-8081-exec-6 DEBUG <==      Total: 2
2019-4-12 11:49:33 http-nio-8081-exec-1 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:49:33 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:49:33 http-nio-8081-exec-1 DEBUG <==      Total: 6
2019-4-12 11:49:33 http-nio-8081-exec-2 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:49:33 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:49:33 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:49:33 http-nio-8081-exec-8 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:49:33 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:49:33 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:49:33 http-nio-8081-exec-9 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:49:33 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:49:33 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:49:33 http-nio-8081-exec-7 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:49:33 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:49:33 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:49:33 http-nio-8081-exec-7 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:49:33 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:49:33 http-nio-8081-exec-5 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:49:33 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:49:33 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:49:33 http-nio-8081-exec-5 DEBUG <==      Total: 2
2019-4-12 11:49:33 http-nio-8081-exec-5 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:49:33 http-nio-8081-exec-5 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:49:33 http-nio-8081-exec-5 DEBUG <==      Total: 2
2019-4-12 11:49:33 http-nio-8081-exec-4 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:49:33 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:49:33 http-nio-8081-exec-4 DEBUG <==      Total: 6
2019-4-12 11:49:33 http-nio-8081-exec-5 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:49:33 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:49:33 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:49:33 http-nio-8081-exec-10 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:49:33 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:49:33 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:49:33 http-nio-8081-exec-10 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:49:33 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:49:33 http-nio-8081-exec-6 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:49:33 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:49:33 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:49:33 http-nio-8081-exec-6 DEBUG <==      Total: 2
2019-4-12 11:49:33 http-nio-8081-exec-6 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:49:33 http-nio-8081-exec-6 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:49:33 http-nio-8081-exec-6 DEBUG <==      Total: 2
2019-4-12 11:49:33 http-nio-8081-exec-1 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:49:33 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:49:33 http-nio-8081-exec-1 DEBUG <==      Total: 6
2019-4-12 11:49:33 http-nio-8081-exec-2 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:49:33 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:49:33 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:49:33 http-nio-8081-exec-8 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:49:33 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:49:33 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:49:33 http-nio-8081-exec-7 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:49:33 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:49:33 http-nio-8081-exec-9 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:49:33 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:49:33 http-nio-8081-exec-7 DEBUG <==      Total: 2
2019-4-12 11:49:33 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:49:33 http-nio-8081-exec-7 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:49:33 http-nio-8081-exec-7 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:49:33 http-nio-8081-exec-9 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:49:33 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:49:33 http-nio-8081-exec-7 DEBUG <==      Total: 2
2019-4-12 11:49:33 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:49:33 http-nio-8081-exec-3 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:49:33 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:49:33 http-nio-8081-exec-3 DEBUG <==      Total: 6
2019-4-12 11:49:33 http-nio-8081-exec-4 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:49:33 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:49:33 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:49:33 http-nio-8081-exec-5 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:49:33 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:49:33 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:49:56 http-nio-8081-exec-10 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:49:56 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:49:56 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:49:57 http-nio-8081-exec-6 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:49:57 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:49:57 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:49:57 http-nio-8081-exec-6 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:49:57 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:49:57 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:49:57 http-nio-8081-exec-1 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:49:57 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:49:57 http-nio-8081-exec-1 DEBUG <==      Total: 2
2019-4-12 11:49:57 http-nio-8081-exec-1 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:49:57 http-nio-8081-exec-1 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:49:57 http-nio-8081-exec-1 DEBUG <==      Total: 2
2019-4-12 11:49:57 http-nio-8081-exec-2 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:49:57 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:49:57 http-nio-8081-exec-2 DEBUG <==      Total: 6
2019-4-12 11:49:57 http-nio-8081-exec-8 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:49:57 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:49:57 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:49:57 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:49:57 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:49:57 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:50:27 http-nio-8081-exec-7 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:50:27 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:50:27 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:50:28 http-nio-8081-exec-3 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:50:28 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:50:28 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:50:28 http-nio-8081-exec-4 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:50:28 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:50:28 http-nio-8081-exec-4 DEBUG <==      Total: 2
2019-4-12 11:50:28 http-nio-8081-exec-3 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:50:28 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:50:28 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:50:28 http-nio-8081-exec-4 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:50:28 http-nio-8081-exec-4 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:50:28 http-nio-8081-exec-4 DEBUG <==      Total: 2
2019-4-12 11:50:28 http-nio-8081-exec-5 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:50:28 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:50:28 http-nio-8081-exec-5 DEBUG <==      Total: 6
2019-4-12 11:50:28 http-nio-8081-exec-10 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:50:28 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:50:28 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:50:28 http-nio-8081-exec-6 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:50:28 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:50:28 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:50:29 http-nio-8081-exec-1 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:50:29 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:50:29 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:50:29 http-nio-8081-exec-2 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:50:29 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:50:29 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:50:29 http-nio-8081-exec-8 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:50:29 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:50:29 http-nio-8081-exec-2 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:50:29 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:50:29 http-nio-8081-exec-8 DEBUG <==      Total: 2
2019-4-12 11:50:29 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:50:29 http-nio-8081-exec-9 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:50:29 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:50:29 http-nio-8081-exec-8 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:50:29 http-nio-8081-exec-8 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:50:29 http-nio-8081-exec-8 DEBUG <==      Total: 2
2019-4-12 11:50:29 http-nio-8081-exec-9 DEBUG <==      Total: 6
2019-4-12 11:50:29 http-nio-8081-exec-7 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:50:29 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:50:29 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:50:29 http-nio-8081-exec-3 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:50:29 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:50:29 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:50:53 http-nio-8081-exec-4 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:50:53 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:50:53 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:50:53 http-nio-8081-exec-5 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:50:53 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:50:53 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:50:53 http-nio-8081-exec-10 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:50:53 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:50:53 http-nio-8081-exec-6 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:50:53 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:50:53 http-nio-8081-exec-10 DEBUG <==      Total: 2
2019-4-12 11:50:53 http-nio-8081-exec-5 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:50:53 http-nio-8081-exec-10 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:50:53 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:50:53 http-nio-8081-exec-10 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:50:53 http-nio-8081-exec-6 DEBUG <==      Total: 6
2019-4-12 11:50:53 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:50:53 http-nio-8081-exec-10 DEBUG <==      Total: 2
2019-4-12 11:50:53 http-nio-8081-exec-1 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:50:53 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:50:53 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:50:53 http-nio-8081-exec-2 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:50:53 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:50:53 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:50:54 http-nio-8081-exec-9 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:50:54 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:50:54 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:50:54 http-nio-8081-exec-8 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:50:54 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:50:54 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:50:54 http-nio-8081-exec-7 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:50:54 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:50:54 http-nio-8081-exec-7 DEBUG <==      Total: 2
2019-4-12 11:50:54 http-nio-8081-exec-8 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:50:54 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:50:54 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:50:54 http-nio-8081-exec-7 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:50:54 http-nio-8081-exec-7 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:50:54 http-nio-8081-exec-7 DEBUG <==      Total: 2
2019-4-12 11:50:54 http-nio-8081-exec-3 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:50:54 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:50:54 http-nio-8081-exec-3 DEBUG <==      Total: 6
2019-4-12 11:50:54 http-nio-8081-exec-4 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:50:54 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:50:54 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:50:54 http-nio-8081-exec-6 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:50:54 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:50:54 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:50:54 http-nio-8081-exec-5 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:50:54 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:50:54 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:50:54 http-nio-8081-exec-10 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:50:54 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:50:54 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:50:54 http-nio-8081-exec-1 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:50:54 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:50:54 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:50:54 http-nio-8081-exec-2 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:50:54 http-nio-8081-exec-9 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:50:54 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:50:54 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:50:54 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:50:54 http-nio-8081-exec-9 DEBUG <==      Total: 2
2019-4-12 11:50:54 http-nio-8081-exec-8 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:50:54 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:50:54 http-nio-8081-exec-2 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:50:54 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:50:54 http-nio-8081-exec-9 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:50:54 http-nio-8081-exec-9 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:50:54 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:50:54 http-nio-8081-exec-9 DEBUG <==      Total: 2
2019-4-12 11:50:54 http-nio-8081-exec-8 DEBUG <==      Total: 6
2019-4-12 11:50:54 http-nio-8081-exec-7 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:50:54 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:50:54 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:50:54 http-nio-8081-exec-3 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:50:54 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:50:54 http-nio-8081-exec-4 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:50:54 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:50:54 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:50:54 http-nio-8081-exec-4 DEBUG <==      Total: 2
2019-4-12 11:50:54 http-nio-8081-exec-6 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:50:54 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:50:54 http-nio-8081-exec-3 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:50:54 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:50:54 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:50:54 http-nio-8081-exec-4 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:50:54 http-nio-8081-exec-4 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:50:54 http-nio-8081-exec-6 DEBUG <==      Total: 6
2019-4-12 11:50:54 http-nio-8081-exec-4 DEBUG <==      Total: 2
2019-4-12 11:50:55 http-nio-8081-exec-5 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:50:55 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:50:55 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:50:55 http-nio-8081-exec-10 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:50:55 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:50:55 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:50:56 http-nio-8081-exec-1 DEBUG ==>  Preparing: SELECT * FROM sec_menu WHERE DELETED = 0 AND ENABLED=1 AND STANBY_ID1='2' AND ID_ IN ( SELECT MENU_ID from sec_menu_member WHERE USER_ID =? UNION SELECT MENU_ID FROM sec_menu_role WHERE ROLE_ID IN ( SELECT ROLE_ID FROM sec_role_member m LEFT JOIN sec_role r ON m.ROLE_ID = r.ID_ WHERE m.USER_ID =? AND r.STATE=1 ) UNION SELECT o.MENU_ID FROM sec_menu_org o LEFT JOIN sec_user u ON o.ORG_ID = u.ORG_ID LEFT JOIN sec_org so ON so.ID_ = u.ORG_ID WHERE u.ID_ = ? AND so.STATE=1 ) ORDER BY sort 
2019-4-12 11:50:56 http-nio-8081-exec-1 DEBUG ==> Parameters: 1(String), 1(String), 1(String)
2019-4-12 11:50:56 http-nio-8081-exec-1 DEBUG <==      Total: 26
2019-4-12 11:50:56 http-nio-8081-exec-2 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:50:56 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:50:56 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:50:56 http-nio-8081-exec-9 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:50:56 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:50:56 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:50:56 http-nio-8081-exec-8 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:50:56 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:50:56 http-nio-8081-exec-8 DEBUG <==      Total: 2
2019-4-12 11:50:56 http-nio-8081-exec-9 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:50:56 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:50:56 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:50:56 http-nio-8081-exec-7 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:50:56 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:50:56 http-nio-8081-exec-8 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:50:56 http-nio-8081-exec-8 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:50:56 http-nio-8081-exec-8 DEBUG <==      Total: 2
2019-4-12 11:50:56 http-nio-8081-exec-7 DEBUG <==      Total: 6
2019-4-12 11:50:56 http-nio-8081-exec-3 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:50:56 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:50:56 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:50:56 http-nio-8081-exec-4 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:50:56 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:50:56 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:51:08 http-nio-8081-exec-6 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:51:08 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:51:08 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:51:08 http-nio-8081-exec-5 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:51:08 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:51:08 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:51:08 http-nio-8081-exec-10 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:51:08 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:51:09 http-nio-8081-exec-5 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:51:09 http-nio-8081-exec-1 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:51:09 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:51:09 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:51:09 http-nio-8081-exec-10 DEBUG <==      Total: 2
2019-4-12 11:51:09 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:51:09 http-nio-8081-exec-10 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:51:09 http-nio-8081-exec-10 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:51:09 http-nio-8081-exec-1 DEBUG <==      Total: 6
2019-4-12 11:51:09 http-nio-8081-exec-10 DEBUG <==      Total: 2
2019-4-12 11:51:09 http-nio-8081-exec-2 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:51:09 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:51:09 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:51:09 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:51:09 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:51:09 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:51:09 http-nio-8081-exec-7 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:51:09 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:51:09 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:51:09 http-nio-8081-exec-8 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:51:09 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:51:09 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:51:09 http-nio-8081-exec-3 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:51:09 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:51:09 http-nio-8081-exec-3 DEBUG <==      Total: 2
2019-4-12 11:51:09 http-nio-8081-exec-8 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:51:09 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:51:09 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:51:09 http-nio-8081-exec-3 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:51:09 http-nio-8081-exec-4 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:51:09 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:51:09 http-nio-8081-exec-3 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:51:09 http-nio-8081-exec-3 DEBUG <==      Total: 2
2019-4-12 11:51:09 http-nio-8081-exec-4 DEBUG <==      Total: 6
2019-4-12 11:51:09 http-nio-8081-exec-6 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:51:09 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:51:09 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:51:09 http-nio-8081-exec-5 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:51:09 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:51:09 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:51:09 http-nio-8081-exec-1 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:51:09 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:51:09 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:51:10 http-nio-8081-exec-10 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:51:10 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:51:10 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:51:10 http-nio-8081-exec-2 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:51:10 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:51:10 http-nio-8081-exec-10 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:51:10 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:51:10 http-nio-8081-exec-2 DEBUG <==      Total: 2
2019-4-12 11:51:10 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:51:10 http-nio-8081-exec-9 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:51:10 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:51:10 http-nio-8081-exec-2 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:51:10 http-nio-8081-exec-2 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:51:10 http-nio-8081-exec-2 DEBUG <==      Total: 2
2019-4-12 11:51:10 http-nio-8081-exec-9 DEBUG <==      Total: 6
2019-4-12 11:51:10 http-nio-8081-exec-7 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:51:10 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:51:10 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:51:10 http-nio-8081-exec-8 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:51:10 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:51:10 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:51:10 http-nio-8081-exec-3 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:51:10 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:51:10 http-nio-8081-exec-3 DEBUG <==      Total: 2
2019-4-12 11:51:10 http-nio-8081-exec-8 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:51:10 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:51:10 http-nio-8081-exec-4 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:51:10 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:51:10 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:51:10 http-nio-8081-exec-3 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:51:10 http-nio-8081-exec-3 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:51:10 http-nio-8081-exec-4 DEBUG <==      Total: 6
2019-4-12 11:51:10 http-nio-8081-exec-3 DEBUG <==      Total: 2
2019-4-12 11:51:10 http-nio-8081-exec-6 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:51:10 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:51:10 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:51:10 http-nio-8081-exec-5 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:51:10 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:51:10 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:51:19 http-nio-8081-exec-1 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:51:19 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:51:19 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:51:20 http-nio-8081-exec-10 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:51:20 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:51:20 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:51:20 http-nio-8081-exec-10 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:51:20 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:51:20 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:51:20 http-nio-8081-exec-2 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:51:20 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:51:20 http-nio-8081-exec-2 DEBUG <==      Total: 6
2019-4-12 11:51:20 http-nio-8081-exec-9 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:51:20 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:51:20 http-nio-8081-exec-9 DEBUG <==      Total: 2
2019-4-12 11:51:20 http-nio-8081-exec-9 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:51:20 http-nio-8081-exec-9 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:51:20 http-nio-8081-exec-9 DEBUG <==      Total: 2
2019-4-12 11:51:20 http-nio-8081-exec-7 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:51:20 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:51:20 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 11:51:20 http-nio-8081-exec-8 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:51:20 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:51:20 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 11:51:29 http-nio-8081-exec-3 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:51:29 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:51:29 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:51:30 http-nio-8081-exec-4 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:51:30 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:51:30 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:51:30 http-nio-8081-exec-6 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:51:30 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:51:30 http-nio-8081-exec-4 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:51:30 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:51:30 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:51:30 http-nio-8081-exec-6 DEBUG <==      Total: 2
2019-4-12 11:51:30 http-nio-8081-exec-5 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:51:30 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:51:30 http-nio-8081-exec-5 DEBUG <==      Total: 6
2019-4-12 11:51:30 http-nio-8081-exec-6 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:51:30 http-nio-8081-exec-6 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:51:30 http-nio-8081-exec-6 DEBUG <==      Total: 2
2019-4-12 11:51:30 http-nio-8081-exec-1 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:51:30 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:51:30 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 11:51:30 http-nio-8081-exec-10 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:51:30 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:51:30 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 11:51:31 http-nio-8081-exec-2 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:51:31 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:51:31 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:51:31 http-nio-8081-exec-9 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:51:31 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:51:31 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:51:31 http-nio-8081-exec-9 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:51:31 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:51:31 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 11:51:31 http-nio-8081-exec-9 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:51:31 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 11:51:31 http-nio-8081-exec-9 DEBUG <==      Total: 2
2019-4-12 11:51:31 http-nio-8081-exec-9 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:51:31 http-nio-8081-exec-9 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:51:31 http-nio-8081-exec-8 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:51:31 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 11:51:31 http-nio-8081-exec-9 DEBUG <==      Total: 2
2019-4-12 11:51:31 http-nio-8081-exec-8 DEBUG <==      Total: 6
2019-4-12 11:51:31 http-nio-8081-exec-3 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:51:31 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 11:51:31 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 11:51:31 http-nio-8081-exec-4 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:51:31 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 11:51:31 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 11:51:51 http-nio-8081-exec-5 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 11:51:51 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 11:51:51 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 11:51:52 http-nio-8081-exec-6 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 11:51:52 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:51:52 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:51:52 http-nio-8081-exec-1 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:51:52 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 11:51:52 http-nio-8081-exec-1 DEBUG <==      Total: 2
2019-4-12 11:51:52 http-nio-8081-exec-6 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 11:51:52 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 11:51:52 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 11:51:52 http-nio-8081-exec-1 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 11:51:52 http-nio-8081-exec-1 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 11:51:52 http-nio-8081-exec-1 DEBUG <==      Total: 2
2019-4-12 11:51:52 http-nio-8081-exec-10 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 11:51:52 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 11:51:52 http-nio-8081-exec-10 DEBUG <==      Total: 6
2019-4-12 11:51:52 http-nio-8081-exec-2 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 11:51:52 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 11:51:52 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 11:51:52 http-nio-8081-exec-7 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 11:51:52 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 11:51:52 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 13:54:13 http-nio-8081-exec-4 DEBUG ==>  Preparing: select * from sec_menu where ID_='chai-wu-guan-li' limit 1 
2019-4-12 13:54:13 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 13:54:13 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 13:54:13 http-nio-8081-exec-6 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name from sec_org where DELETED = 0 and state = 1 and type='门诊' 
2019-4-12 13:54:13 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 13:54:13 http-nio-8081-exec-6 DEBUG <==      Total: 2
2019-4-12 13:54:13 http-nio-8081-exec-6 DEBUG ==>  Preparing: select ID_ id, USER_NAME name,ORG_ID orgId from sec_user where DELETED = 0 and STANDBY1 = '医生' 
2019-4-12 13:54:13 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 13:54:13 http-nio-8081-exec-6 DEBUG <==      Total: 10
2019-4-12 13:54:13 http-nio-8081-exec-5 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 13:54:13 http-nio-8081-exec-5 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 13:54:13 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 13:54:13 http-nio-8081-exec-5 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 13:54:13 http-nio-8081-exec-5 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 13:54:13 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 13:54:14 http-nio-8081-exec-1 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic, c.cust_remark FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 13:54:14 http-nio-8081-exec-1 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 13:54:14 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 13:54:14 http-nio-8081-exec-1 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic,c.cust_remark from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 13:54:14 http-nio-8081-exec-1 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String), 0(Integer), 10(Integer)
2019-4-12 13:54:14 http-nio-8081-exec-1 DEBUG <==      Total: 10
2019-4-12 13:57:38 http-nio-8081-exec-7 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 13:57:38 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 13:57:38 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 13:57:38 http-nio-8081-exec-3 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 13:57:38 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 13:57:38 http-nio-8081-exec-3 DEBUG <==      Total: 2
2019-4-12 13:57:38 http-nio-8081-exec-3 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 13:57:38 http-nio-8081-exec-3 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 13:57:38 http-nio-8081-exec-3 DEBUG <==      Total: 2
2019-4-12 13:57:38 http-nio-8081-exec-8 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 13:57:38 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 13:57:38 http-nio-8081-exec-9 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 13:57:38 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 13:57:38 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 13:57:38 http-nio-8081-exec-9 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 13:57:38 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 13:57:38 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 13:57:38 http-nio-8081-exec-8 DEBUG <==      Total: 6
2019-4-12 13:57:38 http-nio-8081-exec-4 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 13:57:38 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 13:57:38 http-nio-8081-exec-6 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 13:57:38 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 13:57:38 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 13:57:38 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 13:57:39 http-nio-8081-exec-5 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 13:57:39 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 13:57:39 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 13:57:40 http-nio-8081-exec-1 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 13:57:40 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 13:57:40 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 13:57:40 http-nio-8081-exec-10 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 13:57:40 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 13:57:40 http-nio-8081-exec-10 DEBUG <==      Total: 2
2019-4-12 13:57:40 http-nio-8081-exec-1 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 13:57:40 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 13:57:40 http-nio-8081-exec-2 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 13:57:40 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 13:57:40 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 13:57:40 http-nio-8081-exec-10 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 13:57:40 http-nio-8081-exec-10 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 13:57:40 http-nio-8081-exec-10 DEBUG <==      Total: 2
2019-4-12 13:57:40 http-nio-8081-exec-2 DEBUG <==      Total: 6
2019-4-12 13:57:40 http-nio-8081-exec-7 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 13:57:40 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 13:57:40 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 13:57:40 http-nio-8081-exec-3 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 13:57:40 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 13:57:40 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 13:57:44 http-nio-8081-exec-9 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 13:57:44 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 13:57:44 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 13:57:44 http-nio-8081-exec-8 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 13:57:44 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 13:57:44 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 13:57:44 http-nio-8081-exec-6 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 13:57:44 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 13:57:44 http-nio-8081-exec-8 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 13:57:44 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 13:57:44 http-nio-8081-exec-6 DEBUG <==      Total: 2
2019-4-12 13:57:44 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 13:57:44 http-nio-8081-exec-6 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 13:57:44 http-nio-8081-exec-6 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 13:57:44 http-nio-8081-exec-6 DEBUG <==      Total: 2
2019-4-12 13:57:44 http-nio-8081-exec-4 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 13:57:44 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 13:57:44 http-nio-8081-exec-4 DEBUG <==      Total: 6
2019-4-12 13:57:44 http-nio-8081-exec-5 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 13:57:44 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 13:57:44 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 13:57:44 http-nio-8081-exec-1 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 13:57:44 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 13:57:44 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 13:57:44 http-nio-8081-exec-10 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 13:57:44 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 13:57:44 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 13:57:45 http-nio-8081-exec-2 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 13:57:45 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 13:57:45 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 13:57:45 http-nio-8081-exec-7 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 13:57:45 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 13:57:45 http-nio-8081-exec-7 DEBUG <==      Total: 2
2019-4-12 13:57:45 http-nio-8081-exec-2 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 13:57:45 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 13:57:45 http-nio-8081-exec-3 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 13:57:45 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 13:57:45 http-nio-8081-exec-7 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 13:57:45 http-nio-8081-exec-7 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 13:57:45 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 13:57:45 http-nio-8081-exec-7 DEBUG <==      Total: 2
2019-4-12 13:57:45 http-nio-8081-exec-3 DEBUG <==      Total: 6
2019-4-12 13:57:45 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 13:57:45 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 13:57:45 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 13:57:45 http-nio-8081-exec-8 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 13:57:45 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 13:57:45 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 13:57:45 http-nio-8081-exec-6 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 13:57:45 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 13:57:45 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 13:57:45 http-nio-8081-exec-4 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 13:57:45 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 13:57:45 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 13:57:45 http-nio-8081-exec-5 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 13:57:45 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 13:57:45 http-nio-8081-exec-5 DEBUG <==      Total: 2
2019-4-12 13:57:45 http-nio-8081-exec-4 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 13:57:45 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 13:57:45 http-nio-8081-exec-1 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 13:57:45 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 13:57:45 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 13:57:45 http-nio-8081-exec-5 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 13:57:45 http-nio-8081-exec-5 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 13:57:45 http-nio-8081-exec-1 DEBUG <==      Total: 6
2019-4-12 13:57:45 http-nio-8081-exec-5 DEBUG <==      Total: 2
2019-4-12 13:57:45 http-nio-8081-exec-10 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 13:57:45 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 13:57:45 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 13:57:45 http-nio-8081-exec-2 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 13:57:45 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 13:57:45 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 13:57:47 http-nio-8081-exec-7 DEBUG ==>  Preparing: SELECT * FROM sec_menu WHERE DELETED = 0 AND ENABLED=1 AND STANBY_ID1='2' AND ID_ IN ( SELECT MENU_ID from sec_menu_member WHERE USER_ID =? UNION SELECT MENU_ID FROM sec_menu_role WHERE ROLE_ID IN ( SELECT ROLE_ID FROM sec_role_member m LEFT JOIN sec_role r ON m.ROLE_ID = r.ID_ WHERE m.USER_ID =? AND r.STATE=1 ) UNION SELECT o.MENU_ID FROM sec_menu_org o LEFT JOIN sec_user u ON o.ORG_ID = u.ORG_ID LEFT JOIN sec_org so ON so.ID_ = u.ORG_ID WHERE u.ID_ = ? AND so.STATE=1 ) ORDER BY sort 
2019-4-12 13:57:47 http-nio-8081-exec-7 DEBUG ==> Parameters: 1(String), 1(String), 1(String)
2019-4-12 13:57:47 http-nio-8081-exec-7 DEBUG <==      Total: 26
2019-4-12 13:57:47 http-nio-8081-exec-3 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 13:57:47 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 13:57:47 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 13:57:48 http-nio-8081-exec-9 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 13:57:48 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 13:57:48 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 13:57:48 http-nio-8081-exec-8 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 13:57:48 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 13:57:48 http-nio-8081-exec-8 DEBUG <==      Total: 2
2019-4-12 13:57:48 http-nio-8081-exec-9 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 13:57:48 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 13:57:48 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 13:57:48 http-nio-8081-exec-8 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 13:57:48 http-nio-8081-exec-8 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 13:57:48 http-nio-8081-exec-8 DEBUG <==      Total: 2
2019-4-12 13:57:48 http-nio-8081-exec-6 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 13:57:48 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 13:57:48 http-nio-8081-exec-6 DEBUG <==      Total: 6
2019-4-12 13:57:48 http-nio-8081-exec-5 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 13:57:48 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 13:57:48 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 13:57:48 http-nio-8081-exec-1 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 13:57:48 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 13:57:48 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 13:57:49 http-nio-8081-exec-4 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 13:57:49 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 13:57:49 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 13:57:49 http-nio-8081-exec-10 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 13:57:49 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 13:57:49 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 13:57:49 http-nio-8081-exec-2 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 13:57:49 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 13:57:49 http-nio-8081-exec-10 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 13:57:49 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 13:57:49 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 13:57:49 http-nio-8081-exec-2 DEBUG <==      Total: 2
2019-4-12 13:57:49 http-nio-8081-exec-2 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 13:57:49 http-nio-8081-exec-2 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 13:57:49 http-nio-8081-exec-2 DEBUG <==      Total: 2
2019-4-12 13:57:49 http-nio-8081-exec-7 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 13:57:49 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 13:57:49 http-nio-8081-exec-7 DEBUG <==      Total: 6
2019-4-12 13:57:49 http-nio-8081-exec-3 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 13:57:49 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 13:57:49 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 13:57:49 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 13:57:49 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 13:57:49 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 13:58:49 http-nio-8081-exec-8 DEBUG ==>  Preparing: select * from sec_menu where ID_='chai-wu-guan-li' limit 1 
2019-4-12 13:58:49 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 13:58:49 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 13:58:50 http-nio-8081-exec-5 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 13:58:50 http-nio-8081-exec-5 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 13:58:50 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 13:58:50 http-nio-8081-exec-5 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 13:58:50 http-nio-8081-exec-5 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 13:58:50 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 13:58:50 http-nio-8081-exec-4 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name from sec_org where DELETED = 0 and state = 1 and type='门诊' 
2019-4-12 13:58:50 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 13:58:50 http-nio-8081-exec-4 DEBUG <==      Total: 2
2019-4-12 13:58:50 http-nio-8081-exec-4 DEBUG ==>  Preparing: select ID_ id, USER_NAME name,ORG_ID orgId from sec_user where DELETED = 0 and STANDBY1 = '医生' 
2019-4-12 13:58:50 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 13:58:50 http-nio-8081-exec-4 DEBUG <==      Total: 10
2019-4-12 13:58:50 http-nio-8081-exec-2 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic, c.cust_remark FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 13:58:50 http-nio-8081-exec-2 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 13:58:50 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 13:58:50 http-nio-8081-exec-2 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic,c.cust_remark from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 13:58:50 http-nio-8081-exec-2 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String), 0(Integer), 10(Integer)
2019-4-12 13:58:50 http-nio-8081-exec-2 DEBUG <==      Total: 10
2019-4-12 13:58:51 http-nio-8081-exec-10 DEBUG ==>  Preparing: select * from sec_menu where ID_='chai-wu-guan-li' limit 1 
2019-4-12 13:58:51 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 13:58:51 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 13:58:51 http-nio-8081-exec-7 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 13:58:51 http-nio-8081-exec-7 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 13:58:51 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 13:58:51 http-nio-8081-exec-3 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name from sec_org where DELETED = 0 and state = 1 and type='门诊' 
2019-4-12 13:58:51 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 13:58:51 http-nio-8081-exec-3 DEBUG <==      Total: 2
2019-4-12 13:58:51 http-nio-8081-exec-7 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 13:58:51 http-nio-8081-exec-7 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 13:58:51 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 13:58:51 http-nio-8081-exec-3 DEBUG ==>  Preparing: select ID_ id, USER_NAME name,ORG_ID orgId from sec_user where DELETED = 0 and STANDBY1 = '医生' 
2019-4-12 13:58:51 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 13:58:51 http-nio-8081-exec-3 DEBUG <==      Total: 10
2019-4-12 13:58:52 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic, c.cust_remark FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 13:58:52 http-nio-8081-exec-9 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 13:58:52 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 13:58:52 http-nio-8081-exec-9 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic,c.cust_remark from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 13:58:52 http-nio-8081-exec-9 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String), 0(Integer), 10(Integer)
2019-4-12 13:58:52 http-nio-8081-exec-9 DEBUG <==      Total: 10
2019-4-12 13:58:52 http-nio-8081-exec-8 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 13:58:52 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 13:58:52 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 13:58:53 http-nio-8081-exec-6 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 13:58:53 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 13:58:53 http-nio-8081-exec-1 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 13:58:53 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 13:58:53 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 13:58:53 http-nio-8081-exec-1 DEBUG <==      Total: 2
2019-4-12 13:58:53 http-nio-8081-exec-6 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 13:58:53 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 13:58:53 http-nio-8081-exec-1 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 13:58:53 http-nio-8081-exec-1 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 13:58:53 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 13:58:53 http-nio-8081-exec-5 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 13:58:53 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 13:58:53 http-nio-8081-exec-5 DEBUG <==      Total: 6
2019-4-12 13:58:53 http-nio-8081-exec-1 DEBUG <==      Total: 2
2019-4-12 13:58:53 http-nio-8081-exec-4 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 13:58:53 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 13:58:53 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 13:58:53 http-nio-8081-exec-2 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 13:58:53 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 13:58:53 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 13:58:53 http-nio-8081-exec-10 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 13:58:53 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 13:58:53 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 13:58:54 http-nio-8081-exec-7 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 13:58:54 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 13:58:54 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 13:58:54 http-nio-8081-exec-3 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 13:58:54 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 13:58:54 http-nio-8081-exec-7 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 13:58:54 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 13:58:54 http-nio-8081-exec-3 DEBUG <==      Total: 2
2019-4-12 13:58:54 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 13:58:54 http-nio-8081-exec-9 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 13:58:54 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 13:58:54 http-nio-8081-exec-9 DEBUG <==      Total: 6
2019-4-12 13:58:54 http-nio-8081-exec-3 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 13:58:54 http-nio-8081-exec-3 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 13:58:54 http-nio-8081-exec-3 DEBUG <==      Total: 2
2019-4-12 13:58:54 http-nio-8081-exec-8 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 13:58:54 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 13:58:54 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 13:58:54 http-nio-8081-exec-6 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 13:58:54 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 13:58:54 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 13:58:54 http-nio-8081-exec-5 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 13:58:54 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 13:58:54 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 13:58:54 http-nio-8081-exec-1 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 13:58:54 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 13:58:54 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 13:58:54 http-nio-8081-exec-4 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 13:58:54 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 13:58:54 http-nio-8081-exec-4 DEBUG <==      Total: 2
2019-4-12 13:58:54 http-nio-8081-exec-1 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 13:58:54 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 13:58:54 http-nio-8081-exec-2 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 13:58:54 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 13:58:54 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 13:58:54 http-nio-8081-exec-4 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 13:58:54 http-nio-8081-exec-4 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 13:58:54 http-nio-8081-exec-2 DEBUG <==      Total: 6
2019-4-12 13:58:54 http-nio-8081-exec-4 DEBUG <==      Total: 2
2019-4-12 13:58:55 http-nio-8081-exec-10 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 13:58:55 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 13:58:55 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 13:58:55 http-nio-8081-exec-7 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 13:58:55 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 13:58:55 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 13:58:56 http-nio-8081-exec-9 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 13:58:56 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 13:58:56 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 13:58:56 http-nio-8081-exec-3 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 13:58:56 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 13:58:56 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 13:58:56 http-nio-8081-exec-8 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 13:58:56 http-nio-8081-exec-3 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 13:58:56 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 13:58:56 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 13:58:56 http-nio-8081-exec-8 DEBUG <==      Total: 2
2019-4-12 13:58:56 http-nio-8081-exec-8 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 13:58:56 http-nio-8081-exec-8 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 13:58:56 http-nio-8081-exec-8 DEBUG <==      Total: 2
2019-4-12 13:58:56 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 13:58:56 http-nio-8081-exec-6 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 13:58:56 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 13:58:56 http-nio-8081-exec-6 DEBUG <==      Total: 6
2019-4-12 13:58:56 http-nio-8081-exec-5 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 13:58:56 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 13:58:56 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 13:58:56 http-nio-8081-exec-1 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 13:58:56 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 13:58:56 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 14:59:31 http-nio-8081-exec-7 DEBUG ==>  Preparing: SELECT * FROM sec_menu WHERE DELETED = 0 AND ENABLED=1 AND STANBY_ID1='2' AND ID_ IN ( SELECT MENU_ID from sec_menu_member WHERE USER_ID =? UNION SELECT MENU_ID FROM sec_menu_role WHERE ROLE_ID IN ( SELECT ROLE_ID FROM sec_role_member m LEFT JOIN sec_role r ON m.ROLE_ID = r.ID_ WHERE m.USER_ID =? AND r.STATE=1 ) UNION SELECT o.MENU_ID FROM sec_menu_org o LEFT JOIN sec_user u ON o.ORG_ID = u.ORG_ID LEFT JOIN sec_org so ON so.ID_ = u.ORG_ID WHERE u.ID_ = ? AND so.STATE=1 ) ORDER BY sort 
2019-4-12 14:59:31 http-nio-8081-exec-7 DEBUG ==> Parameters: 1(String), 1(String), 1(String)
2019-4-12 14:59:31 http-nio-8081-exec-7 DEBUG <==      Total: 26
2019-4-12 14:59:31 http-nio-8081-exec-9 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 14:59:31 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 14:59:31 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 14:59:32 http-nio-8081-exec-8 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 14:59:32 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 14:59:32 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 14:59:32 http-nio-8081-exec-3 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 14:59:32 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 14:59:32 http-nio-8081-exec-3 DEBUG <==      Total: 2
2019-4-12 14:59:32 http-nio-8081-exec-6 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 14:59:32 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 14:59:32 http-nio-8081-exec-3 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 14:59:32 http-nio-8081-exec-3 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 14:59:32 http-nio-8081-exec-3 DEBUG <==      Total: 2
2019-4-12 14:59:32 http-nio-8081-exec-8 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 14:59:32 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 14:59:32 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 14:59:32 http-nio-8081-exec-6 DEBUG <==      Total: 6
2019-4-12 14:59:32 http-nio-8081-exec-5 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 14:59:32 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 14:59:32 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 14:59:32 http-nio-8081-exec-1 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 14:59:32 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 14:59:32 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 14:59:37 http-nio-8081-exec-4 DEBUG ==>  Preparing: SELECT * FROM sec_menu WHERE DELETED = 0 AND ENABLED=1 AND STANBY_ID1='2' AND ID_ IN ( SELECT MENU_ID from sec_menu_member WHERE USER_ID =? UNION SELECT MENU_ID FROM sec_menu_role WHERE ROLE_ID IN ( SELECT ROLE_ID FROM sec_role_member m LEFT JOIN sec_role r ON m.ROLE_ID = r.ID_ WHERE m.USER_ID =? AND r.STATE=1 ) UNION SELECT o.MENU_ID FROM sec_menu_org o LEFT JOIN sec_user u ON o.ORG_ID = u.ORG_ID LEFT JOIN sec_org so ON so.ID_ = u.ORG_ID WHERE u.ID_ = ? AND so.STATE=1 ) ORDER BY sort 
2019-4-12 14:59:37 http-nio-8081-exec-4 DEBUG ==> Parameters: 1(String), 1(String), 1(String)
2019-4-12 14:59:37 http-nio-8081-exec-4 DEBUG <==      Total: 26
2019-4-12 14:59:37 http-nio-8081-exec-2 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 14:59:37 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 14:59:37 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 14:59:38 http-nio-8081-exec-10 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 14:59:38 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 14:59:38 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 14:59:38 http-nio-8081-exec-7 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 14:59:38 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 14:59:38 http-nio-8081-exec-10 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 14:59:38 http-nio-8081-exec-9 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 14:59:38 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 14:59:38 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 14:59:38 http-nio-8081-exec-7 DEBUG <==      Total: 2
2019-4-12 14:59:38 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 14:59:38 http-nio-8081-exec-7 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 14:59:38 http-nio-8081-exec-7 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 14:59:38 http-nio-8081-exec-7 DEBUG <==      Total: 2
2019-4-12 14:59:38 http-nio-8081-exec-9 DEBUG <==      Total: 6
2019-4-12 14:59:38 http-nio-8081-exec-3 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 14:59:38 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 14:59:38 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 14:59:38 http-nio-8081-exec-8 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 14:59:38 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 14:59:38 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 14:59:38 http-nio-8081-exec-6 DEBUG ==>  Preparing: SELECT * FROM sec_menu WHERE DELETED = 0 AND ENABLED=1 AND STANBY_ID1='2' AND ID_ IN ( SELECT MENU_ID from sec_menu_member WHERE USER_ID =? UNION SELECT MENU_ID FROM sec_menu_role WHERE ROLE_ID IN ( SELECT ROLE_ID FROM sec_role_member m LEFT JOIN sec_role r ON m.ROLE_ID = r.ID_ WHERE m.USER_ID =? AND r.STATE=1 ) UNION SELECT o.MENU_ID FROM sec_menu_org o LEFT JOIN sec_user u ON o.ORG_ID = u.ORG_ID LEFT JOIN sec_org so ON so.ID_ = u.ORG_ID WHERE u.ID_ = ? AND so.STATE=1 ) ORDER BY sort 
2019-4-12 14:59:38 http-nio-8081-exec-6 DEBUG ==> Parameters: 1(String), 1(String), 1(String)
2019-4-12 14:59:38 http-nio-8081-exec-6 DEBUG <==      Total: 26
2019-4-12 14:59:39 http-nio-8081-exec-5 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 14:59:39 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 14:59:39 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 14:59:39 http-nio-8081-exec-1 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 14:59:39 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 14:59:39 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 14:59:39 http-nio-8081-exec-4 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 14:59:39 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 14:59:39 http-nio-8081-exec-4 DEBUG <==      Total: 2
2019-4-12 14:59:39 http-nio-8081-exec-1 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 14:59:39 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 14:59:39 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 14:59:39 http-nio-8081-exec-4 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 14:59:39 http-nio-8081-exec-4 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 14:59:39 http-nio-8081-exec-4 DEBUG <==      Total: 2
2019-4-12 14:59:39 http-nio-8081-exec-2 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 14:59:39 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 14:59:39 http-nio-8081-exec-2 DEBUG <==      Total: 6
2019-4-12 14:59:39 http-nio-8081-exec-10 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 14:59:39 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 14:59:39 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 14:59:39 http-nio-8081-exec-7 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 14:59:39 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 14:59:39 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 14:59:41 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT * FROM sec_menu WHERE DELETED = 0 AND ENABLED=1 AND STANBY_ID1='2' AND ID_ IN ( SELECT MENU_ID from sec_menu_member WHERE USER_ID =? UNION SELECT MENU_ID FROM sec_menu_role WHERE ROLE_ID IN ( SELECT ROLE_ID FROM sec_role_member m LEFT JOIN sec_role r ON m.ROLE_ID = r.ID_ WHERE m.USER_ID =? AND r.STATE=1 ) UNION SELECT o.MENU_ID FROM sec_menu_org o LEFT JOIN sec_user u ON o.ORG_ID = u.ORG_ID LEFT JOIN sec_org so ON so.ID_ = u.ORG_ID WHERE u.ID_ = ? AND so.STATE=1 ) ORDER BY sort 
2019-4-12 14:59:41 http-nio-8081-exec-9 DEBUG ==> Parameters: 1(String), 1(String), 1(String)
2019-4-12 14:59:41 http-nio-8081-exec-9 DEBUG <==      Total: 26
2019-4-12 14:59:41 http-nio-8081-exec-3 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 14:59:41 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 14:59:41 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 14:59:41 http-nio-8081-exec-8 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 14:59:41 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 14:59:41 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 14:59:41 http-nio-8081-exec-6 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 14:59:41 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 14:59:41 http-nio-8081-exec-6 DEBUG <==      Total: 2
2019-4-12 14:59:41 http-nio-8081-exec-8 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 14:59:41 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 14:59:41 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 14:59:41 http-nio-8081-exec-6 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 14:59:41 http-nio-8081-exec-6 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 14:59:41 http-nio-8081-exec-5 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 14:59:41 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 14:59:41 http-nio-8081-exec-6 DEBUG <==      Total: 2
2019-4-12 14:59:41 http-nio-8081-exec-5 DEBUG <==      Total: 6
2019-4-12 14:59:42 http-nio-8081-exec-1 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 14:59:42 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 14:59:42 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 14:59:42 http-nio-8081-exec-4 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 14:59:42 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 14:59:42 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 14:59:43 http-nio-8081-exec-2 DEBUG ==>  Preparing: select * from sec_menu where ID_='chai-wu-guan-li' limit 1 
2019-4-12 14:59:43 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 14:59:43 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 14:59:43 http-nio-8081-exec-7 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name from sec_org where DELETED = 0 and state = 1 and type='门诊' 
2019-4-12 14:59:43 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 14:59:43 http-nio-8081-exec-7 DEBUG <==      Total: 2
2019-4-12 14:59:43 http-nio-8081-exec-7 DEBUG ==>  Preparing: select ID_ id, USER_NAME name,ORG_ID orgId from sec_user where DELETED = 0 and STANDBY1 = '医生' 
2019-4-12 14:59:43 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 14:59:43 http-nio-8081-exec-7 DEBUG <==      Total: 10
2019-4-12 14:59:43 http-nio-8081-exec-10 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 14:59:43 http-nio-8081-exec-10 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 14:59:43 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 14:59:43 http-nio-8081-exec-10 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 14:59:43 http-nio-8081-exec-10 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 14:59:43 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 14:59:43 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic, c.cust_remark FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 14:59:43 http-nio-8081-exec-9 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 14:59:43 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 14:59:43 http-nio-8081-exec-9 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic,c.cust_remark from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 14:59:43 http-nio-8081-exec-9 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String), 0(Integer), 10(Integer)
2019-4-12 14:59:43 http-nio-8081-exec-9 DEBUG <==      Total: 10
2019-4-12 14:59:47 http-nio-8081-exec-3 DEBUG ==>  Preparing: SELECT * FROM sec_menu WHERE DELETED = 0 AND ENABLED=1 AND STANBY_ID1='2' AND ID_ IN ( SELECT MENU_ID from sec_menu_member WHERE USER_ID =? UNION SELECT MENU_ID FROM sec_menu_role WHERE ROLE_ID IN ( SELECT ROLE_ID FROM sec_role_member m LEFT JOIN sec_role r ON m.ROLE_ID = r.ID_ WHERE m.USER_ID =? AND r.STATE=1 ) UNION SELECT o.MENU_ID FROM sec_menu_org o LEFT JOIN sec_user u ON o.ORG_ID = u.ORG_ID LEFT JOIN sec_org so ON so.ID_ = u.ORG_ID WHERE u.ID_ = ? AND so.STATE=1 ) ORDER BY sort 
2019-4-12 14:59:47 http-nio-8081-exec-3 DEBUG ==> Parameters: 1(String), 1(String), 1(String)
2019-4-12 14:59:47 http-nio-8081-exec-3 DEBUG <==      Total: 26
2019-4-12 14:59:47 http-nio-8081-exec-8 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 14:59:47 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 14:59:47 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 14:59:48 http-nio-8081-exec-6 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 14:59:48 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 14:59:48 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 14:59:48 http-nio-8081-exec-5 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 14:59:48 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 14:59:48 http-nio-8081-exec-5 DEBUG <==      Total: 2
2019-4-12 14:59:48 http-nio-8081-exec-6 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 14:59:48 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 14:59:48 http-nio-8081-exec-1 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 14:59:48 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 14:59:48 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 14:59:48 http-nio-8081-exec-5 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 14:59:48 http-nio-8081-exec-5 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 14:59:48 http-nio-8081-exec-5 DEBUG <==      Total: 2
2019-4-12 14:59:48 http-nio-8081-exec-1 DEBUG <==      Total: 6
2019-4-12 14:59:48 http-nio-8081-exec-4 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 14:59:48 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 14:59:48 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 14:59:48 http-nio-8081-exec-2 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 14:59:48 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 14:59:48 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 14:59:48 http-nio-8081-exec-7 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 14:59:48 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 14:59:48 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 14:59:48 http-nio-8081-exec-10 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 14:59:48 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 14:59:48 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 14:59:48 http-nio-8081-exec-9 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 14:59:48 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 14:59:48 http-nio-8081-exec-9 DEBUG <==      Total: 2
2019-4-12 14:59:48 http-nio-8081-exec-10 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 14:59:48 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 14:59:48 http-nio-8081-exec-3 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 14:59:48 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 14:59:48 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 14:59:48 http-nio-8081-exec-9 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 14:59:48 http-nio-8081-exec-9 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 14:59:48 http-nio-8081-exec-9 DEBUG <==      Total: 2
2019-4-12 14:59:48 http-nio-8081-exec-3 DEBUG <==      Total: 6
2019-4-12 14:59:49 http-nio-8081-exec-8 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 14:59:49 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 14:59:49 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 14:59:49 http-nio-8081-exec-6 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 14:59:49 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 14:59:49 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 15:22:06 http-nio-8081-exec-2 DEBUG ==>  Preparing: select * from sec_menu where ID_='chai-wu-guan-li' limit 1 
2019-4-12 15:22:06 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 15:22:06 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 15:22:07 http-nio-8081-exec-7 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 15:22:07 http-nio-8081-exec-7 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 15:22:07 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 15:22:07 http-nio-8081-exec-10 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name from sec_org where DELETED = 0 and state = 1 and type='门诊' 
2019-4-12 15:22:07 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 15:22:07 http-nio-8081-exec-10 DEBUG <==      Total: 2
2019-4-12 15:22:07 http-nio-8081-exec-7 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 15:22:07 http-nio-8081-exec-7 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 15:22:07 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 15:22:07 http-nio-8081-exec-10 DEBUG ==>  Preparing: select ID_ id, USER_NAME name,ORG_ID orgId from sec_user where DELETED = 0 and STANDBY1 = '医生' 
2019-4-12 15:22:07 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 15:22:07 http-nio-8081-exec-10 DEBUG <==      Total: 10
2019-4-12 15:22:07 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic, c.cust_remark FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 15:22:07 http-nio-8081-exec-9 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 15:22:07 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 15:22:07 http-nio-8081-exec-9 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic,c.cust_remark from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 15:22:07 http-nio-8081-exec-9 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String), 0(Integer), 10(Integer)
2019-4-12 15:22:07 http-nio-8081-exec-9 DEBUG <==      Total: 10
2019-4-12 15:22:10 http-nio-8081-exec-8 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 15:22:10 http-nio-8081-exec-8 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 15:22:10 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 15:22:10 http-nio-8081-exec-8 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 15:22:10 http-nio-8081-exec-8 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 15:22:10 http-nio-8081-exec-3 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic, c.cust_remark FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 15:22:10 http-nio-8081-exec-3 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 15:22:10 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 15:22:10 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 15:22:10 http-nio-8081-exec-3 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic,c.cust_remark from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 15:22:10 http-nio-8081-exec-3 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String), 0(Integer), 10(Integer)
2019-4-12 15:22:10 http-nio-8081-exec-3 DEBUG <==      Total: 8
2019-4-12 15:29:09 main INFO The following profiles are active: dev
2019-4-12 15:29:19 main DEBUG ==>  Preparing: SELECT * FROM sec_menu sm where deleted=0 AND sm.STANBY_ID1 = '2' ORDER BY SORT 
2019-4-12 15:29:19 main DEBUG ==> Parameters: 
2019-4-12 15:29:19 main DEBUG <==      Total: 48
2019-4-12 15:29:24 localhost-startStop-1 INFO JedisPool注入成功！！
2019-4-12 15:29:24 localhost-startStop-1 INFO redis地址：localhost:6379
2019-4-12 15:29:35 main INFO Started BaseFrameApplication in 31.88 seconds (JVM running for 33.861)
2019-4-12 15:33:38 http-nio-8081-exec-2 DEBUG ==>  Preparing: SELECT * FROM sec_menu WHERE DELETED = 0 AND ENABLED=1 AND STANBY_ID1='2' AND ID_ IN ( SELECT MENU_ID from sec_menu_member WHERE USER_ID =? UNION SELECT MENU_ID FROM sec_menu_role WHERE ROLE_ID IN ( SELECT ROLE_ID FROM sec_role_member m LEFT JOIN sec_role r ON m.ROLE_ID = r.ID_ WHERE m.USER_ID =? AND r.STATE=1 ) UNION SELECT o.MENU_ID FROM sec_menu_org o LEFT JOIN sec_user u ON o.ORG_ID = u.ORG_ID LEFT JOIN sec_org so ON so.ID_ = u.ORG_ID WHERE u.ID_ = ? AND so.STATE=1 ) ORDER BY sort 
2019-4-12 15:33:38 http-nio-8081-exec-2 DEBUG ==> Parameters: 1(String), 1(String), 1(String)
2019-4-12 15:33:38 http-nio-8081-exec-2 DEBUG <==      Total: 26
2019-4-12 15:33:39 http-nio-8081-exec-1 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 15:33:39 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 15:33:39 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 15:33:39 http-nio-8081-exec-5 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 15:33:39 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 15:33:39 http-nio-8081-exec-5 DEBUG <==      Total: 6
2019-4-12 15:33:39 http-nio-8081-exec-3 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 15:33:39 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 15:33:39 http-nio-8081-exec-3 DEBUG <==      Total: 2
2019-4-12 15:33:39 http-nio-8081-exec-6 DEBUG ==>  Preparing: SELECT a.*,b.* from (SELECT SUM(sf_money) as monDM,SUM(sf_money)-SUM(arrears) as monSM from cust_sfjl where DATE_FORMAT( create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') and deleted = 0)a,( SELECT IFNULL(SUM(sf_money),0) as dayDM,IFNULL(SUM(sf_money)-SUM(arrears),0) as daySM from cust_sfjl where to_days(now())-to_days(create_time) = 1 and deleted = 0)b limit 1 
2019-4-12 15:33:39 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 15:33:39 http-nio-8081-exec-3 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 15:33:39 http-nio-8081-exec-3 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 15:33:39 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 15:33:39 http-nio-8081-exec-3 DEBUG <==      Total: 2
2019-4-12 15:33:39 http-nio-8081-exec-4 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 15:33:39 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 15:33:39 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 15:33:39 http-nio-8081-exec-4 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 15:33:39 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 15:33:39 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 15:33:39 http-nio-8081-exec-8 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 15:33:39 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 15:33:39 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 15:33:39 http-nio-8081-exec-7 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 15:33:39 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 15:33:39 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 15:33:43 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT * FROM sec_menu WHERE DELETED = 0 AND ENABLED=1 AND STANBY_ID1='2' AND ID_ IN ( SELECT MENU_ID from sec_menu_member WHERE USER_ID =? UNION SELECT MENU_ID FROM sec_menu_role WHERE ROLE_ID IN ( SELECT ROLE_ID FROM sec_role_member m LEFT JOIN sec_role r ON m.ROLE_ID = r.ID_ WHERE m.USER_ID =? AND r.STATE=1 ) UNION SELECT o.MENU_ID FROM sec_menu_org o LEFT JOIN sec_user u ON o.ORG_ID = u.ORG_ID LEFT JOIN sec_org so ON so.ID_ = u.ORG_ID WHERE u.ID_ = ? AND so.STATE=1 ) ORDER BY sort 
2019-4-12 15:33:43 http-nio-8081-exec-9 DEBUG ==> Parameters: 1(String), 1(String), 1(String)
2019-4-12 15:33:43 http-nio-8081-exec-9 DEBUG <==      Total: 26
2019-4-12 15:33:43 http-nio-8081-exec-10 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 15:33:43 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 15:33:43 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 15:33:43 http-nio-8081-exec-2 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 15:33:43 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 15:33:43 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 15:33:43 http-nio-8081-exec-2 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 15:33:43 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 15:33:43 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 15:33:43 http-nio-8081-exec-1 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 15:33:43 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 15:33:43 http-nio-8081-exec-1 DEBUG <==      Total: 2
2019-4-12 15:33:43 http-nio-8081-exec-1 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 15:33:43 http-nio-8081-exec-1 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 15:33:43 http-nio-8081-exec-1 DEBUG <==      Total: 2
2019-4-12 15:33:43 http-nio-8081-exec-6 DEBUG ==>  Preparing: SELECT a.*,b.* from (SELECT SUM(sf_money) as monDM,SUM(sf_money)-SUM(arrears) as monSM from cust_sfjl where DATE_FORMAT( create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') and deleted = 0)a,( SELECT IFNULL(SUM(sf_money),0) as dayDM,IFNULL(SUM(sf_money)-SUM(arrears),0) as daySM from cust_sfjl where to_days(now())-to_days(create_time) = 1 and deleted = 0)b limit 1 
2019-4-12 15:33:43 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 15:33:43 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 15:33:43 http-nio-8081-exec-2 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 15:33:43 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 15:33:43 http-nio-8081-exec-2 DEBUG <==      Total: 6
2019-4-12 15:33:43 http-nio-8081-exec-3 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 15:33:43 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 15:33:43 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 15:33:43 http-nio-8081-exec-4 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 15:33:43 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 15:33:43 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 15:33:46 http-nio-8081-exec-8 DEBUG ==>  Preparing: SELECT * FROM sec_menu WHERE DELETED = 0 AND ENABLED=1 AND STANBY_ID1='2' AND ID_ IN ( SELECT MENU_ID from sec_menu_member WHERE USER_ID =? UNION SELECT MENU_ID FROM sec_menu_role WHERE ROLE_ID IN ( SELECT ROLE_ID FROM sec_role_member m LEFT JOIN sec_role r ON m.ROLE_ID = r.ID_ WHERE m.USER_ID =? AND r.STATE=1 ) UNION SELECT o.MENU_ID FROM sec_menu_org o LEFT JOIN sec_user u ON o.ORG_ID = u.ORG_ID LEFT JOIN sec_org so ON so.ID_ = u.ORG_ID WHERE u.ID_ = ? AND so.STATE=1 ) ORDER BY sort 
2019-4-12 15:33:46 http-nio-8081-exec-8 DEBUG ==> Parameters: 1(String), 1(String), 1(String)
2019-4-12 15:33:46 http-nio-8081-exec-8 DEBUG <==      Total: 26
2019-4-12 15:33:46 http-nio-8081-exec-7 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 15:33:46 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 15:33:46 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 15:33:46 http-nio-8081-exec-9 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 15:33:46 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 15:33:46 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 15:33:46 http-nio-8081-exec-9 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 15:33:46 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 15:33:46 http-nio-8081-exec-10 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 15:33:46 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 15:33:46 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 15:33:46 http-nio-8081-exec-10 DEBUG <==      Total: 2
2019-4-12 15:33:46 http-nio-8081-exec-10 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 15:33:46 http-nio-8081-exec-10 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 15:33:46 http-nio-8081-exec-5 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 15:33:46 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 15:33:46 http-nio-8081-exec-10 DEBUG <==      Total: 2
2019-4-12 15:33:46 http-nio-8081-exec-5 DEBUG <==      Total: 6
2019-4-12 15:33:47 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT a.*,b.* from (SELECT SUM(sf_money) as monDM,SUM(sf_money)-SUM(arrears) as monSM from cust_sfjl where DATE_FORMAT( create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') and deleted = 0)a,( SELECT IFNULL(SUM(sf_money),0) as dayDM,IFNULL(SUM(sf_money)-SUM(arrears),0) as daySM from cust_sfjl where to_days(now())-to_days(create_time) = 1 and deleted = 0)b limit 1 
2019-4-12 15:33:47 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 15:33:47 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 15:33:47 http-nio-8081-exec-2 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 15:33:47 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 15:33:47 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 15:33:47 http-nio-8081-exec-1 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 15:33:47 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 15:33:47 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 15:33:49 http-nio-8081-exec-3 DEBUG ==>  Preparing: SELECT * FROM sec_menu WHERE DELETED = 0 AND ENABLED=1 AND STANBY_ID1='2' AND ID_ IN ( SELECT MENU_ID from sec_menu_member WHERE USER_ID =? UNION SELECT MENU_ID FROM sec_menu_role WHERE ROLE_ID IN ( SELECT ROLE_ID FROM sec_role_member m LEFT JOIN sec_role r ON m.ROLE_ID = r.ID_ WHERE m.USER_ID =? AND r.STATE=1 ) UNION SELECT o.MENU_ID FROM sec_menu_org o LEFT JOIN sec_user u ON o.ORG_ID = u.ORG_ID LEFT JOIN sec_org so ON so.ID_ = u.ORG_ID WHERE u.ID_ = ? AND so.STATE=1 ) ORDER BY sort 
2019-4-12 15:33:49 http-nio-8081-exec-3 DEBUG ==> Parameters: 1(String), 1(String), 1(String)
2019-4-12 15:33:49 http-nio-8081-exec-3 DEBUG <==      Total: 26
2019-4-12 15:33:49 http-nio-8081-exec-4 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 15:33:49 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 15:33:49 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 15:33:49 http-nio-8081-exec-8 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 15:33:49 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 15:33:49 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 15:33:49 http-nio-8081-exec-7 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 15:33:49 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 15:33:49 http-nio-8081-exec-7 DEBUG <==      Total: 2
2019-4-12 15:33:49 http-nio-8081-exec-8 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 15:33:49 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 15:33:49 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 15:33:49 http-nio-8081-exec-7 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 15:33:49 http-nio-8081-exec-7 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 15:33:49 http-nio-8081-exec-6 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 15:33:49 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 15:33:49 http-nio-8081-exec-8 DEBUG ==>  Preparing: SELECT a.*,b.* from (SELECT SUM(sf_money) as monDM,SUM(sf_money)-SUM(arrears) as monSM from cust_sfjl where DATE_FORMAT( create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') and deleted = 0)a,( SELECT IFNULL(SUM(sf_money),0) as dayDM,IFNULL(SUM(sf_money)-SUM(arrears),0) as daySM from cust_sfjl where to_days(now())-to_days(create_time) = 1 and deleted = 0)b limit 1 
2019-4-12 15:33:49 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 15:33:49 http-nio-8081-exec-6 DEBUG <==      Total: 6
2019-4-12 15:33:49 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 15:33:49 http-nio-8081-exec-7 DEBUG <==      Total: 2
2019-4-12 15:33:49 http-nio-8081-exec-10 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 15:33:49 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 15:33:49 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 15:33:49 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 15:33:49 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 15:33:49 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 15:33:51 http-nio-8081-exec-2 DEBUG ==>  Preparing: SELECT * FROM sec_menu WHERE DELETED = 0 AND ENABLED=1 AND STANBY_ID1='2' AND ID_ IN ( SELECT MENU_ID from sec_menu_member WHERE USER_ID =? UNION SELECT MENU_ID FROM sec_menu_role WHERE ROLE_ID IN ( SELECT ROLE_ID FROM sec_role_member m LEFT JOIN sec_role r ON m.ROLE_ID = r.ID_ WHERE m.USER_ID =? AND r.STATE=1 ) UNION SELECT o.MENU_ID FROM sec_menu_org o LEFT JOIN sec_user u ON o.ORG_ID = u.ORG_ID LEFT JOIN sec_org so ON so.ID_ = u.ORG_ID WHERE u.ID_ = ? AND so.STATE=1 ) ORDER BY sort 
2019-4-12 15:33:51 http-nio-8081-exec-2 DEBUG ==> Parameters: 1(String), 1(String), 1(String)
2019-4-12 15:33:51 http-nio-8081-exec-2 DEBUG <==      Total: 26
2019-4-12 15:33:51 http-nio-8081-exec-1 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 15:33:51 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 15:33:51 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 15:33:52 http-nio-8081-exec-4 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 15:33:52 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 15:33:52 http-nio-8081-exec-4 DEBUG <==      Total: 2
2019-4-12 15:33:52 http-nio-8081-exec-5 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 15:33:52 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 15:33:52 http-nio-8081-exec-5 DEBUG <==      Total: 6
2019-4-12 15:33:52 http-nio-8081-exec-4 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 15:33:52 http-nio-8081-exec-4 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 15:33:52 http-nio-8081-exec-4 DEBUG <==      Total: 2
2019-4-12 15:33:52 http-nio-8081-exec-6 DEBUG ==>  Preparing: SELECT a.*,b.* from (SELECT SUM(sf_money) as monDM,SUM(sf_money)-SUM(arrears) as monSM from cust_sfjl where DATE_FORMAT( create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') and deleted = 0)a,( SELECT IFNULL(SUM(sf_money),0) as dayDM,IFNULL(SUM(sf_money)-SUM(arrears),0) as daySM from cust_sfjl where to_days(now())-to_days(create_time) = 1 and deleted = 0)b limit 1 
2019-4-12 15:33:52 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 15:33:52 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 15:33:52 http-nio-8081-exec-3 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 15:33:52 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 15:33:52 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 15:33:52 http-nio-8081-exec-3 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 15:33:52 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 15:33:52 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 15:33:52 http-nio-8081-exec-7 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 15:33:52 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 15:33:52 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 15:33:52 http-nio-8081-exec-8 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 15:33:52 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 15:33:52 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 15:34:13 http-nio-8081-exec-10 DEBUG ==>  Preparing: SELECT * FROM sec_menu WHERE DELETED = 0 AND ENABLED=1 AND STANBY_ID1='2' AND ID_ IN ( SELECT MENU_ID from sec_menu_member WHERE USER_ID =? UNION SELECT MENU_ID FROM sec_menu_role WHERE ROLE_ID IN ( SELECT ROLE_ID FROM sec_role_member m LEFT JOIN sec_role r ON m.ROLE_ID = r.ID_ WHERE m.USER_ID =? AND r.STATE=1 ) UNION SELECT o.MENU_ID FROM sec_menu_org o LEFT JOIN sec_user u ON o.ORG_ID = u.ORG_ID LEFT JOIN sec_org so ON so.ID_ = u.ORG_ID WHERE u.ID_ = ? AND so.STATE=1 ) ORDER BY sort 
2019-4-12 15:34:13 http-nio-8081-exec-10 DEBUG ==> Parameters: 1(String), 1(String), 1(String)
2019-4-12 15:34:13 http-nio-8081-exec-10 DEBUG <==      Total: 26
2019-4-12 15:34:13 http-nio-8081-exec-9 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 15:34:13 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 15:34:13 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 15:34:13 http-nio-8081-exec-2 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 15:34:13 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 15:34:13 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 15:34:13 http-nio-8081-exec-1 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 15:34:13 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 15:34:13 http-nio-8081-exec-1 DEBUG <==      Total: 2
2019-4-12 15:34:13 http-nio-8081-exec-2 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 15:34:13 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 15:34:13 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 15:34:13 http-nio-8081-exec-1 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 15:34:13 http-nio-8081-exec-1 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 15:34:13 http-nio-8081-exec-1 DEBUG <==      Total: 2
2019-4-12 15:34:13 http-nio-8081-exec-5 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 15:34:13 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 15:34:13 http-nio-8081-exec-4 DEBUG ==>  Preparing: SELECT a.*,b.* from (SELECT SUM(sf_money) as monDM,SUM(sf_money)-SUM(arrears) as monSM from cust_sfjl where DATE_FORMAT( create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') and deleted = 0)a,( SELECT IFNULL(SUM(sf_money),0) as dayDM,IFNULL(SUM(sf_money)-SUM(arrears),0) as daySM from cust_sfjl where to_days(now())-to_days(create_time) = 1 and deleted = 0)b limit 1 
2019-4-12 15:34:13 http-nio-8081-exec-5 DEBUG <==      Total: 6
2019-4-12 15:34:13 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 15:34:13 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 15:34:13 http-nio-8081-exec-6 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 15:34:13 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 15:34:13 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 15:34:13 http-nio-8081-exec-3 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 15:34:13 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 15:34:13 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 15:34:24 http-nio-8081-exec-7 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 15:34:24 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 15:34:24 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 15:34:24 http-nio-8081-exec-8 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 15:34:24 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 15:34:24 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 15:34:24 http-nio-8081-exec-8 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 15:34:24 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 15:34:24 http-nio-8081-exec-10 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 15:34:24 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 15:34:24 http-nio-8081-exec-9 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 15:34:24 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 15:34:24 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 15:34:24 http-nio-8081-exec-10 DEBUG <==      Total: 2
2019-4-12 15:34:24 http-nio-8081-exec-9 DEBUG <==      Total: 6
2019-4-12 15:34:24 http-nio-8081-exec-10 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 15:34:24 http-nio-8081-exec-10 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 15:34:24 http-nio-8081-exec-10 DEBUG <==      Total: 2
2019-4-12 15:34:24 http-nio-8081-exec-1 DEBUG ==>  Preparing: SELECT a.*,b.* from (SELECT SUM(sf_money) as monDM,SUM(sf_money)-SUM(arrears) as monSM from cust_sfjl where DATE_FORMAT( create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') and deleted = 0)a,( SELECT IFNULL(SUM(sf_money),0) as dayDM,IFNULL(SUM(sf_money)-SUM(arrears),0) as daySM from cust_sfjl where to_days(now())-to_days(create_time) = 1 and deleted = 0)b limit 1 
2019-4-12 15:34:24 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 15:34:24 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 15:34:24 http-nio-8081-exec-2 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 15:34:24 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 15:34:24 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 15:34:24 http-nio-8081-exec-5 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 15:34:24 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 15:34:24 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 15:34:25 http-nio-8081-exec-4 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-50' limit 1 
2019-4-12 15:34:25 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 15:34:25 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 15:34:25 http-nio-8081-exec-6 DEBUG ==>  Preparing: select type_id typeId, code, name, parent_id parentId,case when parent_id = '0' or parent_id = 'CD0001' then true else false end open from stock_product_type order by create_time 
2019-4-12 15:34:25 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 15:34:25 http-nio-8081-exec-6 DEBUG <==      Total: 8
2019-4-12 15:34:25 http-nio-8081-exec-3 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.stock_id, t.clinic_id, t.type_id, t.product_type, t.product_code, t.product_unit, t.product_name, t.product_model, t.product_spec, t.product_brand, t.stock_num, t.stock_num * t.sprice combined, t.end_time, t.sprice, t.money, t.remark, CASE WHEN t.allowance IS NOT NULL THEN t.allowance ELSE 0 END allowance FROM (SELECT stock_id, clinic_id, type_id, product_type, product_code, product_unit, product_name, product_model, product_spec, product_brand, stock_num, end_time, sprice, money, remark, (SELECT sum(allowance) FROM stock_in_out_de WHERE clinic_id = stock.clinic_id AND in_out_code = stock.product_code AND now() > end_time) allowance FROM stock WHERE clinic_id = ? AND stock_num > 0) t) t LEFT JOIN stock_warn b ON b.clinic_id = t.clinic_id AND t.product_code = b.warn_pro_id 
2019-4-12 15:34:25 http-nio-8081-exec-3 DEBUG ==> Parameters: 122(String)
2019-4-12 15:34:25 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 15:34:25 http-nio-8081-exec-3 DEBUG ==>  Preparing: select t.*,b.warn_num from ( select t.stock_id,t.clinic_id,t.type_id,t.product_type,t.product_code,t.product_unit, t.product_name,t.product_model,t.product_spec,t.product_brand,t.stock_num,t.stock_num*t.sprice combined, t.end_time,t.sprice,t.money,t.remark,case when t.allowance is not null then t.allowance else 0 end allowance from ( select stock_id,clinic_id,type_id,product_type,product_code,product_unit, product_name,product_model,product_spec,product_brand,stock_num, end_time,sprice,money,remark, (select sum(allowance) from stock_in_out_de where clinic_id = stock.clinic_id and in_out_code = stock.product_code and now()>end_time) allowance from stock where clinic_id = ? and stock_num > 0 ) t order by t.product_code ) t left join stock_warn b on b.clinic_id = t.clinic_id and t.product_code = b.warn_pro_id order by product_code limit ?,? 
2019-4-12 15:34:25 http-nio-8081-exec-3 DEBUG ==> Parameters: 122(String), 0(Integer), 10(Integer)
2019-4-12 15:34:25 http-nio-8081-exec-3 DEBUG <==      Total: 10
2019-4-12 15:34:26 http-nio-8081-exec-7 DEBUG ==>  Preparing: select * from sec_menu where ID_='chai-wu-guan-li' limit 1 
2019-4-12 15:34:26 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 15:34:26 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 15:34:26 http-nio-8081-exec-9 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name from sec_org where DELETED = 0 and state = 1 and type='门诊' 
2019-4-12 15:34:26 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 15:34:26 http-nio-8081-exec-8 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 15:34:26 http-nio-8081-exec-8 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 15:34:26 http-nio-8081-exec-9 DEBUG <==      Total: 2
2019-4-12 15:34:26 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 15:34:26 http-nio-8081-exec-9 DEBUG ==>  Preparing: select ID_ id, USER_NAME name,ORG_ID orgId from sec_user where DELETED = 0 and STANDBY1 = '医生' 
2019-4-12 15:34:26 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 15:34:26 http-nio-8081-exec-9 DEBUG <==      Total: 10
2019-4-12 15:34:26 http-nio-8081-exec-8 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 15:34:26 http-nio-8081-exec-8 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 15:34:26 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 15:34:26 http-nio-8081-exec-10 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic, c.cust_remark FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 15:34:26 http-nio-8081-exec-10 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 15:34:26 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 15:34:26 http-nio-8081-exec-10 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic,c.cust_remark from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 15:34:26 http-nio-8081-exec-10 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String), 0(Integer), 10(Integer)
2019-4-12 15:34:26 http-nio-8081-exec-10 DEBUG <==      Total: 10
2019-4-12 15:34:27 http-nio-8081-exec-1 DEBUG ==>  Preparing: select * from sec_menu where ID_='5eaa4b9d-3bf6-43c2-aac6-f4c9cb034167' limit 1 
2019-4-12 15:34:27 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 15:34:27 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-4-12 15:34:28 http-nio-8081-exec-2 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name from sec_org where DELETED = 0 and state = 1 and type='门诊' 
2019-4-12 15:34:28 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 15:34:28 http-nio-8081-exec-2 DEBUG <==      Total: 2
2019-4-12 15:34:28 http-nio-8081-exec-5 DEBUG ==>  Preparing: select id_ id,user_name name,org_id clinic from sec_user where standby1='医生' and status = '启用' and deleted = 0 
2019-4-12 15:34:28 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 15:34:28 http-nio-8081-exec-5 DEBUG <==      Total: 9
2019-4-12 15:34:28 http-nio-8081-exec-2 DEBUG ==>  Preparing: select ID_ id, USER_NAME name,ORG_ID orgId from sec_user where DELETED = 0 and STANDBY1 = '医生' 
2019-4-12 15:34:28 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 15:34:28 http-nio-8081-exec-2 DEBUG <==      Total: 10
2019-4-12 15:34:28 http-nio-8081-exec-4 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name,PARENT_ID pId,case when id_='122' then 1 else 0 end open from sec_org where DELETED = 0 and state = 1 
2019-4-12 15:34:28 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 15:34:28 http-nio-8081-exec-4 DEBUG <==      Total: 3
2019-4-12 15:34:28 http-nio-8081-exec-6 DEBUG ==>  Preparing: select c.*,o.ORG_NAME,(select u.USER_NAME from sec_user u where u.ID_=c.doctor) as USER_NAME,(select b.bl_time from cust_bl b where b.cust_id=c.cust_id ORDER BY b.bl_time LIMIT 1) as bl_time ,(select u.USER_NAME from sec_user u where u.ID_=c.early_doctor) as early_doctor_name,(select a.org_name from sec_org a where a.ID_ = c.early_clinic) as early_clinic_name from customer c,sec_org o where c.cust_clinic=o.ID_ 
2019-4-12 15:34:28 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 15:34:28 http-nio-8081-exec-6 DEBUG <==      Total: 102
2019-4-12 15:34:28 http-nio-8081-exec-3 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-08' limit 1 
2019-4-12 15:34:28 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 15:34:28 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 15:34:28 http-nio-8081-exec-7 DEBUG ==>  Preparing: SELECT ID_ as id,ORG_NAME as name,PARENT_ID as parentId ,1 AS TYPES,'true' open FROM sec_org WHERE DELETED=0 
2019-4-12 15:34:28 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 15:34:28 http-nio-8081-exec-7 DEBUG <==      Total: 3
2019-4-12 15:34:29 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT count(0) FROM sec_user u LEFT JOIN sec_org so ON u.ORG_id = so.ID_ WHERE u.DELETED = 0 
2019-4-12 15:34:29 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 15:34:29 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 15:34:29 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT u.*,so.TYPE FROM sec_user u LEFT JOIN sec_org so on u.ORG_id = so.ID_ WHERE u.DELETED=0 ORDER BY u.CREATE_TIME DESC limit ?,? 
2019-4-12 15:34:29 http-nio-8081-exec-9 DEBUG ==> Parameters: 0(Integer), 10(Integer)
2019-4-12 15:34:29 http-nio-8081-exec-9 DEBUG <==      Total: 10
2019-4-12 15:35:43 main INFO The following profiles are active: dev
2019-4-12 15:36:02 main DEBUG ==>  Preparing: SELECT * FROM sec_menu sm where deleted=0 AND sm.STANBY_ID1 = '2' ORDER BY SORT 
2019-4-12 15:36:02 main DEBUG ==> Parameters: 
2019-4-12 15:36:02 main DEBUG <==      Total: 48
2019-4-12 15:36:03 main INFO JedisPoolעɹ
2019-4-12 15:36:03 main INFO redisַlocalhost:6379
2019-4-12 15:36:18 http-nio-8081-exec-2 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 15:36:18 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 15:36:18 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 15:36:29 http-nio-8081-exec-6 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 15:36:29 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 15:36:29 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 15:36:29 http-nio-8081-exec-3 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 15:36:29 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 15:36:29 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 15:36:33 main INFO Started BaseFrameApplicationTests in 59.041 seconds (JVM running for 65.289)
2019-4-12 15:36:58 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT * FROM sec_menu WHERE DELETED = 0 AND ENABLED=1 AND STANBY_ID1='2' AND ID_ IN ( SELECT MENU_ID from sec_menu_member WHERE USER_ID =? UNION SELECT MENU_ID FROM sec_menu_role WHERE ROLE_ID IN ( SELECT ROLE_ID FROM sec_role_member m LEFT JOIN sec_role r ON m.ROLE_ID = r.ID_ WHERE m.USER_ID =? AND r.STATE=1 ) UNION SELECT o.MENU_ID FROM sec_menu_org o LEFT JOIN sec_user u ON o.ORG_ID = u.ORG_ID LEFT JOIN sec_org so ON so.ID_ = u.ORG_ID WHERE u.ID_ = ? AND so.STATE=1 ) ORDER BY sort 
2019-4-12 15:36:58 http-nio-8081-exec-9 DEBUG ==> Parameters: 1(String), 1(String), 1(String)
2019-4-12 15:36:58 http-nio-8081-exec-9 DEBUG <==      Total: 26
2019-4-12 15:36:58 http-nio-8081-exec-8 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 15:36:58 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 15:36:58 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 15:37:01 http-nio-8081-exec-10 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 15:37:01 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 15:37:01 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 15:37:01 http-nio-8081-exec-1 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 15:37:01 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 15:37:01 http-nio-8081-exec-10 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 15:37:01 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 15:37:01 http-nio-8081-exec-1 DEBUG <==      Total: 2
2019-4-12 15:37:01 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 15:37:01 http-nio-8081-exec-1 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 15:37:01 http-nio-8081-exec-1 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 15:37:01 http-nio-8081-exec-1 DEBUG <==      Total: 2
2019-4-12 15:37:01 http-nio-8081-exec-10 DEBUG ==>  Preparing: SELECT a.*,b.* from (SELECT SUM(sf_money) as monDM,SUM(sf_money)-SUM(arrears) as monSM from cust_sfjl where DATE_FORMAT( create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') and deleted = 0)a,( SELECT IFNULL(SUM(sf_money),0) as dayDM,IFNULL(SUM(sf_money)-SUM(arrears),0) as daySM from cust_sfjl where to_days(now())-to_days(create_time) = 1 and deleted = 0)b limit 1 
2019-4-12 15:37:01 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 15:37:01 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 15:37:01 http-nio-8081-exec-5 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 15:37:01 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 15:37:01 http-nio-8081-exec-5 DEBUG <==      Total: 6
2019-4-12 15:37:01 http-nio-8081-exec-4 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 15:37:01 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 15:37:01 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 15:37:02 http-nio-8081-exec-6 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 15:37:02 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 15:37:02 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 15:37:09 http-nio-8081-exec-3 DEBUG ==>  Preparing: SELECT * FROM sec_menu WHERE DELETED = 0 AND ENABLED=1 AND STANBY_ID1='2' AND ID_ IN ( SELECT MENU_ID from sec_menu_member WHERE USER_ID =? UNION SELECT MENU_ID FROM sec_menu_role WHERE ROLE_ID IN ( SELECT ROLE_ID FROM sec_role_member m LEFT JOIN sec_role r ON m.ROLE_ID = r.ID_ WHERE m.USER_ID =? AND r.STATE=1 ) UNION SELECT o.MENU_ID FROM sec_menu_org o LEFT JOIN sec_user u ON o.ORG_ID = u.ORG_ID LEFT JOIN sec_org so ON so.ID_ = u.ORG_ID WHERE u.ID_ = ? AND so.STATE=1 ) ORDER BY sort 
2019-4-12 15:37:09 http-nio-8081-exec-3 DEBUG ==> Parameters: 1(String), 1(String), 1(String)
2019-4-12 15:37:09 http-nio-8081-exec-3 DEBUG <==      Total: 26
2019-4-12 15:37:09 http-nio-8081-exec-7 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 15:37:09 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 15:37:09 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 15:37:10 http-nio-8081-exec-9 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 15:37:10 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 15:37:10 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 15:37:10 http-nio-8081-exec-9 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 15:37:10 http-nio-8081-exec-9 DEBUG ==> Parameters: 
2019-4-12 15:37:10 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-4-12 15:37:10 http-nio-8081-exec-8 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 15:37:10 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 15:37:10 http-nio-8081-exec-8 DEBUG <==      Total: 2
2019-4-12 15:37:10 http-nio-8081-exec-8 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 15:37:10 http-nio-8081-exec-8 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 15:37:10 http-nio-8081-exec-8 DEBUG <==      Total: 2
2019-4-12 15:37:10 http-nio-8081-exec-1 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 15:37:10 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 15:37:10 http-nio-8081-exec-2 DEBUG ==>  Preparing: SELECT a.*,b.* from (SELECT SUM(sf_money) as monDM,SUM(sf_money)-SUM(arrears) as monSM from cust_sfjl where DATE_FORMAT( create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') and deleted = 0)a,( SELECT IFNULL(SUM(sf_money),0) as dayDM,IFNULL(SUM(sf_money)-SUM(arrears),0) as daySM from cust_sfjl where to_days(now())-to_days(create_time) = 1 and deleted = 0)b limit 1 
2019-4-12 15:37:10 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 15:37:10 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 15:37:10 http-nio-8081-exec-1 DEBUG <==      Total: 6
2019-4-12 15:37:10 http-nio-8081-exec-10 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 15:37:10 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 15:37:10 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 15:37:10 http-nio-8081-exec-5 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 15:37:10 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 15:37:10 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 15:58:20 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT * FROM sec_menu WHERE DELETED = 0 AND ENABLED=1 AND STANBY_ID1='2' AND ID_ IN ( SELECT MENU_ID from sec_menu_member WHERE USER_ID =? UNION SELECT MENU_ID FROM sec_menu_role WHERE ROLE_ID IN ( SELECT ROLE_ID FROM sec_role_member m LEFT JOIN sec_role r ON m.ROLE_ID = r.ID_ WHERE m.USER_ID =? AND r.STATE=1 ) UNION SELECT o.MENU_ID FROM sec_menu_org o LEFT JOIN sec_user u ON o.ORG_ID = u.ORG_ID LEFT JOIN sec_org so ON so.ID_ = u.ORG_ID WHERE u.ID_ = ? AND so.STATE=1 ) ORDER BY sort 
2019-4-12 15:58:20 http-nio-8081-exec-9 DEBUG ==> Parameters: 1(String), 1(String), 1(String)
2019-4-12 15:58:20 http-nio-8081-exec-9 DEBUG <==      Total: 26
2019-4-12 15:58:21 http-nio-8081-exec-8 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 15:58:21 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-4-12 15:58:21 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-4-12 15:58:21 http-nio-8081-exec-1 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 15:58:21 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-4-12 15:58:21 http-nio-8081-exec-1 DEBUG <==      Total: 2
2019-4-12 15:58:21 http-nio-8081-exec-5 DEBUG ==>  Preparing: SELECT a.*,b.* from (SELECT SUM(sf_money) as monDM,SUM(sf_money)-SUM(arrears) as monSM from cust_sfjl where DATE_FORMAT( create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') and deleted = 0)a,( SELECT IFNULL(SUM(sf_money),0) as dayDM,IFNULL(SUM(sf_money)-SUM(arrears),0) as daySM from cust_sfjl where to_days(now())-to_days(create_time) = 1 and deleted = 0)b limit 1 
2019-4-12 15:58:21 http-nio-8081-exec-10 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 15:58:21 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 15:58:21 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 15:58:21 http-nio-8081-exec-1 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 15:58:21 http-nio-8081-exec-1 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 15:58:21 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 15:58:21 http-nio-8081-exec-10 DEBUG <==      Total: 6
2019-4-12 15:58:21 http-nio-8081-exec-1 DEBUG <==      Total: 2
2019-4-12 15:58:21 http-nio-8081-exec-2 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 15:58:21 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 15:58:21 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 15:58:21 http-nio-8081-exec-2 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 15:58:21 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 15:58:21 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-4-12 15:58:21 http-nio-8081-exec-4 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 15:58:21 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 15:58:21 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 15:58:21 http-nio-8081-exec-6 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 15:58:21 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 15:58:21 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 17:47:20 http-nio-8081-exec-1 DEBUG ==>  Preparing: SELECT * FROM sec_menu WHERE DELETED = 0 AND ENABLED=1 AND STANBY_ID1='2' AND ID_ IN ( SELECT MENU_ID from sec_menu_member WHERE USER_ID =? UNION SELECT MENU_ID FROM sec_menu_role WHERE ROLE_ID IN ( SELECT ROLE_ID FROM sec_role_member m LEFT JOIN sec_role r ON m.ROLE_ID = r.ID_ WHERE m.USER_ID =? AND r.STATE=1 ) UNION SELECT o.MENU_ID FROM sec_menu_org o LEFT JOIN sec_user u ON o.ORG_ID = u.ORG_ID LEFT JOIN sec_org so ON so.ID_ = u.ORG_ID WHERE u.ID_ = ? AND so.STATE=1 ) ORDER BY sort 
2019-4-12 17:47:20 http-nio-8081-exec-1 DEBUG ==> Parameters: 1(String), 1(String), 1(String)
2019-4-12 17:47:20 http-nio-8081-exec-1 DEBUG <==      Total: 26
2019-4-12 17:47:21 http-nio-8081-exec-10 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-4-12 17:47:21 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-4-12 17:47:21 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-4-12 17:47:21 http-nio-8081-exec-5 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-4-12 17:47:21 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 17:47:21 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 17:47:21 http-nio-8081-exec-2 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 17:47:21 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 17:47:21 http-nio-8081-exec-5 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-4-12 17:47:21 http-nio-8081-exec-2 DEBUG <==      Total: 2
2019-4-12 17:47:21 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-4-12 17:47:21 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 17:47:21 http-nio-8081-exec-2 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-4-12 17:47:21 http-nio-8081-exec-2 DEBUG ==> Parameters: 2019-04-01(String), 2019-04-30(String)
2019-4-12 17:47:21 http-nio-8081-exec-2 DEBUG <==      Total: 2
2019-4-12 17:47:21 http-nio-8081-exec-4 DEBUG ==>  Preparing: select DISTINCT u.USER_NAME,IFNULL(a.days,0) as days,IFNULL(b.weeks,0) as weeks,IFNULL(c.months,0) as months,IFNULL(d.montha,0) as montha,IFNULL(e.weeka,0) as weeka,IFNULL(f.daya,0) as daya from sec_user u LEFT JOIN ( select count(*) as days,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where to_days(y.yy_date) = to_days(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME) a on a.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as weeks,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where YEARWEEK(date_format(y.yy_date,'%Y-%m-%d')) = YEARWEEK(now()) and y.yy_date>o.create_time GROUP BY s1.USER_NAME )b on b.USER_NAME = u.USER_NAME LEFT JOIN ( select count(*) as months ,s1.USER_NAME from yy_manage y LEFT JOIN customer o ON y.yy_cust_id=o.cust_id LEFT JOIN sec_user s1 ON y.yy_doctor=s1.ID_ where DATE_FORMAT( y.yy_date, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m' ) and y.yy_date>o.create_time GROUP BY s1.USER_NAME ) c on c.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as montha ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where DATE_FORMAT( c.create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') GROUP BY s1.USER_NAME )d on d.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as weeka ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where YEARWEEK(date_format(c.create_time,'%Y-%m-%d')) = YEARWEEK(now()) GROUP BY s1.USER_NAME )e on e.USER_NAME = u.USER_NAME LEFT JOIN( select count(*) as daya ,s1.USER_NAME from customer c LEFT JOIN sec_user s1 ON c.early_doctor=s1.ID_ where to_days(c.create_time) = to_days(now()) GROUP BY s1.USER_NAME )f on f.USER_NAME = u.USER_NAME where u.STANDBY1='医生' and u.DELETED=0 and u.STATUS='启用' ORDER BY montha desc 
2019-4-12 17:47:21 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 17:47:21 http-nio-8081-exec-4 DEBUG <==      Total: 6
2019-4-12 17:47:21 http-nio-8081-exec-6 DEBUG ==>  Preparing: SELECT a.*,b.* from (SELECT SUM(sf_money) as monDM,SUM(sf_money)-SUM(arrears) as monSM from cust_sfjl where DATE_FORMAT( create_time, '%Y%m' ) = DATE_FORMAT( CURDATE( ) ,'%Y%m') and deleted = 0)a,( SELECT IFNULL(SUM(sf_money),0) as dayDM,IFNULL(SUM(sf_money)-SUM(arrears),0) as daySM from cust_sfjl where to_days(now())-to_days(create_time) = 1 and deleted = 0)b limit 1 
2019-4-12 17:47:21 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-4-12 17:47:21 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 17:47:21 http-nio-8081-exec-7 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-4-12 17:47:21 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-4-12 17:47:21 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-4-12 17:47:21 http-nio-8081-exec-3 DEBUG ==>  Preparing: SELECT count(0) FROM `stock_in_out_de` WHERE TO_DAYS(end_time) - TO_DAYS(NOW()) <= 90 AND clinic_id != '122' 
2019-4-12 17:47:21 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-4-12 17:47:21 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-4-12 18:24:50 http-nio-8081-exec-4 DEBUG ==>  Preparing: select * from sec_menu where ID_='chai-wu-guan-li' limit 1 
2019-4-12 18:24:50 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-4-12 18:24:50 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-4-12 18:24:50 http-nio-8081-exec-2 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name from sec_org where DELETED = 0 and state = 1 and type='门诊' 
2019-4-12 18:24:50 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 18:24:50 http-nio-8081-exec-2 DEBUG <==      Total: 2
2019-4-12 18:24:50 http-nio-8081-exec-5 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 18:24:50 http-nio-8081-exec-5 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 18:24:50 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 18:24:50 http-nio-8081-exec-2 DEBUG ==>  Preparing: select ID_ id, USER_NAME name,ORG_ID orgId from sec_user where DELETED = 0 and STANDBY1 = '医生' 
2019-4-12 18:24:50 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-4-12 18:24:50 http-nio-8081-exec-2 DEBUG <==      Total: 10
2019-4-12 18:24:50 http-nio-8081-exec-5 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-4-12 18:24:50 http-nio-8081-exec-5 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 18:24:50 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-4-12 18:24:50 http-nio-8081-exec-6 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic, c.cust_remark FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id, a.record_type FROM account_record a, (SELECT sf_id, count(sf_id) AS sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num = 1) b WHERE a.sf_id = b.sf_id) temp ON temp.sf_id = t.sf_id 
2019-4-12 18:24:50 http-nio-8081-exec-6 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-4-12 18:24:50 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-4-12 18:24:50 http-nio-8081-exec-6 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic,c.cust_remark from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT a.sf_id,a.record_type from account_record a,(select sf_id,count(sf_id) as sf_num FROM `account_record` GROUP BY sf_id HAVING sf_num =1)b where a.sf_id=b.sf_id) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-4-12 18:24:50 http-nio-8081-exec-6 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String), 0(Integer), 10(Integer)
2019-4-12 18:24:50 http-nio-8081-exec-6 DEBUG <==      Total: 10
