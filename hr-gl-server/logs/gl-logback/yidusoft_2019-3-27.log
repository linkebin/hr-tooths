2019-3-27 10:11:17 main INFO The following profiles are active: dev
2019-3-27 10:11:41 main DEBUG ==>  Preparing: SELECT * FROM sec_menu sm where deleted=0 AND sm.STANBY_ID1 = '2' ORDER BY SORT 
2019-3-27 10:11:41 main DEBUG ==> Parameters: 
2019-3-27 10:11:41 main DEBUG <==      Total: 48
2019-3-27 10:11:49 localhost-startStop-1 INFO JedisPool注入成功！！
2019-3-27 10:11:49 localhost-startStop-1 INFO redis地址：localhost:6379
2019-3-27 10:12:01 main INFO Started BaseFrameApplication in 57.735 seconds (JVM running for 60.39)
2019-3-27 10:26:05 http-nio-8081-exec-5 DEBUG ==>  Preparing: SELECT * FROM sec_menu WHERE DELETED = 0 AND ENABLED=1 AND STANBY_ID1='2' AND ID_ IN ( SELECT MENU_ID from sec_menu_member WHERE USER_ID =? UNION SELECT MENU_ID FROM sec_menu_role WHERE ROLE_ID IN ( SELECT ROLE_ID FROM sec_role_member m LEFT JOIN sec_role r ON m.ROLE_ID = r.ID_ WHERE m.USER_ID =? AND r.STATE=1 ) UNION SELECT o.MENU_ID FROM sec_menu_org o LEFT JOIN sec_user u ON o.ORG_ID = u.ORG_ID LEFT JOIN sec_org so ON so.ID_ = u.ORG_ID WHERE u.ID_ = ? AND so.STATE=1 ) ORDER BY sort 
2019-3-27 10:26:05 http-nio-8081-exec-5 DEBUG ==> Parameters: 1(String), 1(String), 1(String)
2019-3-27 10:26:05 http-nio-8081-exec-5 DEBUG <==      Total: 26
2019-3-27 10:26:06 http-nio-8081-exec-10 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-3-27 10:26:06 http-nio-8081-exec-10 DEBUG ==> Parameters: 
2019-3-27 10:26:06 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-3-27 10:26:06 http-nio-8081-exec-3 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-3-27 10:26:06 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-3-27 10:26:06 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-3-27 10:26:06 http-nio-8081-exec-6 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-3-27 10:26:06 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-3-27 10:26:06 http-nio-8081-exec-6 DEBUG <==      Total: 2
2019-3-27 10:26:06 http-nio-8081-exec-3 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-3-27 10:26:06 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-3-27 10:26:06 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-3-27 10:26:06 http-nio-8081-exec-6 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-3-27 10:26:06 http-nio-8081-exec-6 DEBUG ==> Parameters: 2019-03-01(String), 2019-03-31(String)
2019-3-27 10:26:06 http-nio-8081-exec-6 DEBUG <==      Total: 2
2019-3-27 10:26:06 http-nio-8081-exec-1 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-3-27 10:26:06 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-3-27 10:26:06 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-3-27 10:26:28 http-nio-8081-exec-2 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-50' limit 1 
2019-3-27 10:26:28 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-3-27 10:26:28 http-nio-8081-exec-2 DEBUG <==      Total: 1
2019-3-27 10:26:28 http-nio-8081-exec-8 DEBUG ==>  Preparing: select type_id typeId, code, name, parent_id parentId,case when parent_id = '0' or parent_id = 'CD0001' then true else false end open from stock_product_type order by create_time 
2019-3-27 10:26:28 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-3-27 10:26:28 http-nio-8081-exec-8 DEBUG <==      Total: 7
2019-3-27 10:26:28 http-nio-8081-exec-4 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.stock_id, t.clinic_id, t.type_id, t.product_type, t.product_code, t.product_unit, t.product_name, t.product_model, t.product_spec, t.product_brand, t.stock_num, t.stock_num * t.sprice combined, t.end_time, t.sprice, t.money, t.remark, CASE WHEN t.allowance IS NOT NULL THEN t.allowance ELSE 0 END allowance FROM (SELECT stock_id, clinic_id, type_id, product_type, product_code, product_unit, product_name, product_model, product_spec, product_brand, stock_num, end_time, sprice, money, remark, (SELECT sum(allowance) FROM stock_in_out_de WHERE clinic_id = stock.clinic_id AND in_out_code = stock.product_code AND now() > end_time) allowance FROM stock WHERE clinic_id = ? AND stock_num > 0) t) t LEFT JOIN stock_warn b ON b.clinic_id = t.clinic_id AND t.product_code = b.warn_pro_id 
2019-3-27 10:26:28 http-nio-8081-exec-4 DEBUG ==> Parameters: 122(String)
2019-3-27 10:26:28 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-3-27 10:26:28 http-nio-8081-exec-4 DEBUG ==>  Preparing: select t.*,b.warn_num from ( select t.stock_id,t.clinic_id,t.type_id,t.product_type,t.product_code,t.product_unit, t.product_name,t.product_model,t.product_spec,t.product_brand,t.stock_num,t.stock_num*t.sprice combined, t.end_time,t.sprice,t.money,t.remark,case when t.allowance is not null then t.allowance else 0 end allowance from ( select stock_id,clinic_id,type_id,product_type,product_code,product_unit, product_name,product_model,product_spec,product_brand,stock_num, end_time,sprice,money,remark, (select sum(allowance) from stock_in_out_de where clinic_id = stock.clinic_id and in_out_code = stock.product_code and now()>end_time) allowance from stock where clinic_id = ? and stock_num > 0 ) t order by t.product_code ) t left join stock_warn b on b.clinic_id = t.clinic_id and t.product_code = b.warn_pro_id order by product_code limit ?,? 
2019-3-27 10:26:28 http-nio-8081-exec-4 DEBUG ==> Parameters: 122(String), 0(Integer), 10(Integer)
2019-3-27 10:26:28 http-nio-8081-exec-4 DEBUG <==      Total: 10
2019-3-27 10:26:31 http-nio-8081-exec-7 DEBUG ==>  Preparing: select type_id typeId, code, name, parent_id parentId,case when parent_id = '0' or parent_id = 'CD0001' then true else false end open from stock_product_type order by create_time 
2019-3-27 10:26:31 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-3-27 10:26:31 http-nio-8081-exec-7 DEBUG <==      Total: 7
2019-3-27 10:26:31 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.stock_id, t.clinic_id, t.type_id, t.product_type, t.product_code, t.product_unit, t.product_name, t.product_model, t.product_spec, t.product_brand, t.stock_num, t.stock_num * t.sprice combined, t.end_time, t.sprice, t.money, t.remark, CASE WHEN t.allowance IS NOT NULL THEN t.allowance ELSE 0 END allowance FROM (SELECT stock_id, clinic_id, type_id, product_type, product_code, product_unit, product_name, product_model, product_spec, product_brand, stock_num, end_time, sprice, money, remark, (SELECT sum(allowance) FROM stock_in_out_de WHERE clinic_id = stock.clinic_id AND in_out_code = stock.product_code AND now() > end_time) allowance FROM stock WHERE clinic_id = ? AND stock_num > 0) t) t LEFT JOIN stock_warn b ON b.clinic_id = t.clinic_id AND t.product_code = b.warn_pro_id 
2019-3-27 10:26:31 http-nio-8081-exec-9 DEBUG ==> Parameters: 122(String)
2019-3-27 10:26:31 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-3-27 10:26:31 http-nio-8081-exec-9 DEBUG ==>  Preparing: select t.*,b.warn_num from ( select t.stock_id,t.clinic_id,t.type_id,t.product_type,t.product_code,t.product_unit, t.product_name,t.product_model,t.product_spec,t.product_brand,t.stock_num,t.stock_num*t.sprice combined, t.end_time,t.sprice,t.money,t.remark,case when t.allowance is not null then t.allowance else 0 end allowance from ( select stock_id,clinic_id,type_id,product_type,product_code,product_unit, product_name,product_model,product_spec,product_brand,stock_num, end_time,sprice,money,remark, (select sum(allowance) from stock_in_out_de where clinic_id = stock.clinic_id and in_out_code = stock.product_code and now()>end_time) allowance from stock where clinic_id = ? and stock_num > 0 ) t order by t.product_code ) t left join stock_warn b on b.clinic_id = t.clinic_id and t.product_code = b.warn_pro_id order by product_code limit ?,? 
2019-3-27 10:26:31 http-nio-8081-exec-9 DEBUG ==> Parameters: 122(String), 0(Integer), 10(Integer)
2019-3-27 10:26:31 http-nio-8081-exec-9 DEBUG <==      Total: 10
2019-3-27 10:26:32 http-nio-8081-exec-5 DEBUG ==>  Preparing: select type_id typeId, code, name, parent_id parentId,case when parent_id = '0' or parent_id = 'CD0001' then true else false end open from stock_product_type order by create_time 
2019-3-27 10:26:32 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-3-27 10:26:32 http-nio-8081-exec-5 DEBUG <==      Total: 7
2019-3-27 10:26:32 http-nio-8081-exec-10 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.stock_id, t.clinic_id, t.type_id, t.product_type, t.product_code, t.product_unit, t.product_name, t.product_model, t.product_spec, t.product_brand, t.stock_num, t.stock_num * t.sprice combined, t.end_time, t.sprice, t.money, t.remark, CASE WHEN t.allowance IS NOT NULL THEN t.allowance ELSE 0 END allowance FROM (SELECT stock_id, clinic_id, type_id, product_type, product_code, product_unit, product_name, product_model, product_spec, product_brand, stock_num, end_time, sprice, money, remark, (SELECT sum(allowance) FROM stock_in_out_de WHERE clinic_id = stock.clinic_id AND in_out_code = stock.product_code AND now() > end_time) allowance FROM stock WHERE clinic_id = ? AND stock_num > 0) t) t LEFT JOIN stock_warn b ON b.clinic_id = t.clinic_id AND t.product_code = b.warn_pro_id 
2019-3-27 10:26:32 http-nio-8081-exec-10 DEBUG ==> Parameters: 122(String)
2019-3-27 10:26:32 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-3-27 10:26:32 http-nio-8081-exec-10 DEBUG ==>  Preparing: select t.*,b.warn_num from ( select t.stock_id,t.clinic_id,t.type_id,t.product_type,t.product_code,t.product_unit, t.product_name,t.product_model,t.product_spec,t.product_brand,t.stock_num,t.stock_num*t.sprice combined, t.end_time,t.sprice,t.money,t.remark,case when t.allowance is not null then t.allowance else 0 end allowance from ( select stock_id,clinic_id,type_id,product_type,product_code,product_unit, product_name,product_model,product_spec,product_brand,stock_num, end_time,sprice,money,remark, (select sum(allowance) from stock_in_out_de where clinic_id = stock.clinic_id and in_out_code = stock.product_code and now()>end_time) allowance from stock where clinic_id = ? and stock_num > 0 ) t order by t.product_code ) t left join stock_warn b on b.clinic_id = t.clinic_id and t.product_code = b.warn_pro_id order by product_code limit ?,? 
2019-3-27 10:26:32 http-nio-8081-exec-10 DEBUG ==> Parameters: 122(String), 0(Integer), 10(Integer)
2019-3-27 10:26:32 http-nio-8081-exec-10 DEBUG <==      Total: 10
2019-3-27 10:27:01 http-nio-8081-exec-6 DEBUG ==>  Preparing: SELECT * FROM sec_menu WHERE DELETED = 0 AND ENABLED=1 AND STANBY_ID1='2' AND ID_ IN ( SELECT MENU_ID from sec_menu_member WHERE USER_ID =? UNION SELECT MENU_ID FROM sec_menu_role WHERE ROLE_ID IN ( SELECT ROLE_ID FROM sec_role_member m LEFT JOIN sec_role r ON m.ROLE_ID = r.ID_ WHERE m.USER_ID =? AND r.STATE=1 ) UNION SELECT o.MENU_ID FROM sec_menu_org o LEFT JOIN sec_user u ON o.ORG_ID = u.ORG_ID LEFT JOIN sec_org so ON so.ID_ = u.ORG_ID WHERE u.ID_ = ? AND so.STATE=1 ) ORDER BY sort 
2019-3-27 10:27:01 http-nio-8081-exec-6 DEBUG ==> Parameters: 1(String), 1(String), 1(String)
2019-3-27 10:27:01 http-nio-8081-exec-6 DEBUG <==      Total: 26
2019-3-27 10:27:01 http-nio-8081-exec-3 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-35' limit 1 
2019-3-27 10:27:01 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-3-27 10:27:01 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-3-27 10:27:01 http-nio-8081-exec-1 DEBUG ==>  Preparing: select count(*) from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') 
2019-3-27 10:27:01 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-3-27 10:27:01 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-3-27 10:27:01 http-nio-8081-exec-1 DEBUG ==>  Preparing: select sum(sf_money) from cust_sfjl where date_format(create_time,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') and sf_stat = '已收费' 
2019-3-27 10:27:01 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-3-27 10:27:01 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-3-27 10:27:01 http-nio-8081-exec-2 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') = date_format(now(),'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type ='门诊' and b.DELETED = 0 order by a.num desc 
2019-3-27 10:27:01 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-3-27 10:27:01 http-nio-8081-exec-2 DEBUG <==      Total: 2
2019-3-27 10:27:01 http-nio-8081-exec-2 DEBUG ==>  Preparing: select b.ORG_NAME,case when a.num is null then 0 else a.num end NUM from sec_org b left join (select yy_clinic,count(*) num from yy_manage where date_format(yy_date,'%Y-%m-%d') >= date_format(?,'%Y-%m-%d') and date_format(?,'%Y-%m-%d') >= date_format(yy_date,'%Y-%m-%d') group by yy_clinic) a on a.yy_clinic = b.ID_ where b.type = '门诊' and b.DELETED = 0 order by a.num desc 
2019-3-27 10:27:01 http-nio-8081-exec-2 DEBUG ==> Parameters: 2019-03-01(String), 2019-03-31(String)
2019-3-27 10:27:01 http-nio-8081-exec-2 DEBUG <==      Total: 2
2019-3-27 10:27:02 http-nio-8081-exec-8 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.* FROM (SELECT a.in_out_id, a.in_out_code, a.in_out_time, a.type, a.creator_id, a.creator, a.num, a.money, a.state, a.clinic_id, b.org_name FROM stock_in_out a, sec_org b WHERE a.clinic_id = b.id_ AND a.type != '领用' AND a.type != '退领') t) b LEFT JOIN stock_audit c ON b.in_out_id = c.in_out_id WHERE c.is_pass IS NULL OR b.state = 0.5 
2019-3-27 10:27:02 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-3-27 10:27:02 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-3-27 10:27:02 http-nio-8081-exec-8 DEBUG ==>  Preparing: select b.in_out_id,b.in_out_code,b.in_out_time,b.type,b.creator_id,b.creator,b.num,b.money,b.clinic_id,b.org_name,c.user_name,c.audit_time,c.remark ,case when b.state = 0.5 then '已发送' when c.is_pass is null then '未审核' end state from ( select t.* from ( select a.in_out_id,a.in_out_code,a.in_out_time,a.type,a.creator_id,a.creator,a.num,a.money,a.state,a.clinic_id,b.org_name from stock_in_out a,sec_org b where a.clinic_id = b.id_ and a.type != '领用' and a.type != '退领' order by a.state,a.in_out_time desc) t ) b left join stock_audit c on b.in_out_id = c.in_out_id where c.is_pass is null or b.state = 0.5 order by b.in_out_time desc,b.state limit ?,? 
2019-3-27 10:27:02 http-nio-8081-exec-8 DEBUG ==> Parameters: 0(Integer), 10(Integer)
2019-3-27 10:27:02 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-3-27 10:27:04 http-nio-8081-exec-4 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-50' limit 1 
2019-3-27 10:27:04 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-3-27 10:27:04 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-3-27 10:27:04 http-nio-8081-exec-7 DEBUG ==>  Preparing: select type_id typeId, code, name, parent_id parentId,case when parent_id = '0' or parent_id = 'CD0001' then true else false end open from stock_product_type order by create_time 
2019-3-27 10:27:04 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-3-27 10:27:04 http-nio-8081-exec-7 DEBUG <==      Total: 7
2019-3-27 10:27:05 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.stock_id, t.clinic_id, t.type_id, t.product_type, t.product_code, t.product_unit, t.product_name, t.product_model, t.product_spec, t.product_brand, t.stock_num, t.stock_num * t.sprice combined, t.end_time, t.sprice, t.money, t.remark, CASE WHEN t.allowance IS NOT NULL THEN t.allowance ELSE 0 END allowance FROM (SELECT stock_id, clinic_id, type_id, product_type, product_code, product_unit, product_name, product_model, product_spec, product_brand, stock_num, end_time, sprice, money, remark, (SELECT sum(allowance) FROM stock_in_out_de WHERE clinic_id = stock.clinic_id AND in_out_code = stock.product_code AND now() > end_time) allowance FROM stock WHERE clinic_id = ? AND stock_num > 0) t) t LEFT JOIN stock_warn b ON b.clinic_id = t.clinic_id AND t.product_code = b.warn_pro_id 
2019-3-27 10:27:05 http-nio-8081-exec-9 DEBUG ==> Parameters: 122(String)
2019-3-27 10:27:05 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-3-27 10:27:05 http-nio-8081-exec-9 DEBUG ==>  Preparing: select t.*,b.warn_num from ( select t.stock_id,t.clinic_id,t.type_id,t.product_type,t.product_code,t.product_unit, t.product_name,t.product_model,t.product_spec,t.product_brand,t.stock_num,t.stock_num*t.sprice combined, t.end_time,t.sprice,t.money,t.remark,case when t.allowance is not null then t.allowance else 0 end allowance from ( select stock_id,clinic_id,type_id,product_type,product_code,product_unit, product_name,product_model,product_spec,product_brand,stock_num, end_time,sprice,money,remark, (select sum(allowance) from stock_in_out_de where clinic_id = stock.clinic_id and in_out_code = stock.product_code and now()>end_time) allowance from stock where clinic_id = ? and stock_num > 0 ) t order by t.product_code ) t left join stock_warn b on b.clinic_id = t.clinic_id and t.product_code = b.warn_pro_id order by product_code limit ?,? 
2019-3-27 10:27:05 http-nio-8081-exec-9 DEBUG ==> Parameters: 122(String), 0(Integer), 10(Integer)
2019-3-27 10:27:05 http-nio-8081-exec-9 DEBUG <==      Total: 10
2019-3-27 10:27:07 http-nio-8081-exec-5 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.stock_id, t.clinic_id, t.type_id, t.product_type, t.product_code, t.product_unit, t.product_name, t.product_model, t.product_spec, t.product_brand, t.stock_num, t.stock_num * t.sprice combined, t.end_time, t.sprice, t.money, t.remark, CASE WHEN t.allowance IS NOT NULL THEN t.allowance ELSE 0 END allowance FROM (SELECT stock_id, clinic_id, type_id, product_type, product_code, product_unit, product_name, product_model, product_spec, product_brand, stock_num, end_time, sprice, money, remark, (SELECT sum(allowance) FROM stock_in_out_de WHERE clinic_id = stock.clinic_id AND in_out_code = stock.product_code AND now() > end_time) allowance FROM stock WHERE clinic_id = ? AND stock_num > 0 AND (product_name LIKE '%M003525%' OR product_code LIKE '%M003525%')) t) t LEFT JOIN stock_warn b ON b.clinic_id = t.clinic_id AND t.product_code = b.warn_pro_id 
2019-3-27 10:27:07 http-nio-8081-exec-5 DEBUG ==> Parameters: 122(String)
2019-3-27 10:27:07 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-3-27 10:27:07 http-nio-8081-exec-5 DEBUG ==>  Preparing: select t.*,b.warn_num from ( select t.stock_id,t.clinic_id,t.type_id,t.product_type,t.product_code,t.product_unit, t.product_name,t.product_model,t.product_spec,t.product_brand,t.stock_num,t.stock_num*t.sprice combined, t.end_time,t.sprice,t.money,t.remark,case when t.allowance is not null then t.allowance else 0 end allowance from ( select stock_id,clinic_id,type_id,product_type,product_code,product_unit, product_name,product_model,product_spec,product_brand,stock_num, end_time,sprice,money,remark, (select sum(allowance) from stock_in_out_de where clinic_id = stock.clinic_id and in_out_code = stock.product_code and now()>end_time) allowance from stock where clinic_id = ? and stock_num > 0 and (product_name like '%M003525%' or product_code like '%M003525%') ) t order by t.product_code ) t left join stock_warn b on b.clinic_id = t.clinic_id and t.product_code = b.warn_pro_id order by product_code limit ?,? 
2019-3-27 10:27:07 http-nio-8081-exec-5 DEBUG ==> Parameters: 122(String), 0(Integer), 10(Integer)
2019-3-27 10:27:07 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-3-27 10:27:09 http-nio-8081-exec-10 DEBUG ==>  Preparing: select t.* from ( select a.batch_id,a.in_out_code,a.p_name,a.p_type,a.p_model,a.p_spe,a.p_unit,a.p_brand,a.end_time,a.money,a.allowance,a.num,a.cost,a.in_out_de_id,a.remark,a.start_time,production_code,supplier,expiration_time from stock_in_out_de a where a.clinic_id = ? and a.operation_type = '进货' and a.allowance >0 and (a.in_out_code = ? or a.p_name like '%M003525%') ) t order by t.end_time,t.in_out_code LIMIT 10 OFFSET 0 
2019-3-27 10:27:09 http-nio-8081-exec-10 DEBUG ==> Parameters: 122(String), M003525(String)
2019-3-27 10:27:09 http-nio-8081-exec-10 DEBUG <==      Total: 0
2019-3-27 10:27:09 http-nio-8081-exec-10 DEBUG ==>  Preparing: select count(*) from ( select a.batch_id from stock_in_out_de a where a.clinic_id = ? and a.operation_type = '进货' and a.allowance >0 and (a.in_out_code = ? or a.p_name like '%M003525%') ) t 
2019-3-27 10:27:09 http-nio-8081-exec-10 DEBUG ==> Parameters: 122(String), M003525(String)
2019-3-27 10:27:09 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-3-27 10:27:11 http-nio-8081-exec-6 DEBUG ==>  Preparing: select t.* from ( select a.batch_id,a.in_out_code,a.p_name,a.p_type,a.p_model,a.p_spe,a.p_unit,a.p_brand,a.end_time,a.money,a.allowance,a.num,a.cost,a.in_out_de_id,a.remark,a.start_time,production_code,supplier,expiration_time from stock_in_out_de a where a.clinic_id = ? and a.operation_type = '进货' and a.allowance >0 and (a.in_out_code = ? or a.p_name like '%M003525%') ) t order by t.end_time,t.in_out_code LIMIT 10 OFFSET 0 
2019-3-27 10:27:11 http-nio-8081-exec-6 DEBUG ==> Parameters: 122(String), M003525(String)
2019-3-27 10:27:11 http-nio-8081-exec-6 DEBUG <==      Total: 0
2019-3-27 10:27:11 http-nio-8081-exec-6 DEBUG ==>  Preparing: select count(*) from ( select a.batch_id from stock_in_out_de a where a.clinic_id = ? and a.operation_type = '进货' and a.allowance >0 and (a.in_out_code = ? or a.p_name like '%M003525%') ) t 
2019-3-27 10:27:11 http-nio-8081-exec-6 DEBUG ==> Parameters: 122(String), M003525(String)
2019-3-27 10:27:11 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-3-27 10:27:28 http-nio-8081-exec-3 DEBUG ==>  Preparing: select t.* from ( select a.batch_id,a.in_out_code,a.p_name,a.p_type,a.p_model,a.p_spe,a.p_unit,a.p_brand,a.end_time,a.money,a.allowance,a.num,a.cost,a.in_out_de_id,a.remark,a.start_time,production_code,supplier,expiration_time from stock_in_out_de a where a.clinic_id = ? and a.operation_type = '进货' and a.allowance >0 and (a.in_out_code = ? or a.p_name like '%M003525%') ) t order by t.end_time,t.in_out_code LIMIT 10 OFFSET 0 
2019-3-27 10:27:28 http-nio-8081-exec-3 DEBUG ==> Parameters: 122(String), M003525(String)
2019-3-27 10:27:28 http-nio-8081-exec-3 DEBUG <==      Total: 0
2019-3-27 10:27:28 http-nio-8081-exec-3 DEBUG ==>  Preparing: select count(*) from ( select a.batch_id from stock_in_out_de a where a.clinic_id = ? and a.operation_type = '进货' and a.allowance >0 and (a.in_out_code = ? or a.p_name like '%M003525%') ) t 
2019-3-27 10:27:28 http-nio-8081-exec-3 DEBUG ==> Parameters: 122(String), M003525(String)
2019-3-27 10:27:28 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-3-27 10:52:43 http-nio-8081-exec-8 DEBUG ==>  Preparing: select * from sec_menu where ID_='chai-wu-guan-li' limit 1 
2019-3-27 10:52:43 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-3-27 10:52:43 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-3-27 10:52:44 http-nio-8081-exec-7 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name from sec_org where DELETED = 0 and state = 1 and type='门诊' 
2019-3-27 10:52:44 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-3-27 10:52:44 http-nio-8081-exec-4 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-3-27 10:52:44 http-nio-8081-exec-4 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-3-27 10:52:44 http-nio-8081-exec-7 DEBUG <==      Total: 2
2019-3-27 10:52:44 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-3-27 10:52:44 http-nio-8081-exec-7 DEBUG ==>  Preparing: select ID_ id, USER_NAME name,ORG_ID orgId from sec_user where DELETED = 0 and STANDBY1 = '医生' 
2019-3-27 10:52:44 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-3-27 10:52:44 http-nio-8081-exec-4 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-3-27 10:52:44 http-nio-8081-exec-4 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-3-27 10:52:44 http-nio-8081-exec-7 DEBUG <==      Total: 5
2019-3-27 10:52:44 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-3-27 10:52:44 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT sf_id, count(sf_id) AS sf_num, record_type FROM `account_record` GROUP BY sf_id, record_type HAVING sf_num = 1) temp ON temp.sf_id = t.sf_id 
2019-3-27 10:52:44 http-nio-8081-exec-9 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-3-27 10:52:44 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-3-27 10:52:44 http-nio-8081-exec-9 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT sf_id,count(sf_id) as sf_num,record_type FROM `account_record` GROUP BY sf_id,record_type HAVING sf_num =1) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-3-27 10:52:44 http-nio-8081-exec-9 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String), 0(Integer), 10(Integer)
2019-3-27 10:52:44 http-nio-8081-exec-9 DEBUG <==      Total: 10
2019-3-27 11:09:47 http-nio-8081-exec-6 DEBUG ==>  Preparing: select * from sec_menu where ID_='5eaa4b9d-3bf6-43c2-aac6-f4c9cb034167' limit 1 
2019-3-27 11:09:47 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-3-27 11:09:47 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-3-27 11:09:47 http-nio-8081-exec-3 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name from sec_org where DELETED = 0 and state = 1 and type='门诊' 
2019-3-27 11:09:47 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-3-27 11:09:48 http-nio-8081-exec-3 DEBUG <==      Total: 2
2019-3-27 11:09:48 http-nio-8081-exec-1 DEBUG ==>  Preparing: select id_ id,user_name name,org_id clinic from sec_user where standby1='医生' and status = '启用' and deleted = 0 
2019-3-27 11:09:48 http-nio-8081-exec-1 DEBUG ==> Parameters: 
2019-3-27 11:09:48 http-nio-8081-exec-3 DEBUG ==>  Preparing: select ID_ id, USER_NAME name,ORG_ID orgId from sec_user where DELETED = 0 and STANDBY1 = '医生' 
2019-3-27 11:09:48 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-3-27 11:09:48 http-nio-8081-exec-1 DEBUG <==      Total: 5
2019-3-27 11:09:48 http-nio-8081-exec-3 DEBUG <==      Total: 5
2019-3-27 11:09:48 http-nio-8081-exec-2 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name,PARENT_ID pId,case when id_='122' then 1 else 0 end open from sec_org where DELETED = 0 and state = 1 
2019-3-27 11:09:48 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-3-27 11:09:48 http-nio-8081-exec-2 DEBUG <==      Total: 3
2019-3-27 11:09:48 http-nio-8081-exec-8 DEBUG ==>  Preparing: select c.*,o.ORG_NAME,(select u.USER_NAME from sec_user u where u.ID_=c.doctor) as USER_NAME,(select b.bl_time from cust_bl b where b.cust_id=c.cust_id ORDER BY b.bl_time LIMIT 1) as bl_time ,(select u.USER_NAME from sec_user u where u.ID_=c.early_doctor) as early_doctor_name,(select a.org_name from sec_org a where a.ID_ = c.early_clinic) as early_clinic_name from customer c,sec_org o where c.cust_clinic=o.ID_ 
2019-3-27 11:09:48 http-nio-8081-exec-8 DEBUG ==> Parameters: 
2019-3-27 11:09:48 http-nio-8081-exec-8 DEBUG <==      Total: 58
2019-3-27 11:09:49 http-nio-8081-exec-7 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-50' limit 1 
2019-3-27 11:09:49 http-nio-8081-exec-7 DEBUG ==> Parameters: 
2019-3-27 11:09:49 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-3-27 11:09:49 http-nio-8081-exec-4 DEBUG ==>  Preparing: select type_id typeId, code, name, parent_id parentId,case when parent_id = '0' or parent_id = 'CD0001' then true else false end open from stock_product_type order by create_time 
2019-3-27 11:09:49 http-nio-8081-exec-4 DEBUG ==> Parameters: 
2019-3-27 11:09:49 http-nio-8081-exec-4 DEBUG <==      Total: 7
2019-3-27 11:09:49 http-nio-8081-exec-9 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.stock_id, t.clinic_id, t.type_id, t.product_type, t.product_code, t.product_unit, t.product_name, t.product_model, t.product_spec, t.product_brand, t.stock_num, t.stock_num * t.sprice combined, t.end_time, t.sprice, t.money, t.remark, CASE WHEN t.allowance IS NOT NULL THEN t.allowance ELSE 0 END allowance FROM (SELECT stock_id, clinic_id, type_id, product_type, product_code, product_unit, product_name, product_model, product_spec, product_brand, stock_num, end_time, sprice, money, remark, (SELECT sum(allowance) FROM stock_in_out_de WHERE clinic_id = stock.clinic_id AND in_out_code = stock.product_code AND now() > end_time) allowance FROM stock WHERE clinic_id = ? AND stock_num > 0) t) t LEFT JOIN stock_warn b ON b.clinic_id = t.clinic_id AND t.product_code = b.warn_pro_id 
2019-3-27 11:09:49 http-nio-8081-exec-9 DEBUG ==> Parameters: 122(String)
2019-3-27 11:09:49 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-3-27 11:09:49 http-nio-8081-exec-9 DEBUG ==>  Preparing: select t.*,b.warn_num from ( select t.stock_id,t.clinic_id,t.type_id,t.product_type,t.product_code,t.product_unit, t.product_name,t.product_model,t.product_spec,t.product_brand,t.stock_num,t.stock_num*t.sprice combined, t.end_time,t.sprice,t.money,t.remark,case when t.allowance is not null then t.allowance else 0 end allowance from ( select stock_id,clinic_id,type_id,product_type,product_code,product_unit, product_name,product_model,product_spec,product_brand,stock_num, end_time,sprice,money,remark, (select sum(allowance) from stock_in_out_de where clinic_id = stock.clinic_id and in_out_code = stock.product_code and now()>end_time) allowance from stock where clinic_id = ? and stock_num > 0 ) t order by t.product_code ) t left join stock_warn b on b.clinic_id = t.clinic_id and t.product_code = b.warn_pro_id order by product_code limit ?,? 
2019-3-27 11:09:49 http-nio-8081-exec-9 DEBUG ==> Parameters: 122(String), 0(Integer), 10(Integer)
2019-3-27 11:09:49 http-nio-8081-exec-9 DEBUG <==      Total: 10
2019-3-27 11:09:51 http-nio-8081-exec-5 DEBUG ==>  Preparing: select * from sec_menu where ID_='chai-wu-guan-li' limit 1 
2019-3-27 11:09:51 http-nio-8081-exec-5 DEBUG ==> Parameters: 
2019-3-27 11:09:51 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-3-27 11:09:51 http-nio-8081-exec-6 DEBUG ==>  Preparing: select ID_ id ,ORG_NAME name from sec_org where DELETED = 0 and state = 1 and type='门诊' 
2019-3-27 11:09:51 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-3-27 11:09:51 http-nio-8081-exec-10 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money) is null then 0 else sum(s.sf_money) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-3-27 11:09:51 http-nio-8081-exec-10 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-3-27 11:09:51 http-nio-8081-exec-6 DEBUG <==      Total: 2
2019-3-27 11:09:51 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-3-27 11:09:51 http-nio-8081-exec-6 DEBUG ==>  Preparing: select ID_ id, USER_NAME name,ORG_ID orgId from sec_user where DELETED = 0 and STANDBY1 = '医生' 
2019-3-27 11:09:51 http-nio-8081-exec-6 DEBUG ==> Parameters: 
2019-3-27 11:09:51 http-nio-8081-exec-6 DEBUG <==      Total: 5
2019-3-27 11:09:51 http-nio-8081-exec-10 DEBUG ==>  Preparing: select count(*) count,case when sum(s.sf_money - s.arrears) is null then 0 else sum(s.sf_money - s.arrears) end money from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') 
2019-3-27 11:09:51 http-nio-8081-exec-10 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-3-27 11:09:51 http-nio-8081-exec-10 DEBUG <==      Total: 1
2019-3-27 11:09:51 http-nio-8081-exec-1 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT s.*, c.cust_clinic FROM cust_sfjl s, customer c WHERE s.cust_id = c.cust_id AND s.deleted = 0 AND date_format(s.create_time, '%Y-%m-%d') >= ? AND ? >= date_format(s.create_time, '%Y-%m-%d')) t LEFT JOIN sec_user b ON t.cashier = b.ID_ LEFT JOIN sec_org so ON t.cust_clinic = so.ID_ LEFT JOIN (SELECT sf_id, count(sf_id) AS sf_num, record_type FROM `account_record` GROUP BY sf_id, record_type HAVING sf_num = 1) temp ON temp.sf_id = t.sf_id 
2019-3-27 11:09:51 http-nio-8081-exec-1 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String)
2019-3-27 11:09:51 http-nio-8081-exec-1 DEBUG <==      Total: 1
2019-3-27 11:09:51 http-nio-8081-exec-1 DEBUG ==>  Preparing: select t.*,b.user_name,so.org_name,temp.record_type from ( select s.*,c.cust_clinic from cust_sfjl s,customer c where s.cust_id=c.cust_id and s.deleted=0 and date_format(s.create_time,'%Y-%m-%d') >= ? and ? >= date_format(s.create_time,'%Y-%m-%d') ) t left join sec_user b on t.cashier = b.ID_ left join sec_org so on t.cust_clinic = so.ID_ LEFT JOIN (SELECT sf_id,count(sf_id) as sf_num,record_type FROM `account_record` GROUP BY sf_id,record_type HAVING sf_num =1) temp on temp.sf_id = t.sf_id order by t.create_time desc limit ?,? 
2019-3-27 11:09:51 http-nio-8081-exec-1 DEBUG ==> Parameters: 2019-01-01(String), 2019-12-31(String), 0(Integer), 10(Integer)
2019-3-27 11:09:51 http-nio-8081-exec-1 DEBUG <==      Total: 10
2019-3-27 11:10:11 http-nio-8081-exec-3 DEBUG ==>  Preparing: select * from sec_menu where ID_='062af654-9c05-4112-b8d8-50' limit 1 
2019-3-27 11:10:11 http-nio-8081-exec-3 DEBUG ==> Parameters: 
2019-3-27 11:10:11 http-nio-8081-exec-3 DEBUG <==      Total: 1
2019-3-27 11:10:11 http-nio-8081-exec-2 DEBUG ==>  Preparing: select type_id typeId, code, name, parent_id parentId,case when parent_id = '0' or parent_id = 'CD0001' then true else false end open from stock_product_type order by create_time 
2019-3-27 11:10:11 http-nio-8081-exec-2 DEBUG ==> Parameters: 
2019-3-27 11:10:11 http-nio-8081-exec-2 DEBUG <==      Total: 7
2019-3-27 11:10:11 http-nio-8081-exec-8 DEBUG ==>  Preparing: SELECT count(0) FROM (SELECT t.stock_id, t.clinic_id, t.type_id, t.product_type, t.product_code, t.product_unit, t.product_name, t.product_model, t.product_spec, t.product_brand, t.stock_num, t.stock_num * t.sprice combined, t.end_time, t.sprice, t.money, t.remark, CASE WHEN t.allowance IS NOT NULL THEN t.allowance ELSE 0 END allowance FROM (SELECT stock_id, clinic_id, type_id, product_type, product_code, product_unit, product_name, product_model, product_spec, product_brand, stock_num, end_time, sprice, money, remark, (SELECT sum(allowance) FROM stock_in_out_de WHERE clinic_id = stock.clinic_id AND in_out_code = stock.product_code AND now() > end_time) allowance FROM stock WHERE clinic_id = ? AND stock_num > 0) t) t LEFT JOIN stock_warn b ON b.clinic_id = t.clinic_id AND t.product_code = b.warn_pro_id 
2019-3-27 11:10:11 http-nio-8081-exec-8 DEBUG ==> Parameters: 122(String)
2019-3-27 11:10:11 http-nio-8081-exec-8 DEBUG <==      Total: 1
2019-3-27 11:10:11 http-nio-8081-exec-8 DEBUG ==>  Preparing: select t.*,b.warn_num from ( select t.stock_id,t.clinic_id,t.type_id,t.product_type,t.product_code,t.product_unit, t.product_name,t.product_model,t.product_spec,t.product_brand,t.stock_num,t.stock_num*t.sprice combined, t.end_time,t.sprice,t.money,t.remark,case when t.allowance is not null then t.allowance else 0 end allowance from ( select stock_id,clinic_id,type_id,product_type,product_code,product_unit, product_name,product_model,product_spec,product_brand,stock_num, end_time,sprice,money,remark, (select sum(allowance) from stock_in_out_de where clinic_id = stock.clinic_id and in_out_code = stock.product_code and now()>end_time) allowance from stock where clinic_id = ? and stock_num > 0 ) t order by t.product_code ) t left join stock_warn b on b.clinic_id = t.clinic_id and t.product_code = b.warn_pro_id order by product_code limit ?,? 
2019-3-27 11:10:11 http-nio-8081-exec-8 DEBUG ==> Parameters: 122(String), 0(Integer), 10(Integer)
2019-3-27 11:10:11 http-nio-8081-exec-8 DEBUG <==      Total: 10
2019-3-27 11:10:16 http-nio-8081-exec-7 DEBUG ==>  Preparing: select t.* from ( select a.batch_id,a.in_out_code,a.p_name,a.p_type,a.p_model,a.p_spe,a.p_unit,a.p_brand,a.end_time,a.money,a.allowance,a.num,a.cost,a.in_out_de_id,a.remark,a.start_time,production_code,supplier,expiration_time from stock_in_out_de a where a.clinic_id = ? and a.operation_type = '进货' and a.allowance >0 and (a.in_out_code = ? or a.p_name like '%M003798%') ) t order by t.end_time,t.in_out_code LIMIT 10 OFFSET 0 
2019-3-27 11:10:16 http-nio-8081-exec-7 DEBUG ==> Parameters: 122(String), M003798(String)
2019-3-27 11:10:16 http-nio-8081-exec-7 DEBUG <==      Total: 0
2019-3-27 11:10:16 http-nio-8081-exec-7 DEBUG ==>  Preparing: select count(*) from ( select a.batch_id from stock_in_out_de a where a.clinic_id = ? and a.operation_type = '进货' and a.allowance >0 and (a.in_out_code = ? or a.p_name like '%M003798%') ) t 
2019-3-27 11:10:16 http-nio-8081-exec-7 DEBUG ==> Parameters: 122(String), M003798(String)
2019-3-27 11:10:16 http-nio-8081-exec-7 DEBUG <==      Total: 1
2019-3-27 11:10:19 http-nio-8081-exec-4 DEBUG ==>  Preparing: select t.* from ( select a.batch_id,a.in_out_code,a.p_name,a.p_type,a.p_model,a.p_spe,a.p_unit,a.p_brand,a.end_time,a.money,a.allowance,a.num,a.cost,a.in_out_de_id,a.remark,a.start_time,production_code,supplier,expiration_time from stock_in_out_de a where a.clinic_id = ? and a.operation_type = '进货' and a.allowance >0 and (a.in_out_code = ? or a.p_name like '%M003779%') ) t order by t.end_time,t.in_out_code LIMIT 10 OFFSET 0 
2019-3-27 11:10:19 http-nio-8081-exec-4 DEBUG ==> Parameters: 122(String), M003779(String)
2019-3-27 11:10:19 http-nio-8081-exec-4 DEBUG <==      Total: 0
2019-3-27 11:10:19 http-nio-8081-exec-4 DEBUG ==>  Preparing: select count(*) from ( select a.batch_id from stock_in_out_de a where a.clinic_id = ? and a.operation_type = '进货' and a.allowance >0 and (a.in_out_code = ? or a.p_name like '%M003779%') ) t 
2019-3-27 11:10:19 http-nio-8081-exec-4 DEBUG ==> Parameters: 122(String), M003779(String)
2019-3-27 11:10:19 http-nio-8081-exec-4 DEBUG <==      Total: 1
2019-3-27 11:10:23 http-nio-8081-exec-9 DEBUG ==>  Preparing: select t.* from ( select a.batch_id,a.in_out_code,a.p_name,a.p_type,a.p_model,a.p_spe,a.p_unit,a.p_brand,a.end_time,a.money,a.allowance,a.num,a.cost,a.in_out_de_id,a.remark,a.start_time,production_code,supplier,expiration_time from stock_in_out_de a where a.clinic_id = ? and a.operation_type = '进货' and a.allowance >0 and (a.in_out_code = ? or a.p_name like '%M003959%') ) t order by t.end_time,t.in_out_code LIMIT 10 OFFSET 0 
2019-3-27 11:10:23 http-nio-8081-exec-9 DEBUG ==> Parameters: 122(String), M003959(String)
2019-3-27 11:10:23 http-nio-8081-exec-9 DEBUG <==      Total: 0
2019-3-27 11:10:23 http-nio-8081-exec-9 DEBUG ==>  Preparing: select count(*) from ( select a.batch_id from stock_in_out_de a where a.clinic_id = ? and a.operation_type = '进货' and a.allowance >0 and (a.in_out_code = ? or a.p_name like '%M003959%') ) t 
2019-3-27 11:10:23 http-nio-8081-exec-9 DEBUG ==> Parameters: 122(String), M003959(String)
2019-3-27 11:10:23 http-nio-8081-exec-9 DEBUG <==      Total: 1
2019-3-27 11:10:27 http-nio-8081-exec-5 DEBUG ==>  Preparing: select t.* from ( select a.batch_id,a.in_out_code,a.p_name,a.p_type,a.p_model,a.p_spe,a.p_unit,a.p_brand,a.end_time,a.money,a.allowance,a.num,a.cost,a.in_out_de_id,a.remark,a.start_time,production_code,supplier,expiration_time from stock_in_out_de a where a.clinic_id = ? and a.operation_type = '进货' and a.allowance >0 and (a.in_out_code = ? or a.p_name like '%M003826%') ) t order by t.end_time,t.in_out_code LIMIT 10 OFFSET 0 
2019-3-27 11:10:27 http-nio-8081-exec-5 DEBUG ==> Parameters: 122(String), M003826(String)
2019-3-27 11:10:27 http-nio-8081-exec-5 DEBUG <==      Total: 0
2019-3-27 11:10:27 http-nio-8081-exec-5 DEBUG ==>  Preparing: select count(*) from ( select a.batch_id from stock_in_out_de a where a.clinic_id = ? and a.operation_type = '进货' and a.allowance >0 and (a.in_out_code = ? or a.p_name like '%M003826%') ) t 
2019-3-27 11:10:27 http-nio-8081-exec-5 DEBUG ==> Parameters: 122(String), M003826(String)
2019-3-27 11:10:27 http-nio-8081-exec-5 DEBUG <==      Total: 1
2019-3-27 11:10:29 http-nio-8081-exec-6 DEBUG ==>  Preparing: select t.* from ( select a.batch_id,a.in_out_code,a.p_name,a.p_type,a.p_model,a.p_spe,a.p_unit,a.p_brand,a.end_time,a.money,a.allowance,a.num,a.cost,a.in_out_de_id,a.remark,a.start_time,production_code,supplier,expiration_time from stock_in_out_de a where a.clinic_id = ? and a.operation_type = '进货' and a.allowance >0 and (a.in_out_code = ? or a.p_name like '%M003838%') ) t order by t.end_time,t.in_out_code LIMIT 10 OFFSET 0 
2019-3-27 11:10:29 http-nio-8081-exec-6 DEBUG ==> Parameters: 122(String), M003838(String)
2019-3-27 11:10:29 http-nio-8081-exec-6 DEBUG <==      Total: 0
2019-3-27 11:10:29 http-nio-8081-exec-6 DEBUG ==>  Preparing: select count(*) from ( select a.batch_id from stock_in_out_de a where a.clinic_id = ? and a.operation_type = '进货' and a.allowance >0 and (a.in_out_code = ? or a.p_name like '%M003838%') ) t 
2019-3-27 11:10:29 http-nio-8081-exec-6 DEBUG ==> Parameters: 122(String), M003838(String)
2019-3-27 11:10:29 http-nio-8081-exec-6 DEBUG <==      Total: 1
2019-3-27 11:10:32 http-nio-8081-exec-10 DEBUG ==>  Preparing: select t.* from ( select a.batch_id,a.in_out_code,a.p_name,a.p_type,a.p_model,a.p_spe,a.p_unit,a.p_brand,a.end_time,a.money,a.allowance,a.num,a.cost,a.in_out_de_id,a.remark,a.start_time,production_code,supplier,expiration_time from stock_in_out_de a where a.clinic_id = ? and a.operation_type = '进货' and a.allowance >0 and (a.in_out_code = ? or a.p_name like '%M003826%') ) t order by t.end_time,t.in_out_code LIMIT 10 OFFSET 0 
2019-3-27 11:10:32 http-nio-8081-exec-10 DEBUG ==> Parameters: 122(String), M003826(String)
2019-3-27 11:10:32 http-nio-8081-exec-10 DEBUG <==      Total: 0
2019-3-27 11:10:32 http-nio-8081-exec-10 DEBUG ==>  Preparing: select count(*) from ( select a.batch_id from stock_in_out_de a where a.clinic_id = ? and a.operation_type = '进货' and a.allowance >0 and (a.in_out_code = ? or a.p_name like '%M003826%') ) t 
2019-3-27 11:10:32 http-nio-8081-exec-10 DEBUG ==> Parameters: 122(String), M003826(String)
2019-3-27 11:10:32 http-nio-8081-exec-10 DEBUG <==      Total: 1
