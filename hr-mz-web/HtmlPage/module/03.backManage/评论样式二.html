
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>评论场景</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="../../../Styles/themes/default/style.css"  media="all">
</head>
<body>



<div class="comment-area eui-width1000">

    <div class="eui-font20 eui-color-red eui-marginB20">
        样式二与样式一的区别就是在加上comment-bbsStyle；具体评见文件源代码
    </div>
    <!---------------------就是这个下面的CLASS-->
    <ul class="comment-ul comment-bbsStyle">
        <li class="comment-title">
            <div class="title-bar">
                <div class="float-right eui-color-gray3">
                    <a href="###" class="eui-color-gray3">只看楼主</a> |
                    直达楼层：
                    <input type="text" class="eui-width50" placeholder="">
                </div>
                <i class="eui-icon eui-font20">&#xe63a;</i>
                <span class="title-sub">
                  <a href="###" class="eui-color-gray3">最新评论</a>
                </span>
                |
                <span class="title-main">
                 <a href="###" class="eui-color-red">正序排列</a>
                </span>
            </div>
        </li>
        <li>
            <div class="comment-user">
                <a href="###">
                    <img src="../../../Styles/images/user/user2.jpg" alt="用户头像">
                </a>
            </div>
            <div class="comment-msg">
                <div class="cmsg-head">
                    <a href="###" class="eui-color-red eui-font16 pageHost">张乙浩</a>
                    <p class="float-right eui-color-red">沙发</p>  <!--板凳、地板、数字+#-->
                    发表于02-02 11:29:00 |
                    <a href="###" class="eui-btn-font">只看楼主</a>
                </div>
                <div class="cmsg-text">

                    <div class="cmsg-answer">
                        <p>张乙浩 发表于02-02 11:29:00</p>
                        <p>这个地方是评论的内容，张乙浩是最帅的！</p>
                    </div>
                    <p>这个地方是回复的地方，对，我也觉得是。</p>

                </div>
                <div class="cmsg-foot">
                    <a href="###" class="eui-btn-font" data-method="Report">举报</a>
                    <a href="###" class="eui-btn-font" data-method="Reply">回复</a>
                </div>
            </div>
        </li>
        <li>
            <div class="comment-user">
                <a href="###">
                    <img src="../../../Styles/images/user/user2.jpg" alt="用户头像">
                </a>
            </div>
            <div class="comment-msg">
                <div class="cmsg-head">
                    <a href="###" class="eui-color-red eui-font16 pageHost">张乙浩</a>
                    <p class="float-right eui-color-orange">板凳</p>  <!--板凳、地板、数字+#-->
                    发表于02-02 11:29:00 |
                    <a href="###" class="eui-btn-font">只看楼主</a>
                </div>
                <div class="cmsg-text">

                    <div class="cmsg-answer">
                        <div class="cmsg-answer">
                            <p>张乙浩 发表于02-02 11:29:00</p>
                            <p>这个地方是评论的内容：张乙浩是最帅的！</p>
                        </div>
                        <p>这个地方是回复的地方：对，我也觉得是。</p>
                    </div>
                    <p>这个地方是第三个真诚的小伙子回复的地方：对，我也觉得是。</p>

                </div>
                <div class="cmsg-foot">
                    <a href="###" class="eui-btn-font" data-method="Report">举报</a>
                    <a href="###" class="eui-btn-font" data-method="Reply">回复</a>
                </div>
            </div>
        </li>
        <li>
            <div class="comment-user">
                <a href="###">
                    <img src="../../../Styles/images/user/user2.jpg" alt="用户头像">
                </a>
            </div>
            <div class="comment-msg">
                <div class="cmsg-head">
                    <a href="###" class="eui-color-red eui-font16 pageHost">张乙浩</a>
                    <p class="float-right eui-color-blue">地板</p>  <!--板凳、地板、数字+#-->
                    发表于02-02 11:29:00 |
                    <a href="###" class="eui-btn-font">只看楼主</a>
                </div>
                <div class="cmsg-text">
                    <div class="cmsg-answer">
                        <div class="cmsg-answer">
                            <div class="cmsg-answer">
                                <p>张乙浩 发表于02-02 11:29:00</p>
                                <p>这个地方是评论的内容：张乙浩是最帅的！</p>
                            </div>
                            <p>这个地方是回复的地方：对，我也觉得是。</p>
                        </div>
                        <p>这个地方是第三个真诚的小伙子回复的地方：对，我也觉得是。</p>
                    </div>
                    <p>这个地方是第四个真诚的小伙子回复的地方，张乙浩是最帅的！</p>
                </div>
                <div class="cmsg-foot">
                    <a href="###" class="eui-btn-font" data-method="Report">举报</a>
                    <a href="###" class="eui-btn-font" data-method="Reply">回复</a>
                </div>
            </div>
        </li>
        <li>
            <div class="comment-user">
                <a href="###">
                    <img src="../../../Styles/images/user/user2.jpg" alt="用户头像">
                </a>
            </div>
            <div class="comment-msg">
                <div class="cmsg-head">
                    <a href="###" class="eui-color-red eui-font16 pageHost">张乙浩</a>
                    <p class="float-right">4#</p>  <!--板凳、地板、数字+#-->
                    发表于02-02 11:29:00 |
                    <a href="###" class="eui-btn-font">只看楼主</a>
                </div>
                <div class="cmsg-text">
                    <p>这个地方是评论的内容，张乙浩是最帅的！</p>



                    <div class="title-bar eui-paddingTB5 eui-marginTB10">
                            <span class="title-main eui-font14 eui-font-bold">
                              附件下载
                            </span>
                    </div>
                    <table class="eui-table">
                        <thead>
                        <tr>
                            <th>文件名</th>
                            <th>大小</th>
                            <th>操作</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>易度软件LOGO-白.png</td>
                            <td>37.2kb</td>
                            <td>
                                <a href="###" class="eui-btn eui-btn-mini eui-btn-danger demo-delete">下载</a>
                            </td>
                        </tr>
                        <tr>
                            <td>易度软件LOGO-白.png</td>
                            <td>37.2kb</td>
                            <td>
                                <a href="###" class="eui-btn eui-btn-mini eui-btn-danger demo-delete">下载</a>
                            </td>
                        </tr>
                        <tr>
                            <td>易度软件LOGO-白.png</td>
                            <td>37.2kb</td>
                            <td>
                                <a href="###" class="eui-btn eui-btn-mini eui-btn-danger demo-delete">下载</a>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="cmsg-foot">
                    <a href="###" class="eui-btn-font" data-method="Report">举报</a>
                    <a href="###" class="eui-btn-font" data-method="Reply">回复</a>
                </div>
            </div>
        </li>
        <li>
            <div class="comment-user">
                <a href="###">
                    <img src="../../../Styles/images/user/user2.jpg" alt="用户头像">
                </a>
            </div>
            <div class="comment-msg">
                <div class="cmsg-head">
                    <a href="###" class="eui-color-red eui-font16 pageHost">张乙浩</a>
                    <p class="float-right">5#</p>  <!--板凳、地板、数字+#-->
                    发表于02-02 11:29:00 |
                    <a href="###" class="eui-btn-font">只看楼主</a>
                </div>
                <div class="cmsg-text">
                    <p>这个地方是评论的内容，张乙浩是最帅的！</p>
                </div>
                <div class="cmsg-foot">
                    <a href="###" class="eui-btn-font" data-method="Report">举报</a>
                    <a href="###" class="eui-btn-font" data-method="Reply">回复</a>
                </div>
            </div>
        </li>
        <li class="eui-border0 eui-textAlignC">
            <div id="page"></div>
        </li>
    </ul>

    <!--第一种富文本框：layedit-->
    <ul class="comment-ul comment-bbsStyle comment-edit eui-marginT20">
        <li>
            <div class="comment-user">
                <a href="###">
                    <img src="../../../Styles/images/user/user2.jpg" alt="用户头像">
                </a>
            </div>
            <div class="comment-msg">

                <textarea id="comment-msgedit" style="display: none;"></textarea>
                <div class="comment-opear eui-marginT10">
                    <a href="###" class="eui-btn">立即提交</a>
                    <a href="###" class="eui-btn eui-btn-primary" id="uploadFiles">上传附件</a>
                    <span class="eui-color-gray3 eui-marginL10">当前已输入 0 个字符，你还可以输入 10000 个字。</span>
                </div>

                <!--上传文件 start-->
                <div class="eui-upload eui-hide" id="uploadList">
                    <div class="eui-upload-list">
                        <table class="eui-table">
                            <thead>
                            <tr>
                                <th>文件名</th>
                                <th>大小</th>
                                <th>状态</th>
                                <th>操作</th>
                            </tr>
                            </thead>
                            <tbody id="demoList"></tbody>
                        </table>
                    </div>
                    <a href="###" class="eui-btn eui-btn-primary eui-btn-small" id="upAction"><i class="eui-icon">&#xe67c;</i>开始上传</a>
                </div>
                <!--上传文件 end-->
            </div>

        </li>
    </ul>

    <!--第二种富文本框：UEditor-->
    <ul class="comment-ul comment-bbsStyle comment-edit eui-marginT20">
        <li>
            <div class="comment-user">
                <a href="###">
                    <img src="../../../Styles/images/user/user2.jpg" alt="用户头像">
                </a>
            </div>
            <div class="comment-msg">

                <div id="editor" class="eui-widthauto" style="height:200px"></div>
                <div class="comment-opear eui-marginT10">
                    <a href="###" class="eui-btn">立即提交</a>
                </div>
            </div>

        </li>
    </ul>

</div>


<script src="../../../Scripts/module/eui.js" charset="utf-8"></script>

<!--该部分为第二种富文本框：UEditor所需要的，这里只是引入一个例子，具体需要哪些请自行参考官方文档进行JS选择，如不需要UEditor，请删除以下J文件-->
<script type="text/javascript" charset="utf-8" src="../../../Scripts/libs/UEditor/editor.config.js"></script>
<script type="text/javascript" charset="utf-8" src="../../../Scripts/libs/UEditor/_examples/editor_api.js"> </script>
<!--建议手动加在语言，避免在ie下有时因为加载语言失败导致编辑器加载失败-->
<!--这里加载的语言文件会覆盖你在配置项目里添加的语言类型，比如你在配置项目里配置的是英文，这里加载的中文，那最后就是中文-->
<script type="text/javascript" charset="utf-8" src="../../../Scripts/libs/UEditor/lang/zh-cn/zh-cn.js"></script>



<script type="text/javascript">

    eui.use(['laypage', 'layer','layedit','upload','form'], function(){
        var $ = eui.jquery
            ,laypage = eui.laypage
            ,layer = eui.layer
            ,upload = eui.upload
            ,form = eui.form
            ,layedit = eui.layedit;

        //建立编辑器
        layedit.build('comment-msgedit',{
            height:150 //设置编辑器高度
        });

        //完整分页功能
        laypage.render({
            elem: 'page'
            ,count: 100
            ,layout: ['count', 'prev', 'page', 'next', 'limit', 'skip']
            ,jump: function(obj){
            }
        });

        //点击回复
        var active = {
            Reply: function(){
                $(window).attr('location','论坛评论区-回复.html');
                /* var that = this;
                 //多窗口模式，层叠置顶
                 var reWho=$(this).closest(".comment-msg").find(".cmsg-head span").text();
                 layer.open({
                     type: 1,     //1是自定义HTML内容  2是加载IFRAME链接
                     area: ['700px', '450px'],
                     title:'回复：'+ reWho,
                     fixed: false, //不固定
                     maxmin: true,
                     content: ''
                 });*/

            },
            Report:function(){
                var that = this;
                var reWho=$(this).closest(".comment-msg").find(".cmsg-head span").text();
                layer.open({
                    type: 1,     //1是自定义HTML内容  2是加载IFRAME链接
                    area: ['600px', '200px'],
                    title:'是否确认举报：'+ reWho,
                    fixed: false, //不固定
                    maxmin: true,
                    content: '' +
                    '<div class="eui-form eui-padding20">'+
                    '<p class="eui-font16 eui-color-red eui-marginB10">请选择举报的内容项：</p>'+
                    '<input type="checkbox" name="like[write]" title="恶意灌水" e-skin="primary">' +
                    '<input type="checkbox" name="like[write]" title="广告诈骗" e-skin="primary">' +
                    '<input type="checkbox" name="like[write]" title="淫秽色情" e-skin="primary">' +
                    '<input type="checkbox" name="like[read]" title="触犯法律法规" e-skin="primary">' +
                    '<input type="checkbox" name="like[read]" title="其他原因" e-skin="primary">' +
                    '</div>',
                    btn:['立即提交', '取消举报'],
                    btnAlign: 'c',
                    yes:function(){
                        layer.closeAll();
                        layer.msg("举报成功！感谢您！我的易度卫士");
                    },
                    btn2:function(){
                        layer.closeAll();
                    }
                });
                form.render();
            }
        };

        $('.eui-btn-font').on('click', function(){
            var othis = $(this), method = othis.data('method');
            active[method] ? active[method].call(this, othis) : '';
        });

        //多文件上传
        var demoListView = $('#demoList')
            ,uploadListIns = upload.render({
            elem: '#uploadFiles'
            ,url: ''
            ,accept: 'file'
            ,multiple: true
            ,auto: false
            ,bindAction: '#upAction'
            ,choose: function(obj){
                var files = obj.pushFile(); //将每次选择的文件追加到文件队列
                //读取本地文件
                obj.preview(function(index, file, result){
                    $("#uploadList").removeClass('eui-hide');
                    var tr = $(['<tr id="upload-'+ index +'">'
                        ,'<td>'+ file.name +'</td>'
                        ,'<td>'+ (file.size/1014).toFixed(1) +'kb</td>'
                        ,'<td>等待上传</td>'
                        ,'<td>'
                        ,'<a href="###" class="eui-btn eui-btn-mini demo-reload eui-hide">重传</a>'
                        ,'<a href="###" class="eui-btn eui-btn-mini eui-btn-danger demo-delete">删除</a>'
                        ,'</td>'
                        ,'</tr>'].join(''));

                    //单个重传
                    tr.find('.demo-reload').on('click', function(){
                        obj.upload(index, file);
                    });

                    //删除
                    tr.find('.demo-delete').on('click', function(){
                        delete files[index]; //删除对应的文件
                        tr.remove();

                        if($("#demoList tr").length<1){
                            $("#uploadList").addClass("eui-hide");
                        }
                    });

                    demoListView.append(tr);
                });
            }
            ,done: function(res, index, upload){
                if(res.code == 0){ //上传成功
                    var tr = demoListView.find('tr#upload-'+ index)
                        ,tds = tr.children();
                    tds.eq(2).html('<span style="color: #5FB878;">上传成功</span>');
                    tds.eq(3).html(''); //清空操作
                    delete files[index]; //删除文件队列已经上传成功的文件
                    return;
                }
                this.error(index, upload);
            }
            ,error: function(index, upload){
                var tr = demoListView.find('tr#upload-'+ index)
                    ,tds = tr.children();
                tds.eq(2).html('<span style="color: #FF5722;">上传失败</span>');
                tds.eq(3).find('.demo-reload').removeClass('eui-hide'); //显示重传
            }
        });


        /*以下部分为第二种富文本框：UEditor所需要的*/
        var ue = UE.getEditor('editor',{
            initialFrameWidth: null,
            initialFrameHeight: 200,
            initialContent:'该部分为 UEditor 的富文本框，请选择其中一种即可。'
        });
    });


</script>
</body>
</html>
