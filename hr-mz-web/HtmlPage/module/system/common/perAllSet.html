<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>权限批量设置</title>
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="stylesheet" href="../../../../Styles/themes/default/style.css"  media="all">
</head>
<body class="ToolbarFixed">

<div class="toolbarH">
  <div class="title-bar">
    <div class="eui-btn-group float-right">
      <!--不需要图标时可以将<i class="eui-icon">图标字符</i>去掉；开发时请删除此注释-->
      <a href="###" class="eui-btn">保存</a>
      <a href="###" class="eui-btn eui-btn-primary">关闭</a>
    </div>
    <span class="title-main">
      <i class="eui-icon eui-font24">&#xe620;</i>
      权限批量设置
    </span>
    <span class="title-sub">

    </span>
    <!--<a href="###" class="eui-btn eui-btn-primary eui-btn-small eui-marginL10"><i class="eui-icon">&#xe613;</i>切换用户</a>
    |
    <div class="eui-btn-group">
      <a href="###" class="eui-btn  eui-btn-small eui-marginL10">复制权限</a>
      <a href="###" class="eui-btn  eui-btn-small eui-marginL10">粘贴权限</a>
      <a href="###" class="eui-btn  eui-btn-small eui-marginL10">清空权限</a>
      <a href="###" class="eui-btn  eui-btn-small eui-marginL10">选择权限模板</a>
    </div>-->
  </div>
</div>

<div class="form-body eui-padding10 eui-widthAuto">

<div class="eui-row eui-layout-body">
  <div class="eui-col-xs2">
    <div class="eui-col-child">
        <div class="layoutT">
           角色
        </div>
        <div class="layoutC">
          <input type="text" class="eui-input" placeholder="搜索关键字，回车搜索">



        </div>

      <!--  <div class="eui-btn-group footBtn footBtn-num3">
          &lt;!&ndash;不需要图标时可以将<i class="eui-icon">图标字符</i>去掉；开发时请删除此注释&ndash;&gt;
          <a href="###" class="eui-btn eui-btn-primary eui-btn-small"><i class="eui-icon">&#xe654;</i>新建</a>
          <a href="###" class="eui-btn eui-btn-primary eui-btn-small"><i class="eui-icon">&#xe642;</i>编辑</a>
          <a href="###" class="eui-btn eui-btn-primary eui-btn-small"><i class="eui-icon">&#xe640;</i>删除</a>
        </div>-->
    </div>
  </div>

  <div class="eui-col-xs2">
    <div class="eui-col-child">
      <div class="layoutT">
        归属用户
      </div>
      <div class="layoutC">
        <input type="text" class="eui-input" placeholder="搜索关键字，回车搜索">


      </div>

      <!--  <div class="eui-btn-group footBtn footBtn-num3">
          &lt;!&ndash;不需要图标时可以将<i class="eui-icon">图标字符</i>去掉；开发时请删除此注释&ndash;&gt;
          <a href="###" class="eui-btn eui-btn-primary eui-btn-small"><i class="eui-icon">&#xe654;</i>新建</a>
          <a href="###" class="eui-btn eui-btn-primary eui-btn-small"><i class="eui-icon">&#xe642;</i>编辑</a>
          <a href="###" class="eui-btn eui-btn-primary eui-btn-small"><i class="eui-icon">&#xe640;</i>删除</a>
        </div>-->
    </div>
  </div>
  <div class="eui-col-xs2">
    <div class="eui-col-child">
      <div class="layoutT">
        菜单权限
      </div>
      <div class="layoutC">
        <input type="text" class="eui-input" placeholder="搜索关键字，回车搜索">


      </div>
    </div>
  </div>


  <div class="eui-col-xs6">
    <div class="eui-col-child">
      <div class="layoutT">
        角色配置
      </div>
      <div class="layoutC">



      </div>
    </div>
  </div>

</div>



</div>

<!--弹出层信息-->

<div class="eui-hide" id="addRoleTxt">
  <div class="eui-padding10">
    <div class="eui-row eui-layout-body">
      <div class="eui-col-xs9">

        角色列表

      </div>
      <div class="eui-col-xs3">

        已选角色

      </div>
    </div>
  </div>
</div>

<script src="../../../../Scripts/module/eui.js" charset="utf-8"></script>


<script>

  //表单
  eui.use(['jquery','element','form', 'laydate','table'], function(){

    var $ = eui.$
        ,element = eui.element
            ,form = eui.form
            ,layer = eui.layer
            ,laydate = eui.laydate
            ,table = eui.table;



    //操作事件
    var active = {
      //当前菜单编辑
      addRole: function(othis){



        var type = othis.data('type')
                ,text = othis.text();

           var txt=$("#addRoleTxt").html();

        layer.open({
          type: 1
          ,title:"添加角色"
          ,area: ['800px','500px'] //宽度
        //  ,offset:c
          ,id: 'pop'+type //防止重复弹出
          ,content: txt
          ,btn: ['保存','取消']
          ,btnAlign: 'c' //按钮居中
          ,shade: 0.3 //不显示遮罩
          ,maxmin: true
          ,yes: function(){
            layer.closeAll();
            layer.msg("添加成功！")
          },btn2: function(){
            layer.closeAll();
          }
        });
        //如有表单类的，请带上相关的JS预加载，并在以下加上重新渲染

        form.render();


      }

    };

    $('.eui-btn').on('click', function(){
      var othis = $(this), method = othis.data('method');
      active[method] ? active[method].call(this, othis) : '';
    });


    table.render({
      elem: '#tableDemo'
       ,height: "full-240"
      ,even: true //开启隔行背景
      //  ,url: 'dataPage.json' //数据接口

      ,cols: [[
        {type:'checkbox',fixed:'left'}
        ,{field:'id', width:120, title: '角色编号', sort: true}
        ,{field:'name', width:120, title: '角色名称'}  //增加 edit 表示开户了编辑状态
        ,{field:'des', title: '角色描述'}
        ,{field:'creater', width:120, title: '创建人'}
        ,{field:'createTime', width:150, title: '创建时间', sort: true}
        ,{field:'opear', title:'操作', width:80, toolbar: '#barDemo', unresize: true,fixed: 'right'}
      ]]
      ,data: [{
        "id":"JS201801010"
        ,"name":"超级管理员"
        ,"des":"超有系统最高权限"
        ,"creater":"超级管理员"
        ,"createTime":"2018-01-01 21:10"
      },{},
        {},
        {},
        {},
        {},
        {},
        {},
        {},
        {}]
      ,page: true
    });

    //监听表格复选框选择
    table.on('checkbox(tableDemoFilter)', function(obj){
      console.log(obj)
    });

    //监听工具条
    table.on('tool(tableDemoFilter)', function(obj){
      var data = obj.data;
      if(obj.event === 'detail'){
        layer.msg('ID：'+ data.id + ' 的查看操作');
      } else if(obj.event === 'del'){
        layer.confirm('真的删除行么', function(index){
          obj.del();
          layer.close(index);
        });
      } else if(obj.event === 'edit'){
        layer.alert('编辑行：<br>'+ JSON.stringify(data))

      }
    });


  });



</script>
</body>
</html>
